//devin87@qq.com
//build:2017/08/25 11:14:21
!function(e){"use strict";function a(e){e=e||{};var a=e.box,i=t("div","range-slider-bar"),r=t("div","range-progress"),s=t("div","range-slider");i.appendChild(r),i.appendChild(s),a.appendChild(i);var o=this;o._elBar=i,o._elProgress=r,o._elSlider=s,o.min=+e.min||0,o.max=+e.max||100,o.step=+e.step||1,o.value=+e.value||0;var d=o.step+"",v=d.lastIndexOf("."),u=-1!=v?d.length-v-1:0,f=Math.pow(10,u);o.onchange=e.onchange,o.val(o.value),o._drag=new l(function(){var e,a,t,l,d=this;d.ops={ele:s,autoCursor:!1},d.doDown=function(n){e=i.offsetWidth,a=r.offsetWidth,t=n.clientX,l=e-s.offsetWidth},d.doMove=function(i){var d=i.clientX-t,v=a+d;0>v?v=0:v>e&&(v=e);var u=~~(v*(o.max-o.min)/(e*o.step)),h=(o.min*f+o.step*f*u)/f;r.style.width=100*v/e+"%",s.style.left=100*Math.min(v,l)/e+"%",h!=o.value&&(o.value=h,n(o.onchange,o,o.value))}})}var n=Q.fire,t=Q.createEle,i=Q.factory,l=Q.DragX;i(a).extend({val:function(a){var n=this;return a==e?n.value:(a<n.min?a=n.min:a>n.max&&(a=n.max),n.value=a,n._elProgress.style.width=n._elSlider.style.left=100*a/(n.max-n.min)+"%",n)}}),Q.RangeSlider=a}();