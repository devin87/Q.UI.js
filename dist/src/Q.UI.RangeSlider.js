//devin87@qq.com
//build:2017/09/27 15:47:09
!function(e){"use strict";function t(e){e=e||{};var t=e.box,i=n("div","range-slider-bar"),l=n("div","range-progress"),s=n("div","range-slider");i.appendChild(l),i.appendChild(s),t.appendChild(i);var o=this;o._elBar=i,o._elProgress=l,o._elSlider=s,o.min=+e.min||0,o.max=+e.max||100,o.step=+e.step||1,o.value=+e.value||0;var d=o.step+"",f=d.lastIndexOf("."),v=-1!=f?d.length-f-1:0,h=Math.pow(10,v);o.onchange=e.onchange,o.val(o.value),o._drag=new r(function(){var e,t,n,r,d=this;d.ops={ele:s,autoCursor:!1},d.doDown=function(a){e=i.offsetWidth,t=l.offsetWidth,n=a.clientX,r=e-s.offsetWidth},d.doMove=function(i){var d=i.clientX-n,f=t+d;0>f?f=0:f>e&&(f=e);var v=~~(f*(o.max-o.min)/(e*o.step)),u=(o.min*h+o.step*h*v)/h;l.style.width=100*f/e+"%",s.style.left=100*Math.min(f,r)/e+"%",u!=o.value&&(o.value=u,a(o.onchange,o,o.value))}})}var a=Q.fire,n=Q.createEle,i=Q.factory,r=Q.DragX;i(t).extend({val:function(t){var a=this;if(t==e)return a.value;t<a.min?t=a.min:t>a.max&&(t=a.max);var n=a._elProgress,i=a._elSlider,r=a._elBar.offsetWidth;return a.value=t,n.style.width=100*t/(a.max-a.min)+"%",i.style.left=100*Math.min(n.offsetWidth,r-i.offsetWidth)/r+"%",a}}),Q.RangeSlider=t}();