//devin87@qq.com
//build:2020/06/05 19:31:35
!function(){"use strict";var b=Q.async,r=Q.getFirst,d=Q.parseHash,e=$.find;function n(o){var s=this,t=(o=o||{}).context,n=o.tabs||e(".tab-title li.tab,.tabTitle>li",t),a=o.conts||e(".tab-cont>.turn-box,.tabCont>.turn-box",t);s.tabs=n,s.conts=a,s.map_loaded={},s.map_index={},s.ops=o,n.forEach(function(t,n){"1"==t.getAttribute("x-def")&&(o.index=n);var a=r(t);if(a){var e=a.href.split("#")[1]||"",i=d(e).nav;i&&(s.map_index[i]=n)}}),n.forEach(function(t,n){$(t).hasClass("skip")||$(t).click(function(){s.showTab(n)})}),$(a).hide(),setTimeout(function(){var t=o.hash||d().nav.slice(1),n=s.map_index[t];null==n&&(n=o.index||0),s.showTab(n)},20)}Q.factory(n).extend({getTab:function(t){return this.tabs[t]},getCont:function(t){return this.conts[t]},hasLoaded:function(t){return!!this.map_loaded[t]},showTab:function(t){var n=this,a=n.ops,e=n.index;if(t!==e){if(void 0!==e){var i=n.getTab(e),o=n.getCont(e);$(i).removeClass("on"),$(o).hide()}var s=n.getTab(t),r=n.getCont(t),d=n.map_loaded;$(s).addClass("on"),$(r).show();var c={index:n.index=t,tab:s,cont:r,loaded:d[t]};b(n.onchange,100,c),!1!==a.triggerTabChange&&b(window["onTabChange"+(a.name?"_"+a.name:"")],200,c),d[t]||(d[t]=!0)}}}),Q.Tabs=n,Q.setTabs=function(t){return new n(t)}}();