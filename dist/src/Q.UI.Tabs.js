//devin87@qq.com
//build:2020/03/26 15:30:49
!function(){"use strict";var c=Q.async,r=Q.getFirst,d=Q.parseHash,e=$.find;function n(i){var s=this,t=(i=i||{}).context,n=i.tabs||e(".tab-title li.tab,.tabTitle>li",t),a=i.conts||e(".tab-cont>.turn-box,.tabCont>.turn-box",t);s.tabs=n,s.conts=a,s.map_loaded={},s.map_index={},n.forEach(function(t,n){"1"==t.getAttribute("x-def")&&(i.index=n);var a=r(t);if(a){var e=a.href.split("#")[1]||"",o=d(e).nav;o&&(s.map_index[o]=n)}}),n.forEach(function(t,n){$(t).hasClass("skip")||$(t).click(function(){s.showTab(n)})}),$(a).hide(),setTimeout(function(){var t=d().nav.slice(1)||i.hash,n=s.map_index[t];null==n&&(n=i.index||0),s.showTab(n)},20)}Q.factory(n).extend({getTab:function(t){return this.tabs[t]},getCont:function(t){return this.conts[t]},hasLoaded:function(t){return!!this.map_loaded[t]},showTab:function(t){var n=this,a=n.index;if(t!==a){if(void 0!==a){var e=n.getTab(a),o=n.getCont(a);$(e).removeClass("on"),$(o).hide()}var i=n.getTab(t),s=n.getCont(t),r=n.map_loaded;$(i).addClass("on"),$(s).show();var d={index:n.index=t,tab:i,cont:s,loaded:r[t]};c(n.onchange,100,d),!1!==ops.triggerTabChange&&c(window["onTabChange"+(ops.name?"_"+ops.name:"")],200,d),r[t]||(r[t]=!0)}}}),Q.Tabs=n,Q.setTabs=function(t){return new n(t)}}();