//devin87@qq.com
//build:2022/02/14 17:01:54
!function(){"use strict";var p=Q.fire;function e(e){var t=this,n=e.box;t._$box=$(n),t._$ul=$(e.ul,n),t._$control=$(e.boxControl,n),t._$btnPrev=$(e.btnPrev,n),t._$btnNext=$(e.btnNext,n),t.auto=!!e.auto,t.way=e.way||"left",t.speed=e.speed||"slow",t.sleep=e.sleep||5e3,t.step=e.step||1,t.isSlideKeydown=!1!==e.isSlideKeydown,t.isStoppedHover=!1!==e.isStoppedHover,t.clsActive=e.clsActive||"slide-on",t.index=0,t.fns=e.on||{},t.init()}(0,Q.factory)(e).extend({init:function(){var n=this,e=n.fns,t=n._$box,i=n._$ul,s=i.children(),o=n._$control,r=s.length;0<r&&(i.prepend(s.last()[0].cloneNode(!0)),i.append(s.first()[0].cloneNode(!0))),1<r?o.html("<a></a>".repeat(r)):(n._$btnPrev.hide(),n._$btnNext.hide()),(s=i.children()).each(function(e,t){t.style[n.way]=100*(e-1)+"%"}),(o=o.children()).each(function(e){this.x=e}),n._$lis=s,n._$controls=o,n._cssBox=t.prop("className"),n.size=r;s=s.get(1);return $(s).addClass(n.clsActive),n.updateControl(0),p(e.init,n,0,s),n.start(),n.initEvent()},initEvent:function(){var t=this;return 1<t.size&&(t._$control.on("click","a",function(){t.play(this.x)}),t._$btnPrev.click(function(){t.playPrev()}),t._$btnNext.click(function(){t.playNext()})),t.isSlideKeydown&&$(document).keydown(function(e){switch(e.keyCode){case 37:t.playPrev();break;case 39:t.playNext()}}),t.auto&&t.isStoppedHover&&t._$ul.hover(function(){t.stop()},function(){t.start()}),t},updateControl:function(e){var t=this,n=t._cssBox||"";return t._$box.prop("className",n+(n?" ":"")+"b"+(e+1)),t._$controls.prop("className","").eq(e).prop("className",t.clsActive),t},play:function(e){var t=this,n=t.fns,i=t.clsActive,s=t._$ul,o=t._$lis,r=t.size;if(r<=1)return t;t.stop();var a=e;r<=a?a=0:a<0&&(a=r-1);var l=o.get(e+1);o.removeClass(i),$(l).addClass(i),t.updateControl(a),p(n.beforeSlide,t,a,l),p(t.onPlay,t,a);var c={};return c[t.way]=100*-e+"%",s.animate(c,t.speed,function(){e!=r&&-1!=e||(o.removeClass(i).eq(a+1).addClass(i),s.css(t.way,100*-a+"%"),t.index=a,p(t.onPlayed,t,a)),p(n.slide,t,a,l),t.start()}),t.index=e,t},playPrev:function(){return this.play(this.index-this.step)},playNext:function(){return this.play(this.index+this.step)},start:function(){var e=this;return e.stop(),!e.auto||e.size<=1||(e.timer=setTimeout(function(){e.playNext()},e.sleep)),e},stop:function(){var e=this;return e.timer&&(clearTimeout(e.timer),e.timer=void 0),e}}),Q.Marquee=e}();