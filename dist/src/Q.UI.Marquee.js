//devin87@qq.com
//build:2020/07/23 15:31:09
!function(){"use strict";var l=Q.fire;function e(e){var t=this,n=e.box;t._$box=$(n),t._$ul=$(e.ul,n),t._$control=$(e.boxControl,n),t._$btnPrev=$(e.btnPrev,n),t._$btnNext=$(e.btnNext,n),t.auto=!!e.auto,t.way=e.way||"left",t.speed=e.speed||"slow",t.sleep=e.sleep||5e3,t.step=e.step||1,t.isSlideKeydown=!1!==e.isSlideKeydown,t.isStoppedHover=!1!==e.isStoppedHover,t.clsActive="slide-on",t.index=0,t.init()}(0,Q.factory)(e).extend({init:function(){var e,n=this,t=n._$box,i=n._$ul,s=i.children(),o=n._$control,r=s.size();return 0<r&&(i.prepend(s.last()[0].cloneNode(!0)),i.append(s.first()[0].cloneNode(!0))),1<r?o.html("<a></a>".repeat(r)):(n._$btnPrev.hide(),n._$btnNext.hide()),(s=i.children()).each(function(e,t){t.style[n.way]=100*(e-1)+"%"}),(e=o.children()).each(function(e){this.x=e}),n._$lis=s,n._$controls=e,n._cssBox=t.prop("className"),n.size=r,s.eq(1).addClass(n.clsActive),n.updateControl(0),n.auto&&n.start(),n.initEvent()},initEvent:function(){var t=this;return 1<t.size&&(t._$control.on("click","a",function(){t.play(this.x)}),t._$btnPrev.click(function(){t.playPrev()}),t._$btnNext.click(function(){t.playNext()})),t.isSlideKeydown&&$(document).keydown(function(e){switch(e.keyCode){case 37:t.playPrev();break;case 39:t.playNext()}}),t.auto&&t.isStoppedHover&&t._$ul.hover(function(){t.stop()},function(){t.start()}),t},updateControl:function(e){var t=this,n=t._cssBox||"";return t._$box.prop("className",n+(n?" ":"")+"b"+(e+1)),t._$controls.prop("className","").eq(e).prop("className",t.clsActive),t},play:function(e){var t=this,n=t.clsActive,i=t._$ul,s=t._$lis,o=t.size;if(o<=1)return t;var r=e;o<=r?r=0:r<0&&(r=o-1),s.removeClass(n).eq(e+1).addClass(n),t.updateControl(r),l(t.onPlay,t,r);var a={};return a[t.way]=100*-e+"%",i.animate(a,t.speed,function(){e!=o&&-1!=e||(s.removeClass(n).eq(r+1).addClass(n),i.css(t.way,100*-r+"%"),t.index=r,l(t.onPlayed,t,r))}),t.index=e,t},playPrev:function(){return this.play(this.index-this.step)},playNext:function(){return this.play(this.index+this.step)},start:function(){var e=this;return e.stop(),e.size<=1||(e.timer=setTimeout(function(){e.playNext(),e.start()},e.sleep)),e},stop:function(){var e=this;return e.timer&&(clearTimeout(e.timer),e.timer=void 0),e}}),Q.Marquee=e}();