//devin87@qq.com
//build:2018/01/25 09:36:49
!function(t){"use strict";function e(e){if(e==t)return""+e;if("object"!=typeof e&&"function"!=typeof e)return typeof e;if(D){if("number"==typeof e.nodeType)return"node";if("number"==typeof e.length){if(!L&&e.callee)return"arguments";if(e==e.window)return"window";if(e.item)return"list"}}return H.call(e).slice(8,-1).toLowerCase()}function n(t){return"[object Function]"===H.call(t)}function i(t){return t&&"[object Object]"===H.call(t)}function r(t){return"[object Array]"===H.call(t)}function s(e,n){return e!==t?e:n}function o(e,n,i,r){if("number"!=typeof e)return!1;if(n!=t&&e<n)return!1;if(i!=t&&e>i)return!1;if(r){if(((e+"").split(".")[1]||"").length>r)return!1}return!0}function a(t,e,n){return o(t,e,n)&&t===Math.floor(t)}function u(t){return a(t,1)}function c(t,e){for(var n=[],i=e||0,r=t.length;i<r;i++)n.push(t[i]);return n}function l(e,n,i){if(!e)return[];i=!1!==i;for(var r,s=e.length,o=0,a=[];o<s;o++)((r=e[o])&&r[n]!=t||!i)&&a.push(r[n]);return a}function h(t,e,n){if(t&&t.prototype){var i=t.prototype;if("string"==typeof e)i[n]=i[e];else for(var r in e)O.call(e,r)&&O.call(i,r)&&(i[e[r]]=i[r]);return t}}function f(e,n,i){if(!e||!n)return e;for(var r in n)r!=t&&O.call(n,r)&&(i||e[r]===t)&&(e[r]=n[r]);return e}function d(t){if(!t)return t;switch(typeof t){case"string":case"number":case"boolean":return t}var e;if(r(t)){e=[];for(var n=0,s=t.length;n<s;n++)e[n]=d(t[n])}else if(i(t)){e={};for(var o in t)O.call(t,o)&&(e[o]=d(t[o]))}return e}function p(e,i,r){if(e){for(var s={},o=n(i),a=i!==t,u=0,c=e.length;u<c;u++){var l,h=e[u];if(h!=t){if(o){var f=i.call(e,h,u);if(!f)continue;h=f[0],l=f[1]}else l=a?i:u;s[r?h.toLowerCase():h]=l}}return s}}function v(e,n,i){if(e){var r={},s=!1;!0===i&&(s=i,i=t);for(var o=0,a=e.length;o<a;o++){var u=e[o];u&&"object"==typeof u&&(s&&(u.index=o),r[u[n]]=i?u[i]:u)}return r}}function m(t,e,n){n?t.sort(function(t,n){return-(t[e]||"").localeCompare(n[e]||"")}):t.sort(function(t,n){return(t[e]||"").localeCompare(n[e]||"")})}function g(t,e,n){n?t.sort(function(t,n){return n[e]-t[e]}):t.sort(function(t,n){return t[e]-n[e]})}function x(t,e,n){t.sort(function(t,i){var r=t[e],s=i[e];if(r==s)return 0;var o=Date.from(r),a=Date.from(s),u=0;return o!=U&&a!=U?u=o-a:o==U&&a!=U?u=-1:o!=U&&a==U&&(u=1),n?-u:u})}function b(t){for(var e=t.split("."),n=e.length,i=0,r=0;i<n;)r+=z[i]+e[i],i++;return r||0}function y(t,e,n,i){switch(e){case 1:g(t,n,i);break;case 2:x(t,n,i);break;case 3:!function(t,e,n){t.sort(function(t,i){var r=t[e]||"",s=i[e]||"";if(r==s)return 0;var o=b(r)-b(s);return n?-o:o})}(t,n,i);break;default:m(t,n,i)}}function w(e,n,i,r){if(e!=t)return setTimeout(function(){e.apply(n,r||[])},s(i,20))}function _(e,i){return n(e)&&w(e,t,i,N.call(arguments,2))}function Q(t){var e=+new Date,n=t.timeout,i=n&&e-t.startTime>n;if(!i&&!t.check(t))return t.count++,_(Q,t.sleep,t);t.endTime=e,t.callback(t,i)}function k(t,e,n){for(var i=0,r=t.length;i<r;i++)i in t&&e.call(n,t[i],i,t)}function C(t,e){if(e&&n(e)){var i=function(){};i.prototype=e.prototype,t.prototype=new i}var r=t;return r.constructor=C,r.prototype.constructor=r,r.extend=function(t,e){f(this.prototype,t,e)},r.alias=function(t,e){h(this,t,e)},r}function S(t,e){switch(t){case"d":case"day":return e/864e5;case"h":case"hour":return e/36e5;case"m":case"minute":return e/6e4;case"s":case"second":return e/1e3}return e}function M(t,e){var n=this;n.map={},n.bind=e,t.forEach(function(t){n.map[t]=[]})}function I(t,e,n){t=+t;for(var i=0,r="number"==typeof(e=e||1024),s=1,o=u(n)?n:r?100:e.length;t>=s&&i<o;)s*=r?e:e[i],i++;return i&&t<s&&(i--,s/=r?e:e[i]),{value:i?t/s:t,level:i}}function j(t){try{return decodeURIComponent(t)}catch(e){return t}}function E(e){if(!e)return"";if("string"==typeof e)return e;var n=[];return Object.forEach(e,function(e,i){"function"!=typeof i&&n.push(Z(e)+"="+(i!=t?Z(i):""))}),n.join("&")}function T(t){if(!t)return{};if("?"==t.charAt(0)&&(t=t.slice(1)),!t)return{};for(var e=t.split("&"),n={},i=0,r=e.length;i<r;i++)if(e[i]){var s=e[i].split("="),o=s[0],a=s[1];o&&(n[j(o)]=a?j(a):"")}return n}var $="object"==typeof global?global:window,H=Object.prototype.toString,O=Object.prototype.hasOwnProperty,N=Array.prototype.slice,L=function(t){return arguments[0]=1,t!=arguments[0]}(0),D=$==$.window,A=function(){try{return N.call(document.documentElement.childNodes),function(t,e){return N.call(t,e)}}catch(t){return c}}(),z=[16777216,65536,256,0];k([String,Array,Number,Boolean,Function,Date,RegExp],C),f(Object,{create:function(t){var e=function(){};return e.prototype=t,new e},forEach:function(t,e,n){for(var i in t)O.call(t,i)&&e.call(n,i,t[i],t)},keys:function(t){var e=[];for(var n in t)O.call(t,n)&&e.push(n);return e},values:function(t){var e=[];for(var n in t)O.call(t,n)&&e.push(t[n]);return e},size:function(t){var e=0;for(var n in t)O.call(t,n)&&e++;return e},hasItem:function(t){for(var e in t)if(O.call(t,e))return!0;return!1}}),String.extend({trim:function(){for(var t=""+this,e=/\s/,n=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--n)););return t.slice(0,n+1)},repeat:function(t){for(var e=""+this,n="";t>0&&(t%2==1&&(n+=e),1!=t);)e+=e,t>>=1;return n},startsWith:function(t,e){return(""+this).substr(e||0,t.length)===t},endsWith:function(e,n){var i=""+this,r=n==t||n>i.length?i.length:n;return i.substr(r-e.length,e.length)===e},contains:function(t,e){return-1!=this.indexOf(t,e)}}),String.extend({drop:function(t,e){var n="string"==typeof t?new RegExp(t,e||"g"):t;return this.replace(n,"")},reverse:function(){return this.split("").reverse().join("")},htmlEncode:function(){return this.replace(/\x26/g,"&amp;").replace(/\x3c/g,"&lt;").replace(/\x3e/g,"&gt;").replace(/\r?\n|\r/g,"<br/>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\s/g,"&nbsp;")},htmlDecode:function(){return this.replace(/<br[^>]*>/gi,"\n").replace(/<script[^>]*>([^~]|~)+?<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&amp;/g,"&")}}),Number.extend({format:function(t,e){var n=this.toString(e||10),i=t-n.length;return(i>0?"0".repeat(i):"")+n}}),Array.extend({forEach:function(t,e){for(var n=0,i=this.length;n<i;n++)n in this&&t.call(e,this[n],n,this)},map:function(t,e){for(var n=[],i=0,r=this.length;i<r;i++)i in this&&n.push(t.call(e,this[i],i,this));return n},indexOf:function(e,n){var i,r=this.length;if(0==r)return-1;for(n==t?i=0:(i=Number(n))<0&&(i=Math.max(i+r,0));i<r;i++)if(i in this&&this[i]===e)return i;return-1},lastIndexOf:function(e,n){var i,r=this.length;if(0==r)return-1;for(i=n==t?r-1:(i=Number(n))>=0?Math.min(i,r-1):i+r;i>=0;i--)if(i in this&&this[i]===e)return i;return-1},filter:function(t,e){for(var n=[],i=0,r=this.length;i<r;i++)if(i in this){var s=this[i];t.call(e,s,i,this)&&n.push(s)}return n},every:function(t,e){for(var n=0,i=this.length;n<i;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0},some:function(t,e){for(var n=0,i=this.length;n<i;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}}),Array.extend({contains:function(t,e){return-1!==this.indexOf(t,e)},get:function(e){return e>=0?this[e]:(e+=this.length)>=0?this[e]:t},first:function(){return this.get(0)},last:function(){return this.get(-1)},del:function(t,e){return this.splice(t,e||1)},unique:function(t){for(var e=[],n={},i=0,r=this.length;i<r;i++){var s=this[i],o=t?s[t]:s,a=typeof o+o;n[a]||(e.push(s),n[a]=!0)}return e},clean:function(){for(var e=[],n=0,i=this.length;n<i;n++)this[n]!=t&&e.push(this[n]);return e},items:function(t,e){return l(this,t,e)},toMap:function(t,e){return p(this,t,e)},toObjectMap:function(t,e){return v(this,t,e)}}),f(Array,{forEach:k,isArray:r});var P=[/y{2,4}/,/M{1,2}/,/d{1,2}/,/H{1,2}|h{1,2}/,/m{1,2}/,/s{1,2}/,/S/,/W/,/AP/],W=(new Date).getTimezoneOffset(),F="日一二三四五六".split(""),B=["上午","下午"],U=new Date(""),R=["getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","getHours"];Date.extend({isValid:function(){return!isNaN(this.valueOf())},format:function(t,e){if(e=e||{},!this.isValid())return e.invalid||"--";for(var n=e.months,i=e.weeks||F,r=e.aps||B,s=P.length,o=0;o<s;o++){var a=P[o],u=this[R[o]]();t=t.replace(a,function(t){var e=t.length;if(8==o)return r[u>12?1:0];if(7==o)return i[u];if(1==o){if(n)return n[u];u++}return 3==o&&"h"==t.charAt(0)&&u>12&&(u-=12),1==e?""+u:("00"+u).slice(-e)})}return t},add:function(t,e){switch(t){case"y":case"year":this.setFullYear(this.getFullYear()+e);break;case"M":case"month":this.setMonth(this.getMonth()+e);break;case"d":case"day":this.setDate(this.getDate()+e);break;case"h":case"hour":this.setHours(this.getHours()+e);break;case"m":case"minute":this.setMinutes(this.getMinutes()+e);break;case"s":case"second":this.setSeconds(this.getSeconds()+e);break;case"ms":case"millisecond":this.setMilliseconds(this.getMilliseconds()+e)}return this},diff:function(t,e){return S(t,this-e)},fromUTC:function(){return this.setMinutes(this.getMinutes()-W),this},toUTC:function(){return this.setMinutes(this.getMinutes()+W),this},clone:function(){return new Date(this.getTime())}}),f(Date,{now:function(){return+new Date}}),f(Date,{from:function(t){if("number"==typeof t)return new Date(t);if("string"==typeof t){if(!t)return U;var e,n,i="Z"==t.slice(t.length-1),r=t.replace(/[-\u5e74\u6708]/g,"/").replace(/[\u65f6\u5206\u70b9]/g,":").replace("T"," ").replace(/[Z\u65e5\u53f7\u79d2]/g,""),s=r.lastIndexOf(".");if(-1!=s&&(n=+r.slice(s+1,s+4),r=r.slice(0,s)),!(e=new Date(r)).isValid()&&r.indexOf("/")>0){var o=r.split(" "),a=(o[0]+(o[0].endsWith("/")?"":"/")+"1/1").split("/").slice(0,3).join("/");e=new Date(a+" "+(o[1]||""))}return n&&e.setMilliseconds(n),e.isValid()?i?e.fromUTC():e:U}return"[object Date]"==H.call(t)?t:U},parts:function(t){var e=0,n=0,i=0;return(e=Math.floor(t/86400))>0&&(t-=86400*e),(n=Math.floor(t/3600))>0&&(t-=3600*n),(i=Math.floor(t/60))>0&&(t-=60*i),{days:e,hours:n,minutes:i,mintues:i,seconds:t}},total:S}),M.prototype={constructor:M,add:function(t,e){var r=this.map;return"string"==typeof t?n(e)&&r[t].push(e):i(t)&&Object.forEach(t,function(t,e){r[t]&&n(e)&&r[t].push(e)}),this},remove:function(e,n){if(n!=t)for(var i=this.map[e],r=i.length;--r>=0;)i[r]==n&&(i=i.splice(r,1));else this.map[e]=[];return this},trigger:function(t,e){for(var n=this.map[t],i=n.length,r=0;r<i&&!1!==n[r].apply(this.bind,[].concat(e));r++);return this}};var X={get:function(t){var e=t.replace(/\\(?!d|B|w|W|s|S)/g,"\\\\").replace(/\./g,"\\.").replace(/[\[\]\(\)]/g,"\\$&").replace(/\*/,".*");return new RegExp(e,"i")},search:function(e,n,i,r){if(!e||e.length<=0)return[];if(!i)return e.forEach(function(e){e.__match=t}),e;var s=X.get(i);return e.filter(function(e){var i=!1,o={};return n.forEach(function(t){var n=e[t];n&&s.test(n)&&(r&&(o[t]=(n+"").replace(s,"`#`{$&}`#`")),i=!0)}),e.__match=i&&r?o:t,i})},read:function(t,e){var n=t.__match;return n&&n[e]?n[e].htmlEncode().replace(/`#`{(.+?)}`#`/g,function(t,e){return'<span class="light">'+e+"</span>"}):((t[e]||"")+"").htmlEncode()}},q=/^[\w\.-]+@[\w-]+(\.[\w-]+)*\.[\w-]+$/,Y=/^(1\d{10}|(\d{3,4}-?)?\d{7,8}(-\d{1,4})?)$/,J=/^1\d{10}$/,K=/[a-fA-F0-9]{2}([:-][a-fA-F0-9]{2}){5}/,G=/^https?:\/\//i,V=["B","KB","MB","GB","TB","PB","EB"],Z=encodeURIComponent,tt=$.location||{protocol:"",hash:"",pathname:""},et={version:"1.2.2",G:$,strict:L,type:e,isFunc:n,isObject:i,isArray:Array.isArray,isArrayLike:function(t){var n=e(t);return"array"==n||"list"==n||"arguments"==n},def:s,isNum:o,isUNum:function(t){return"number"==typeof t&&t>0},isInt:a,isUInt:u,checkNum:function(t,e,n,i){return null!=t&&""!=t&&!isNaN(t)&&o(+t,e,n,i)},checkInt:function(t,e,n){return null!=t&&""!=t&&!isNaN(t)&&a(+t,e,n)},toUpper:function(t,e){return"string"==typeof t?t.toUpperCase():e},toLower:function(t,e){return"string"==typeof t?t.toLowerCase():e},toArray:c,makeArray:function(n,i){if(n==t)return[];switch(e(n)){case"array":return i?n.slice(i):n;case"list":return A(n,i);case"arguments":return N.call(n,i)}return[n]},arr:function(e,i,r){n(i)&&(r=i,i=0),i==t&&(i=0),r==t&&(r=1);var s=[],o=0;if(n(r))for(;o<e;)i=r(i,o,s),s.push(i),o++;else for(;o<e;)s.push(i),i+=r,o++;return s},vals:l,alias:h,extend:f,clone:d,toMap:p,toObjectMap:v,sortNumber:g,sortString:m,sortDate:x,sort:y,proxy:function(t,e){if(i(t)){var n=e;t=(e=t)[n]}return function(){t.apply(e,arguments)}},fire:function(e,n){if(e!=t)return e.apply(n,N.call(arguments,2))},delay:w,async:_,waitFor:function(t,e,n,i){Q({check:t,callback:e,timeout:n,sleep:i,count:0,startTime:+new Date})},factory:C,isIP:function(t){var e=t.split("."),n=e.length;if(4!=n)return!1;for(var i=0;i<n;i++){var r=+e[i];if(!e[i]||isNaN(r)||r<0||r>255)return!1}return!0},isMail:function(t){return q.test(t)},isPhone:function(t){return Y.test(t)},isTel:function(t){return J.test(t)},isMAC:function(t){return K.test(t)},isHttpURL:function(t){return G.test(t)},parseLevel:I,formatSize:function(e,n){if(n=!0===n?{all:!0}:n||{},isNaN(e)||e==t||e<0){var i=n.error||"--";return n.all?{text:i}:i}var r=I(e,n.steps,n.limit),o=r.value.toFixed(s(n.digit,2));return!1!==n.trim&&-1!=o.lastIndexOf(".")&&(o=o.replace(/\.?0+$/,"")),r.text=o+(n.join||"")+(n.units||V)[r.level+(n.start||0)],n.all?r:r.text},parseUrlParams:T,joinUrlParams:E,param:function(e){if(e!=t)return"string"==typeof e?T(e):E(e)},join:function(t){for(var e=[],n=arguments,i=1,r=n.length;i<r;i++){var s=n[i];s&&e.push(E(s))}var o=t.indexOf("#"),a="";-1!=o&&(a=t.slice(o),t=t.slice(0,o)),t=t.replace(/\?&$|\?$|\&$/,"");var u=e.join("&");return u&&(t+=(t.contains("?")?"&":"?")+u),t+a},parseUrl:function(t){var e=t.match(/(^[^:]*:)?\/\/([^:]+)(:\d+)?(\/[^?]+)?(\?[^#]*)?(#.*)?$/),n=e[1]||tt.protocol,i=e[2],r=(e[3]||"").slice(1),s=i+":"+r,o=e[4]||"/",a=e[5]||"",u=e[6]||"";return{href:n+"//"+s+o+a+u,protocol:n,host:s,hostname:i,port:r,pathname:o,search:a,hash:u}},parseHash:function(t){t||(t=tt.hash);var e,n=t;if(t){var i=t.indexOf("!/");-1!=i&&(n=t.slice(0,i),e=t.slice(i+2))}return{nav:n,param:e}},getPageName:function(t,e){var n=(t||tt.pathname).replace(/\\/g,"/"),i=n.lastIndexOf("/")+1;if(e)return n.slice(i);var r=n.indexOf("?",i);return-1==r&&(r=n.indexOf("#",i)),-1!=r?n.slice(i,r):n.slice(i)},Listener:M,SE:X};$.Q=et,"object"==typeof module&&"object"==typeof module.exports&&(module.exports=et)}(),function(t){"use strict";function e(t){var e=this,n=(t=t||{}).tasks;e._listener=new d(p,e),e.auto=!1!==t.auto,e.workerThread=t.workerThread||1,e.timeout=t.timeout,"auto"==t.rtype&&(e.rtype=l(n)),p.forEach(function(n){var i=t[n];i&&e.on(n,i)}),t.inject&&(e.inject=t.inject),t.process&&(e.process=t.process),t.processResult&&(e.processResult=t.processResult),e.ops=t,e.reset(),e.addList(n)}function n(n,i,s,o){return a(i)&&(s=i,i=t),new e(r(s||{},{rtype:"auto",workerThread:o,tasks:n,complete:i}))}var i=Q.delay,r=Q.extend,s=Q.fire,o=Q.isFunc,a=Q.isObject,u=Q.isArrayLike,c=Q.isUInt,l=Q.type,h=Q.makeArray,f=Q.factory,d=Q.Listener,p=["add","start","end","stop","complete"];f(e).extend({on:function(t,e){return this._listener.add(t,e),this},trigger:function(t,e){return this._listener.trigger(t,e),this},reset:function(){return this.tasks=[],this.index=0,this.workerIdle=this.workerThread,this},_add:function(e,n,i){var r={args:h(e),state:0};return n!=t&&(r.key=n),this.tasks.push(r),this.trigger("add",r),i&&this.start(),this},add:function(){return this._add(arguments,t,this.auto)},addList:function(t){var e=this;return t?(u(t)?Array.forEach(t,function(t,n){e._add(t,n,!1)}):Object.forEach(t,function(t,n){e._add(n,t,!1)}),e.auto&&e.start(),e):e},size:function(e){return e!=t?this.tasks.filter(function(t){return t.state==e}).length:this.tasks.length},_run:function(){var t=this;if(t.stoped||t.workerIdle<=0||t.index>=t.tasks.length)return t;var e=t.tasks[t.index++],n=t.timeout;return t.workerIdle--,t.trigger("start",e),0!=e.state?t.ok(e):(e.state=1,c(n)&&(e._timer=i(t.ok,t,n,[e,-1])),t.process(e,function(){t.ok(e,2)}),t.workerIdle?t._run():t)},start:function(){return this.stoped=!1,this.auto||(this.auto=!0),i(this._run,this,10),this},stop:function(t){return this.stoped=!0,c(t)&&i(this.start,this,t),this},inject:function(e,n){var i=this.ops,r=i.injectIndex||0,s=i.injectCallback,a=e.args.slice(0);!i.exec&&o(a[0])&&r++;var u,c=a[r],l=function(t){e.result=t,o(u)&&u.apply(this,arguments),n()};if(s!=t){c||(c={});var h=c.__qcallback;u=h||c[s],!h&&u&&(c.__qcallback=u),c[s]=l,a[r]=c}else u=c,a[r]=l;return a},process:function(t,n){var i=this.ops,r=i.exec,s=i.bind,o=this.inject(t,n),a=o[0];a instanceof e?a.start():r?r.apply(s,o):a.apply(s,o.slice(1))},processResult:function(t){switch(this.rtype){case"array":case"list":case"arguments":return t.items("result");case"object":return t.toObjectMap("key","result")}return[t]},isCompleted:function(t){return(t||this.tasks).every(function(t){return 2==t.state||-1==t.state})},ok:function(e,n){return 1!=e.state?this._run():(++this.workerIdle>this.workerThread&&(this.workerIdle=this.workerThread),e._timer&&clearTimeout(e._timer),n!=t&&(e.state=n),this.trigger("end",e),this.stoped?this.isCompleted(this.tasks.slice(0,this.index))&&this.trigger("stop",this.processResult(this.tasks)):this.isCompleted()&&(this.trigger("complete",this.processResult(this.tasks)),s(this.complete,this)),this._run())}}),e.TASK={TIMEDOUT:-1,READY:0,PROCESSING:1,OK:2},r(Q,{Queue:e,series:n,parallel:function(t,e,i){return n(t,e,i,u(t)?t.length:Object.size(t))},ajaxQueue:function(t){return t=t||{},new e(r(t,{exec:t.ajax||Q.ajax||$.ajax,injectIndex:1,injectCallback:"complete"}))}})}(),function(t){"use strict";function e(e,n,i,r){var s=b(e),o=s.length;if(!(o<=0)){i=i||{},v(n)&&(n=(i=n).complete);var a=i.init||r,u=0,c=function(t,e){j[t]!=$&&(j[t]=$,i.removed&&M.removeChild(e),w(i.after,e,t,e),l(t))},l=function(e){++u>=o&&w(n,t,e)};s.forEach(function(t){if(!1===i.cache&&(t=join_url(t,"_="+ ++E)),!1!==i.once&&j[t])return j[t]==$?l(t):_(function(){return j[t]==$},function(){l(t)});var e=a(t);j[t]=T,e.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||c(t,this)},e.onload=function(){c(t,this)},w(i.before,e,t,e),M.insertBefore(e,M.lastChild)}),s=null}}function n(t){return L[t]||t}function i(e){switch(x(e)){case"string":return'"'+e.replace(/[\x00-\x1f\\"]/g,n)+'"';case"list":case"array":for(var r=[],s=0,o=e.length;s<o;s++)"function"!=typeof e[s]&&r.push(e[s]!=t?i(e[s]):D);return"["+r+"]";case"object":case"arguments":r=[];for(var a in e)N.call(e,a)&&"function"!=typeof e[a]&&r.push('"'+a+'":'+i(e[a]));return"{"+r.toString()+"}";case"boolean":return e+"";case"number":return isFinite(e)?e+"":D;case"date":return isFinite(e.valueOf())?e.toUTC().format("yyyy-MM-ddThh:mm:ss.SZ"):D;case"function":return;default:return"object"==typeof e?"{}":D}}function r(t,e){if(!1!==e&&!/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))throw new Error("JSON SyntaxError");try{return new Function("return "+t)()}catch(t){}}function s(t){return 0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),decode_url_param(t.replace(/\+/g," "))}function o(e){for(var n=e?t:{},i=C.cookie?C.cookie.split("; "):[],r=0,o=i.length;r<o;r++){var a=i[r].split("="),u=decode_url_param(a[0]),c=a.slice(1).join("=");if(e&&e===u){n=s(c);break}e||(c=s(c))===t||(n[u]=c)}return n}function a(t,e,n){var i=(n=n||{}).expires;"number"==typeof i&&(i=(new Date).add("d",i)),C.cookie=[encode_url_param(t),"=",encode_url_param(e),i?"; expires="+i.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}function u(e){o(e)!=t&&a(e,"",{expires:-1})}function c(){for(var t=C.cookie?C.cookie.split("; "):[],e=0,n=t.length;e<n;e++){var i=t[e].split("=");u(decode_url_param(i[0]))}}function l(e,n){var i="sessionStorage"!=e;if(i||location.host){var r=e,s=k[r],l=s&&"getItem"in s?"storage":null;if(!l){var h=C.documentElement;try{h.addBehavior("#default#userdata"),i&&(h.expires=(new Date).add("d",7).toUTCString()),r=location.hostname||"local",h.save(r),(s={getItem:function(t){return h.load(r),h.getAttribute(t)},setItem:function(t,e){h.setAttribute(t,e),h.save(r)},removeItem:function(t){h.removeAttribute(t),h.save(r)},clear:function(){h.load(r);var t=(new Date).add("d",-1);h.expires=t.toUTCString(),h.save(r)}}).getItem("_Q_")===t&&(s.setItem("_Q_",1),s.removeItem("_Q_")),l="userdata"}catch(t){}!l&&n&&(s={getItem:o,setItem:i?function(t,e){a(t,e,{expires:7})}:a,removeItem:u,clear:c},l="cookie")}var f=!!l;return{support:f,adapter:l,get:function(e,n){if(f)try{var i=s.getItem(e);return n?i?JSON.parse(i):null:i}catch(t){}return t},set:function(t,e){if(f)try{return s.setItem(t,"string"==typeof e?e:JSON.stringify(e)),!0}catch(t){}return!1},remove:function(t){if(f)try{return s.removeItem(t),!0}catch(t){}return!1},clear:function(){if(f)try{return s.clear(),!0}catch(t){}return!1}}}}function h(){Q.body=f=C.body,Q.root=d=I?f:S}var f,d,p,v=Q.isObject,m=Q.isFunc,g=Q.isHttpURL,x=Q.type,b=Q.makeArray,y=Q.extend,w=Q.fire,_=Q.waitFor,k=Q.G,C=k.document,S=C.documentElement,M=C.head||C.getElementsByTagName("head")[0],I="BackCompat"==C.compatMode,j={},E=Date.now(),T=1,$=2,H="unknown",O={};k.ActiveXObject||k.msIndexedDB?(O.ie=p=C.documentMode||(k.XMLHttpRequest?7:6),O["ie"+(p<6?6:p)]=!0,H="trident"):k.opera?H="opera":k.mozInnerScreenX!=t||m(C.getBoxObjectFor)?H="gecko":(k.webkitMediaStream||k.WebKitPoint)&&(H="webkit"),O[H]=!0,y(Q,O),O.name=H;var N=Object.prototype.hasOwnProperty,L={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},D="null";k.JSON||(k.JSON={stringify:i,parse:r}),JSON.encode=i,JSON.decode=r;var A={get:o,set:a,remove:u,clear:c},z={getSize:function(){return{width:d.clientWidth,height:d.clientHeight}},getWidth:function(){return d.clientWidth},getHeight:function(){return d.clientHeight},getScrollWidth:function(){return Math.max(S.scrollWidth,f.scrollWidth)},getScrollHeight:function(){return Math.max(S.scrollHeight,f.scrollHeight)},getScrollLeft:function(){return S.scrollLeft||f.scrollLeft},getScrollTop:function(){return S.scrollTop||f.scrollTop}};y(Q,{html:S,head:M,quirk:I,ready:function(t){_(function(){return Q.root},t)},loadJS:function(t,n,i){e(t,n,i,function(t){var e=C.createElement("script");return e.type="text/javascript",e.src=t,e})},loadCSS:function(t,n,i){e(t,n,i,function(t){var e=C.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,e})},engine:O,isInputKey:function(t){return t>=65&&t<=90||32==t||229==t||t>=48&&t<=57||t>=96&&t<=111&&108!=t||t>=186&&t<=192||t>=219&&t<=222||8==t||46==t},isSameHost:function(e){if(!g(e))return!0;var n=RegExp.lastMatch.length,i=e.indexOf("/",n);return e.slice(0,-1!=i?i:t).toLowerCase()==(location.protocol+"//"+location.host).toLowerCase()},clearSelection:function(){if(k.getSelection){var t=getSelection();t.removeAllRanges?t.removeAllRanges():t.empty&&t.empty()}else C.selection&&C.selection.empty()},cookie:A,store:new l("localStorage",!0),session:new l("sessionStorage",!0),view:z,Storage:l}),C.body?h():_(function(){return C.body},h),k.request=Q.parseUrlParams(location.search)}(),function(t){"use strict";var e=Q.fire;Q.setTimer=function(n){var i=n.box,r=n.process,s=n.pad?2:1,o=n.time,a=n.step||1,u=n.sleep||1e3,c=+n.max||0,l=n.join||"",h=n.units||["天","小时","分","秒"];if((i||r)&&o!=t&&!isNaN(o)){var f,d=+o,p=function(t,e){return t>9||1==e?t:"0"+t},v=function(){if((d+=a)<c)return e(n.over);f&&clearTimeout(f);var o=Date.parts(d),m=o.days,g=o.hours,x=o.mintues,b=o.seconds,y=m+h[0]+l+p(g,s)+h[1]+l+p(x,s)+h[2]+l+p(b,s)+h[3],w=e(r,t,d,y,m,g,x,b);!1!==w&&($(i).html("string"==typeof w?w:y),f=setTimeout(v,u))};return v(),{start:v,stop:function(){f&&clearTimeout(f)}}}}}(),function(t){"use strict";function e(t,e,n){var i=new jQuery.Event(t);!1!==e&&i.preventDefault(),!1!==n&&i.stopPropagation()}function n(t,e,n,i,r,s){var o=i;r&&(o=function(r){i.call(this,r),$(t).off(e,n,o)}),$(t).on(e,n,o),r||s.push([t,e,o,n])}function i(e,i,s,o,a){"string"==typeof i?(i=i.split(" "),l(s)&&(a=a||o,o=s,s=t)):(!0!==s&&!0!==o||(a=!0),!0===s&&(s=t));var u=[];return p(e).forEach(function(t){f(i)?p(i).forEach(function(e){n(t,e,s,o,a,u)}):h(i)&&Object.forEach(i,function(e,i){n(t,e,s,i,a,u)})}),{es:u,off:function(t,e){r(u,t,e)}}}function r(t,e,n){t.forEach(function(t){$(t[0]).off(t[1],t[3],t[2])})}function s(t,e,n){var i=$(t);t&&i.css(e)!=n&&i.css(e,n)}function o(t,e,n){var i=document.createElement(t);return e&&(i.className=e),n&&(i.innerHTML=n),i}function a(t,e){var n=t.style.cssText;n&&(t.style.cssText=n.drop(e+"(-[^:]+)?\\s*:[^;]*;?","gi").trim())}function u(t,e,n,i){for(var t=t[n||e],r=[];t;){if(1==t.nodeType){if(!i)return t;r.push(t)}t=t[e]}return i?r:null}var c=Q.G,l=Q.isFunc,h=Q.isObject,f=Q.isArrayLike,d=Q.extend,p=Q.makeArray,v=Q.view;jQuery.Event.prototype.stop=function(){e(this)};var m=!!document.addEventListener;Q.event={fix:function(t){return new jQuery.Event(t)},stop:e,trigger:function(t,e){$(t).trigger(e)},addEvent:function(t,e,n){m?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},removeEvent:function(t,e,n){m?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},add:i,removeEs:r,one:function(t,e,n,r){return i(t,e,n,handler,!0)}};var g={left:0,top:0};d(Q,{camelCase:$.camelCase,attr:function(t,e,n){return $(t).attr(e,n)},prop:function(t,e,n){return $(t).prop(e,n)},width:function(t,e){return $(t).width(e)},height:function(t,e){return $(t).height(e)},getStyle:function(t,e){return $(t).css(e)},setStyle:function(t,e,n){if(null===n)return a(t,e);$(t).css(e,n)},setOpacity:function(t,e){return $(t).css("opacity",e)},removeCss:a,css:function(t,e,n){return $(t).css(e,n)},show:function(t){$(t).show()},hide:function(t){$(t).hide()},toggle:function(t){$(t).toggle()},isHidden:function(t){return $(t).is(":hidden")},offset:function(e,n,i){var r=$(e);if(n===t&&i===t){var o=r.offset();return o.width=r.outerWidth(),o.height=r.outerHeight(),o}s(e,"position","absolute"),n!==t&&r.css("left",n),i!==t&&r.css("top",i)},setCssIfNot:s,setCenter:function(t,e){s(t,"position","absolute");var n=v.getSize(),i=$(t.offsetParent).offset()||g,r=Math.round((n.width-$(t).outerWidth())/2)-i.left+v.getScrollLeft(),o=Math.round((n.height-$(t).outerHeight())/2)-i.top+v.getScrollTop(),a={left:Math.max(r,0),top:Math.max(o,0)};return e?a:$(t).css(a)},getFirst:function(t){return t.firstElementChild||u(t,"nextSibling","firstChild",!1)},getLast:function(t){return t.lastElementChild||u(t,"previousSibling","lastChild",!1)},getPrev:function(t){return t.previousElementSibling||u(t,"previousSibling",null,!1)},getNext:function(t){return t.nextElementSibling||u(t,"nextSibling",null,!1)},getChilds:function(t){return t.children?p(t.children):u(t,"nextSibling","firstChild",!0)},findTag:function(t,e){for(;t&&"BODY"!=t.tagName;){if(t.tagName==e)return t;t=t.parentNode}},createEle:o,createStyle:function(t){var e=document.createElement("style");return e.type="text/css",e.styleSheet&&(e.styleSheet.cssText=t)||e.appendChild(document.createTextNode(t)),Q.head.appendChild(e),e},parseHTML:function(e,n){var i=o("div",t,e);return n?i.childNodes:Q.getFirst(i)},removeEle:function(t){$(t).remove()},hasClass:function(t,e){return $(t).hasClass(e)},addClass:function(t,e){$(t).addClass(e)},removeClass:function(t,e){$(t).removeClass(e)},replaceClass:function(t,e,n){$(t).removeClass(e).addClass(n)},toggleClass:function(t,e){$(t).toggleClass(e)},setInputError:function(t,e,n){e?t.style.borderColor="red":t.style.border="1px solid red",t.value=n||"",t.focus()},setInputDefault:function(t){a(t,"border")}}),c.$$=Q.query=$.find}(),function(t){"use strict";function e(t){var e=I("div","x-mask");Q.body.appendChild(e),F&&(e.style.height=B.getScrollHeight()+"px"),this.box=e,this.set(b(t||{},R)),this.count=H(e)?0:1}function n(){return X?(X.show(),X):X=new e}function i(t){g(t,this),this._apis=[],this.start()}function r(t,e){return new i(function(){1!=t.nodeType?t=(e=t).ele:(e=e||{}).ele=t;var n,i,r,s,o,a,u,c,l=this,h=e.range||{x:0,y:0},d=!!e.shadow,p=t.offsetWidth,v=t.offsetHeight,m=t;d&&(K||(K=I("div","x-drag-shadow"),Q.body.appendChild(K)),m=K),l.ops=e,l.doDown=function(e){r=e.clientX,s=e.clientY;var o=d?$(t).offset():$(t).position();n=o.left,i=o.top,d&&Object.forEach({left:n,top:i,width:p,height:v},function(t,e){m.style[t]=e+"px"})},l.doMove=function(t){if(E(m),u){o=t.clientX-r;var e=n+o;h&&(e<h.x?e=h.x:h.w&&e+p>h.x+h.w&&(e=h.x+h.w-p)),m.style.left=e+"px"}if(c){a=t.clientY-s;var l=i+a;h&&(l<h.y?l=h.y:h.h&&l+v>h.y+h.h&&(l=h.y+h.h-v)),m.style.top=l+"px"}},d&&(l.doUp=function(){T(m),t.style.left=t.offsetLeft+o+"px",t.style.top=t.offsetTop+a+"px"}),l.setLock=function(t,e){return u=t,c=e,l.pause(!t&&!e)},l.setRange=function(t,e,n,i){return h=f(t)?t:{x:t,y:e,w:n,h:i},l},l.setLock(!1!==e.isX,!1!==e.isY)})}function s(t){this._es=[],g(t,this)}function o(t){return t=t||{},new s(function(){var i=this,s=t.width,o=t.height,a=m(t.maxHeight,B.getHeight()-60),u=!1!==t.drag,c=u&&!1!==t.center,l=t.className;i.ops=t,i.callback=t.callback;var f='<div class="x-head"><h2 class="x-title">'+(t.title||G.titleBox)+'</h2><a class="x-close" title="'+G.titleClose+'">X</a></div><div class="x-main"><div class="x-view">'+(t.html||"")+"</div></div>";F&&(f+='<iframe class="x-ie-fix" style="position: absolute;top:0;left:0;z-index:-1;" scrolling="no" frameborder="0"></iframe>');var d=I("div","x-box"+(l?" "+l:""),f);Q.body.appendChild(d),i.box=d;var b=t.zIndex||0;J>Y&&(b=Math.max(b,J)),b&&(d.style.zIndex=b);var y=k(d),w=C(y);i.setTitle=function(t){return $(".x-title",y).html(t),i},i.setWidth=function(e){return t.width=e,S(d,e),g(t.resize,i),i},i.setHeight=function(e){return t.height=e,M(w,e-y.offsetHeight-20),i},i.setMaxHeight=function(e){t.maxHeight=e;var n=t.height;return p(n)&&n>e&&(n=e),d.scrollHeight>e&&(n=e,O(d,"x-box-auto")),p(n)&&i.setHeight(n),c&&L(d),g(t.resize,i),i},i.autoHeight=function(){var e=t.maxHeight;if(!e)return i;var n=i.get(".x-head").offsetHeight,r=e-n-20,s=e-n;return w.style.height=w.scrollHeight>s?r+"px":"auto",c&&L(d),i},p(s)&&S(d,s),y.offsetWidth<10&&S(y,d.offsetWidth),a?i.setMaxHeight(a):p(o)&&i.setHeight(o),!1!==t.mask&&(i.mbox="new"==t.mask?new e:n());var _=t.close||"hide",j=i.getEventCallback(_);i.bind(".x-close","click",_),!1!==t.esc&&i.bind(h,"keyup",function(t){27==t.keyCode&&j()});var E=t.time;v(E)&&x(j,E),g(t.init,i,d,t),u&&(i.dr=r(d,{target:y,center:c,shadow:t.shadow,autoMask:!0,onCheck:function(t){var e=t.target;return e&&"x-close"!=e.className}})),$(".x-ie-fix",d).width(d.offsetWidth-2).height(d.offsetHeight-2)})}function a(t){t.width||(t.width=320);var e=t.width;if(t.icon||t.iconHtml){var n='<div class="fl x-ico">'+(t.iconHtml||'<img alt="" src="'+t.icon+'"/>')+'</div><div class="fl x-dialog"'+(p(e)?' style="width:'+(e-60)+'px;"':"")+">"+t.html+'</div><div class="clear"></div>';t.html=n;var i=t.init;t.resize=function(){var t=this.get(".x-view").offsetWidth-this.get(".x-ico").offsetWidth;$(".x-dialog",this.box).width(t)},t.init=function(t,e){e.resize.call(this),g(i,this,t,e)}}else t.html='<div class="x-dialog">'+t.html+"</div>";return t.bottom&&(t.html+=t.bottom),t.close||(t.close="remove"),o(t)}function u(t,e){var n="inline-block w-button w-"+(e||"dark");return'<div class="x-bottom"><div class="'+n+' x-submit">'+G.buttonSubmit+"</div>"+(2==t?'<div class="'+n+' x-cancel">'+G.buttonCancel+"</div>":"")+"</div>"}function c(t,e,n,i){return"object"==typeof n&&(n=i=n),i=b({},i),d(n)&&(i.callback=n),i.title||(i.title=t),i.html=e,i}var l=Q.G,h=l.document,f=Q.isObject,d=Q.isFunc,p=Q.isUNum,v=Q.isUInt,m=Q.def,g=Q.fire,x=Q.async,b=Q.extend,y=Q.makeArray,w=Q.getStyle,_=Q.setStyle,k=Q.getFirst,C=Q.getNext,S=Q.width,M=Q.height,I=Q.createEle,j=Q.removeEle,E=Q.show,T=Q.hide,H=Q.isHidden,O=Q.addClass,N=Q.setCssIfNot,L=Q.setCenter,D=Q.setInputError,A=Q.setInputDefault,z=Q.clearSelection,P=Q.query,W=Q.factory,F=Q.ie<7,B=Q.view,U=Q.event,R={color:"#999",opacity:.3};W(e).extend({opacity:function(t){return this.set({opacity:t})},set:function(t){var e=this.box;return Object.forEach(t,function(t,n){void 0!==n&&_(e,"color"!=t?t:"backgroundColor",n)}),this},show:function(){return this.removed&&(Q.body.appendChild(this.box),this.removed=!1),E(this.box),this.count++,this},hide:function(){return this.count>0&&this.count--,this.count<=0&&T(this.box),this},remove:function(){return j(this.box),this.removed=!0,this.count=0,this}});var X,q,Y=1e3,J=Y;W(i).extend({start:function(){var t=this,n=t.ops,i=n.scope||l,r=i.document,s=n.ele,o=n.target||s,a=!1!==n.autoIndex,u=!!n.autoMask,c=!1!==n.autoCss,h=!1!==n.autoCursor,f=1==s.nodeType?+w(s,"z-index"):0,p=t.doDown,v=t.doMove,m=t.doUp,b=n.onCheck,y=n.onDown,_=n.onMove,Q=n.onUp,k=function(t){for(var e=[],n=t||l;n.top!=n;){var i=n.parent;e.push(i),n=i}return e}(i),C=!!s.setCapture,S=!C&&k.length>0;f>=J&&(J=f+1),c&&N(s,"position","absolute"),c&&h&&N(o,"cursor","move"),n.center&&(L(s),t._api_resize=U.add(i,"resize",function(){L(s)}));var M=function(e){t._pause||(g(v,t,e),g(_,t,e))},I=function(e){t._unbind(),C&&s.releaseCapture(),u&&q&&(q.remove(),q=null),z(),g(m,t,e),g(Q,t,e)};return t._up=I,t._api=U.add(o,"mousedown",function(n){d(b)&&!1===b.call(t,n)||(a&&(+w(s,"z-index")||0)<J&&(J++,s.style.zIndex=J),t._unbind(),C?(s.setCapture(),t._bind(s,"losecapture",I)):t._bind(i,"blur",I),t._bind(r,{mousemove:M,mouseup:I}),S&&t._bind(k,"mouseup",I),u&&(q||(q=new e({color:null,opacity:null,zIndex:999999})),F&&q.set({height:B.getScrollHeight()})),x(z,20),g(p,t,n),g(y,t,n))}),t},_bind:function(){this._apis.push(U.add.apply(U,arguments))},_unbind:function(){var t=this._apis;t.length>0&&(t.forEach(function(t){t.off()}),this._apis=[])},pause:function(t){return this._pause=t,this._up&&this._up(),this},stop:function(){var t=this._api;return this._unbind(),t&&(t.off(),this._api=null),this},destroy:function(){var t=this._api_resize;return this.stop(),t&&(t.off(),this._api_resize=null),this}});var K;$.fn.extend({drag:function(t){return this.each(function(e,n){r(n,t)})}}),W(s).extend({find:function(t,e){return"string"==typeof t?P(t,e||this.box):y(t)},$:function(t,e){return $(this.find(t,e))},get:function(t,e){return this.find(t,e)[0]},fire:function(){return g(this.callback,this,this.data),this},getEventCallback:function(t,e){var n=this;return"hide"==t?function(){n.data=e,n.hide()}:"remove"==t?function(){n.data=e,n.remove()}:t},bind:function(t,e,n,i){return this._es.push(U.add(this.find(t),e,this.getEventCallback(n,i))),this},on:function(t,e,n,i){return this._es.push(U.add(this.box,t,e,this.getEventCallback(n,i))),this},show:function(){return this.onShow&&this.onShow(),E(this.box),this.mbox&&this.mbox.show(),this},hide:function(){return T(this.box),this.mbox&&this.mbox.hide(),this.onHide&&this.onHide(),this.fire()},toggle:function(){return H(this.box)?this.show():this.hide()},remove:function(){if(this.box)return j(this.box),this.mbox&&this.mbox.hide(),this.dr&&this.dr.destroy(),this._es.forEach(function(t){t.off()}),this.box=this.mbox=this.dr=null,this.onRemove&&this.onRemove(),this.fire()}}),s.alias({$:"query",remove:"destroy"});var G={titleBox:"弹出框",titleAlert:"提示信息",titleConfirm:"确认信息",titlePrompt:"输入信息",titleClose:"点击关闭",titleLoading:"加载数据",buttonSubmit:"确定",buttonCancel:"取消",textLoading:"正在加载数据,请稍后…"},V={createDialogBox:a,alert:function(t,e,n){return n=c(G.titleAlert,t,e,n),n.iconHtml='<div class="ico x-alert"></div>',a(n)},confirm:function(t,e,n){(n=c(G.titleConfirm,t,e,n)).bottom||(n.bottom=u(2)),n.mask=!1!==n.mask;return a(n).bind(".x-submit","click","remove",!0).bind(".x-cancel","click","remove",!1)},prompt:function(t,e,n){n=c(G.titlePrompt,void 0,e,n),e=n.callback,n.callback=void 0;var i='<div class="x-text">'+t+'</div><div class="x-input"><input type="'+(n.pwd?"password":"text")+'" /></div>';n.html=i,n.bottom||(n.bottom=u(2));var r=a(n),s=r.get(".x-input>input");s.focus(),s.value=m(n.value,"");var o=function(){!1!==g(e,s,s.value)?r.remove():D(s)};return r.bind(s,"keyup",function(t){13==t.keyCode?o():A(this)}),r.bind(".x-submit","click",o).bind(".x-cancel","click","remove")},bottom:u,showLoading:function(t){return(t=b({},t)).title||(t.title=G.titleLoading),t.html||(t.html=G.textLoading),t.iconHtml='<div class="ico x-loading"></div>',a(t)}};b(Q,V),b(Q,{getMaskBox:n,maskSetup:function(t,e){b(R,t,!0),e&&X&&X.reset(t)},setDrag:r,setBoxLang:function(t){b(G,t,!0)},MaskBox:e,DragX:i,Box:s,WinBox:o})}(),function(t){"use strict";function e(e,n,i){n!=t&&(e.style.left=n+"px"),i!=t&&(e.style.top=i+"px")}function n(t,e){this.set(e).init(t)}var i=window.document,r=Q.fire,s=Q.extend,o=Q.makeArray,a=Q.getStyle,u=Q.offset,c=Q.hasClass,l=Q.addClass,h=Q.removeClass,f=Q.createEle,d=Q.factory,p=Q.event;d(n).extend({init:function(t){var e=this;return e.draw(t),!1!==e.autoHide&&(e._e0=p.add(i,"click",function(){e.hide()})),e},set:function(t){return s(this,t,!0),this},draw:function(e){var n=this;n._menus=[],n._items=[],n._map_menu={},n._map_item={},n.i=n.j=0,n._active=t;var i,s=n._tmp=[];for(n.drawMenu(e);i=s.shift();)n.drawMenu.apply(n,i);n._tmp=null,n.i=n.j=0;var o=n._getMenu(0).node;n.box=o;var a=[];return n._menus.forEach(function(t){t&&!t.linked&&a.push(t.node)}),n._e1&&n._e1.off(),n._e1=p.add(a,{click:function(t){var e=this._j;if(c(this,"x-disabled")||n._getSubMenu(e)&&!n.isFireAll)return!1;var i=n._getItem(e);r(i.data.click,this,t,i),r(n.onclick,this,t,i),n.hide()},mouseenter:function(t){var e=this,i=e._i,s=e._j;n._hideSub(i,s),l(e,"x-on");var o=n._getItem(s);r(o.data.mouseover,e,t,o),r(n.onmouseover,e,t,o),c(e,"x-disabled")||n._showSub(i,s,e)},mouseleave:function(t){var e=this,i=e._i,s=e._j,o=n._getSubMenu(s);c(e,"x-disabled")||!o?h(e,"x-on"):0==i&&(n._active=s);var a=n._getItem(s);r(a.data.mouseout,e,t,a),r(n.onmouseout,e,t,a)}},".x-item"),n._e2&&n._e2.off(),n._e2=p.add(a,"mousedown",p.stop),n.hide()},drawMenu:function(e,n){var r=this._menus,s=this._items,o=this._map_menu,a=this._map_item,u=e.box,c=!!u,l=this.i++;if(!u){var h=e.className;(u=f("div","x-panel"+(h?" "+h:""))).style.width=(e.width||120)+"px"}if(r[l]={node:u,linked:c,j:n,data:e},n&&(o[n]=l),c)return this;for(var d=!1!==this.subMenu,p=0,v=e.items;p<v.length;p++){var m=v[p];if(m){var g=i.createElement("div"),x=this.j++;if(g._i=l,g._j=x,s[x]={node:g,i:l,j:x,data:m},m.id!=t&&(a[m.id]=x),m.split)g.className="x-split";else{g.className="x-item"+(m.disabled?" x-disabled":""),g.x=m.x!=t?m.x:"";var b=m.group,y=d&&b&&(b.box||b.items&&b.items.length>0),w=m.ico,_=m.html||'<div class="x-icon">'+(w?/^<.+>$/.test(w)?w:'<img alt="" src="'+w+'">':"")+'</div><div class="x-text"'+(m.title?' title="'+m.title+'"':"")+">"+m.text+"</div>"+(y?'<div class="arrow"></div>':"");g.innerHTML=_,y&&this._tmp.push([b,x])}u.appendChild(g)}}return Q.body.appendChild(u),this},_getMenu:function(t){return this._menus[t]},_getSubMenu:function(e){var n=this._map_menu[e];return n!=t?this._getMenu(n):t},_getItem:function(t){return this._items[t]},getItem:function(e){var n=this._map_item[e];return n!=t?this._items[n]:t},setItemText:function(t,e){var n=this.getItem(t);if(n){n.data.text=e;var i=n.node.childNodes[1];i&&(i.innerHTML=e)}},processItems:function(t,e){var n=this;return o(t).forEach(function(t){var i=n.getItem(t);i&&e(i.node,i)}),n},_processItems:function(t,e,n){return this.processItems(t,function(t){e(t,n)})},enableItems:function(t){return this._processItems(t,h,"x-disabled")},disableItems:function(t){return this._processItems(t,l,"x-disabled")},showItems:function(t){return this._processItems(t,h,"hide")},hideItems:function(t){return this._processItems(t,l,"hide")},_setPos:function(n,i,r,s){var o=this.rangeX,a=this.rangeY,u=n.node,c=u.offsetWidth,l=u.offsetHeight,h=n.data||{},f=h.maxHeight;if(f){var d=Math.max(l,u.scrollHeight)>f;u.style.height=d?f+"px":"auto",this.fixedWidth||(u.style.width=h.width+(d?17:0)+"px"),l=u.offsetHeight}return i==t&&(i=this.x||0),r==t&&(r=this.y||0),o&&i+c>o&&(i=o-c,s&&(i=i-s.offsetWidth+3)),a&&r+l>a&&(r=a-l-1),i<0&&(i=0),r<0&&(r=0),e(u,i,r),this.x=i,this.y=r,this},_showSub:function(t,e,n){var i=this._getMenu(t),r=this._getSubMenu(e);if(r){var s=i.node,o=r.node,c=u(n),l=+a(s,"zIndex");+a(o,"zIndex")<=l&&(o.style.zIndex=l+1),this._setPos(r,c.left+n.offsetWidth-2,c.top,s)}return this.i=t,this.j=e,this},_inactive:function(t){var e=this._getItem(t);return e&&h(e.node,"x-on"),this},_hideSub:function(t,e){if(t<=this.i&&e!=this.j){var n,i=this._menus;for(n=i.length-1;n>t;n--)this._hide(i[n]);if(t<this.i)for(n=this.i;n>t;n--){var r=this._getMenu(n);this._inactive(r.j)}}return t==this.i&&e!=this.j&&this._getSubMenu(this.j)&&this._inactive(this.j),this},_hide:function(t){if(t){var n=t.node;-1e4!=n.style.left&&e(n,-1e4,-1e4)}return this},show:function(t,e){return this._setPos(this._menus[0],t,e)},hide:function(){var e=this;return e._menus.forEach(function(t){e._hide(t)}),e._active!=t&&(e._inactive(e._active),e._active=t),e},isHidden:function(){var t=this.box,e=parseFloat(t.style.left),n=parseFloat(t.style.top);return e<=-t.offsetWidth||n<=-t.offsetHeight},toggle:function(t,e){return this.isHidden()?this.show(t,e):this.hide()},destroy:function(){var t=this;return t._e0&&t._e0.off(),t._e1&&t._e1.off(),t._menus.forEach(function(t){t.node.innerHTML="",$(t.node).remove()}),Object.forEach(t,function(e){t[e]=null}),t}}),Q.ContextMenu=n}(),function(t){"use strict";function e(t){t=t||{};this.box=t.box,this.items=t.items||[],this.multiple=t.multiple,this.canInput=t.canInput,this.textProp=t.textProp||"text",this.value=t.value,this.index=t.index||0,this.ops=t}var n=window.document,i=Q.def,r=Q.fire,s=Q.isObject,o=Q.getFirst,a=Q.getLast,u=Q.width,c=Q.hasClass,l=Q.addClass,h=Q.removeClass,f=Q.createEle,d=Q.factory,p=Q.ie,v=Q.event;d(e).extend({init:function(){var t=this,e=t.ops,i=t.box,s=!t.multiple,h=t.canInput,f=e.placeholder,d=(s?'<div class="x-sel-tag">'+(h?'<input type="text" class="x-sel-text"'+(f?' placeholder="'+f+'"':"")+" />":'<div class="x-sel-text"></div>')+'<div class="x-sel-arrow"><div class="arrow arrow-down"></div></div></div>':"")+'<div class="x-panel x-sel-list'+(s?"":" x-sel-multiple")+'"></div>';l(i,"x-sel"),i.innerHTML=d;var m,g,x,b=a(i);u(b,e.width||i.offsetWidth-2),s&&(m=o(i),g=o(m),x=a(m),t.elText=g,t.elArrow=x),t.elList=b;var y;return s?(!1!==e.autoHide&&v.add(n,"mousedown",function(){t.hide()}),v.add(h?x:i,"mousedown",function(e){return t.toggle(),!1}),y={mousedown:v.stop,mouseup:function(e){var n=this.x,i=t.items[n];r(t.onclick,t,i,n),i.disabled||(t.hide(),n!=t.index&&t.select(n))},mouseenter:function(){var e=this.x;t.items[e].disabled||t.active(e)}}):(t.selectedItems=[],t.seletedMap={},y={mousedown:function(e){if(!c(this,"x-disabled")){var n=this.x,i=t.selectedItems[0],r=e.shiftKey,s=e.ctrlKey;if(!r&&s||t.clearSelect(),r){var o=i?i.index:n,a=n;o>a&&(a=o,o=n);for(var u=o;u<=a;u++)t.active(u)}else s&&t.seletedMap[n]?t.inactive(n):t.select(n)}}},p<10&&(y.selectstart=v.stop)),v.add(b,y,".x-item"),t.draw()},draw:function(){var t=this.ops,e=this.items,n=this.elList,i=t.hasTitle,r=t.maxHeight,s={};if(n.innerHTML="",e.forEach(function(t,e){t.index=e,s[t.value]=t;var r=t.text||"",o=f("div","x-item"+(t.group?" x-sel-group":t.disabled?" x-disabled":""),r);i&&(o.title=t.title||r.toText()),o.x=e,t.node=o,n.appendChild(o)}),this.map=s,r){n.offsetHeight>r&&(n.style.height=r)}var o=this.value,a=this.index;if(o){var u=this.find(o);u&&(a=u.index)}return this.select(a),this.multiple?this:this.hide()},add:function(t,e,n){return this.items.push(s(t)?t:{text:t,value:e,title:n}),this},find:function(t){return this.map[t]},clearSelect:function(){var t=function(t){t.node&&h(t.node,"selected")};return this.multiple?(this.selectedItems.forEach(t),this.selectedItems=[],this.seletedMap={}):t({node:this._el}),this},active:function(t){var e=this.items[t];if(!e)return this;var n,i=e.node;return this.multiple?e.disabled||this.seletedMap[t]||(this.selectedItems.push(e),this.seletedMap[t]=!0,n=!0):(this.clearSelect(),n=!0,this._el=i),n&&l(i,"selected"),this},inactive:function(t){var e=this.items[t];return this.multiple&&(this.selectedItems=this.selectedItems.filter(function(e){return e.index!=t}),this.seletedMap[t]=void 0),h(e.node,"selected"),this},select:function(t,e){var n=this.items[t];return n?(this.text=i(n.text,""),this.value=i(n.value,""),this.elText&&(this.elText[this.canInput?"value":"innerHTML"]=this[this.textProp]),this.active(t),e||t==this.index||r(this.onchange,this,n,t),this.index=t,this):this},show:function(){return this.elList.style.display="",this.select(this.index)},hide:function(){return this.elList.style.display="none",this},toggle:function(){return"none"==this.elList.style.display?this.show():this.hide()},getText:function(){return this.canInput?this.elText.value:this.text}}),Q.DropdownList=e}(),function(t){"use strict";function e(e){var n=this;if(n.ops=e,n.size=e.size||9,n.cache={},e.href==t){var i=e.boxNav;i&&$(i).on("click","li",function(){n.go($(this).attr("x")),n.onclick&&n.onclick.call(n,n.page)})}else e.cache=e.preload=!1;n.set(e.totalCount,e.pageSize||10).setData(e.data).go(e.page)}var n=Q.extend,i={prevPage:"&lt;上一页",nextPage:"下一页&gt;",pageSize:"每页{0}条",totalCount:"共{0}条数据"};(0,Q.factory)(e).extend({set:function(e,n){return e!=t&&(this.totalCount=e),n!=t&&(this.pageSize=n),this.totalCount!=t&&(this.totalPage=Math.ceil(this.totalCount/this.pageSize)),this},setData:function(t){return t&&(this.data=t,this.set(t.length)),this},_load:function(e,n){var i=this,r=i.ops,s=i.onload;i.page=e;var o=function(t){return s&&s.call(i,t),n&&n.call(i,t),i};if(!r.load){var a=i.pageSize,u=(e-1)*a;return o(i.data.slice(u,u+a))}var c=r.cache?i.cache[e]:t;return c?o(c):(r.load(e,function(t){c=t.data||[],r.cache&&(i.cache[e]=c),i.set(t.totalCount,t.pageSize),o(c)}),i)},load:function(t){return this._load(t,this.draw)},reload:function(t){return this.load(t||this.page)},go:function(e,n){return isNaN(e)?this:(e=+e,this.totalPage!=t&&e>this.totalPage&&(e=this.totalPage),e<1&&(e=1),e!=this.page||n?(this.load(e),this.ops.load&&this.ops.preload&&this._load(e+1),this.onchange&&this.onchange.call(this,e),this):this)},drawNav:function(){var e=this.ops,n=e.boxNav;if(!n)return this;var r=this.totalCount,s=this.pageSize,o=this.totalPage,a=this.page,u=e.href,c=e.text||{},l=function(t,e,n){var i=[1];if(1==e)return i;var r,s=2;if(e<=t)r=e;else{var o=(t-5)/2;n<=o+3?r=t-2:n>e-o-3?(s=e-t+3,r=e-1):r=(s=n-~~o)+t-5}s>2&&i.push(0);for(var a=s;a<=r;a++)i.push(a);return e>t&&(r<e-1&&i.push(0),i.push(e)),i}(this.size,o,a);u!=t&&(u+=-1!=u.indexOf("?")?"&":"?");var h=function(t,e,n){return n||(n=t==a?"on":t?"":"skip"),"<li"+(n?' class="'+n+'"':"")+' x="'+t+'">'+(u?"<a"+(t?' href="'+u+"page="+t+'"':"")+">"+e+"</a>":e)+"</li>"},f=e.drawSize||function(t,e,n){return e+"/"+n},d='<div class="inline-block pager-bar'+(u?" pager-link":"")+'"><ul>'+h(Math.max(a-1,1),c.prev||i.prevPage,"prev")+l.map(function(t){return h(t,t||"…")}).join("")+h(Math.min(a+1,o),c.next||i.nextPage,"next")+"</ul></div>"+(!1!==e.showSize?'<div class="inline-block pager-count">'+f(this,i.pageSize.replace("{0}",'<span class="page-size">'+s+"</span>"),i.totalCount.replace("{0}",'<span class="total-count">'+r+"</span>"))+"</div>":"");$(n).html(d)},draw:function(t){return this.drawNav(),this.ops.draw.call(this,t),this}}),e.setLang=function(t){n(i,t,!0)},Q.DataPager=e}(),function(){"use strict";function t(t){var e=this,s=(t=t||{}).context,o=t.tabs||r(".tab-title li.tab,.tabTitle>li",s),a=t.conts||r(".tab-cont>.turn-box,.tabCont>.turn-box",s);e.tabs=o,e.conts=a,e.map_loaded={},e.map_index={},o.forEach(function(r,s){"1"==r.getAttribute("x-def")&&(t.index=s);var o=n(r);if(o){var a=o.href.split("#")[1]||"",u=i(a).nav;u&&(e.map_index[u]=s)}}),o.forEach(function(t,n){$(t).hasClass("skip")||$(t).click(function(){e.showTab(n)})}),$(a).hide(),setTimeout(function(){var n=i().nav.slice(1)||t.hash,r=e.map_index[n];void 0==r&&(r=t.index||0),e.showTab(r)},20)}var e=Q.async,n=Q.getFirst,i=Q.parseHash,r=$.find;Q.factory(t).extend({getTab:function(t){return this.tabs[t]},getCont:function(t){return this.conts[t]},hasLoaded:function(t){return!!this.map_loaded[t]},showTab:function(t){var n=this.index;if(t!==n){if(void 0!==n){var i=this.getTab(n),r=this.getCont(n);$(i).removeClass("on"),$(r).hide()}var s=this.getTab(t),o=this.getCont(t),a=this.map_loaded;$(s).addClass("on"),$(o).show(),this.index=t;var u={index:t,tab:s,cont:o,loaded:a[t]};e(this.onchange,100,u),e(window.onTabChange,200,u),a[t]||(a[t]=!0)}}}),Q.Tabs=t,Q.setTabs=function(e){return new t(e)}}(),function(t){"use strict";function e(t){var e=(t=t||{}).box,r=i("div","range-slider-bar"),o=i("div","range-progress"),a=i("div","range-slider");r.appendChild(o),r.appendChild(a),e.appendChild(r);var u=this;u._elBar=r,u._elProgress=o,u._elSlider=a,u.min=+t.min||0,u.max=+t.max||100,u.step=+t.step||1,u.value=+t.value||0;var c=u.step+"",l=c.lastIndexOf("."),h=-1!=l?c.length-l-1:0,f=Math.pow(10,h);u.onchange=t.onchange,u.val(u.value),u._drag=new s(function(){var t,e,i,s;this.ops={ele:a,autoCursor:!1},this.doDown=function(n){t=r.offsetWidth,e=o.offsetWidth,i=n.clientX,s=t-a.offsetWidth},this.doMove=function(r){var c=r.clientX-i,l=e+c;l<0?l=0:l>t&&(l=t);var h=~~(l*(u.max-u.min)/(t*u.step)),d=(u.min*f+u.step*f*h)/f;o.style.width=100*l/t+"%",a.style.left=100*Math.min(l,s)/t+"%",d!=u.value&&(u.value=d,n(u.onchange,u,u.value))}})}var n=Q.fire,i=Q.createEle,r=Q.factory,s=Q.DragX;r(e).extend({val:function(t){if(void 0==t)return this.value;t<this.min?t=this.min:t>this.max&&(t=this.max);var e=this._elProgress,n=this._elSlider,i=this._elBar.offsetWidth;return this.value=t,e.style.width=100*t/(this.max-this.min)+"%",n.style.left=100*Math.min(e.offsetWidth,i-n.offsetWidth)/i+"%",this}}),Q.RangeSlider=e}();