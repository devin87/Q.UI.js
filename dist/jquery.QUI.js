//devin87@qq.com
//build:2018/06/13 09:46:24
!function(t){"use strict";var e="object"==typeof global?global:window,n=Object.prototype.toString,r=Object.prototype.hasOwnProperty,i=Array.prototype.slice;var o=function(t){return arguments[0]=1,t!=arguments[0]}(0),s=e==e.window;function a(e){if(e==t)return""+e;if("object"!=typeof e&&"function"!=typeof e)return typeof e;if(s){if("number"==typeof e.nodeType)return"node";if("number"==typeof e.length){if(!o&&e.callee)return"arguments";if(e==e.window)return"window";if(e.item)return"list"}}return n.call(e).slice(8,-1).toLowerCase()}function u(t){return"[object Function]"===n.call(t)}function c(t){return t&&"[object Object]"===n.call(t)}function l(t){return"[object Array]"===n.call(t)}function f(e,n){return e!==t?e:n}function h(e,n,r,i){if("number"!=typeof e)return!1;if(n!=t&&e<n)return!1;if(r!=t&&e>r)return!1;if(i&&((e+"").split(".")[1]||"").length>i)return!1;return!0}function d(t,e,n){return h(t,e,n)&&t===Math.floor(t)}function p(t){return d(t,1)}function v(t,e){for(var n=[],r=e||0,i=t.length;r<i;r++)n.push(t[r]);return n}var m=function(){try{return i.call(document.documentElement.childNodes),function(t,e){return i.call(t,e)}}catch(t){return v}}();function g(e,n,r){if(!e)return[];r=!1!==r;for(var i,o=e.length,s=0,a=[];s<o;s++)((i=e[s])&&i[n]!=t||!r)&&a.push(i[n]);return a}function x(t,e,n){if(t&&t.prototype){var i=t.prototype;if("string"==typeof e)i[n]=i[e];else for(var o in e)r.call(e,o)&&r.call(i,o)&&(i[e[o]]=i[o]);return t}}function b(e,n,i){if(!e||!n)return e;for(var o in n)o!=t&&r.call(n,o)&&(i||e[o]===t)&&(e[o]=n[o]);return e}function y(e,n,r){if(e){for(var i={},o=u(n),s=n!==t,a=0,c=e.length;a<c;a++){var l,f=e[a];if(f!=t){if(o){var h=n.call(e,f,a);if(!h)continue;f=h[0],l=h[1]}else l=s?n:a;i[r?f.toLowerCase():f]=l}}return i}}function w(e,n,r){if(e){var i={},o=!1;!0===r&&(o=r,r=t);for(var s=0,a=e.length;s<a;s++){var u=e[s];u&&"object"==typeof u&&(o&&(u.index=s),i[u[n]]=r?u[r]:u)}return i}}function _(t,e,n){n?t.sort(function(t,n){return-(t[e]||"").localeCompare(n[e]||"")}):t.sort(function(t,n){return(t[e]||"").localeCompare(n[e]||"")})}function Q(t,e,n){n?t.sort(function(t,n){return n[e]-t[e]}):t.sort(function(t,n){return t[e]-n[e]})}function k(t,e,n){t.sort(function(t,r){var i=t[e],o=r[e];if(i==o)return 0;var s=Date.from(i),a=Date.from(o),u=0;return s!=N&&a!=N?u=s-a:s==N&&a!=N?u=-1:s!=N&&a==N&&(u=1),n?-u:u})}function C(t){var e=t.split(".");return 256*(+e[0]||0)*256*256+256*(+e[1]||0)*256+256*(+e[2]||0)+(+e[3]||0)}function S(e,n,r,i){if(e!=t)return setTimeout(function(){e.apply(n,i||[])},f(r,20))}function M(e,n){return u(e)&&S(e,t,n,i.call(arguments,2))}function I(t){var e=+new Date,n=t.timeout,r=n&&e-t.startTime>n;if(!r&&!t.check(t))return t.count++,M(I,t.sleep,t);t.endTime=e,t.callback(t,r)}function j(t,e,n){for(var r=0,i=t.length;r<i;r++)r in t&&e.call(n,t[r],r,t)}function E(t,e){if(e&&u(e)){var n=function(){};n.prototype=e.prototype,t.prototype=new n}var r=t;return r.constructor=E,r.prototype.constructor=r,r.extend=function(t,e){b(this.prototype,t,e)},r.alias=function(t,e){x(this,t,e)},r}j([String,Array,Number,Boolean,Function,Date,RegExp],E),b(Object,{create:function(t){var e=function(){};return e.prototype=t,new e},forEach:function(t,e,n){for(var i in t)r.call(t,i)&&e.call(n,i,t[i],t)},keys:function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},values:function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(t[n]);return e},size:function(t){var e=0;for(var n in t)r.call(t,n)&&e++;return e},hasItem:function(t){for(var e in t)if(r.call(t,e))return!0;return!1}}),String.extend({trim:function(){for(var t,e=/\s/,n=(t=(t=""+this).replace(/^\s\s*/,"")).length;e.test(t.charAt(--n)););return t.slice(0,n+1)},repeat:function(t){for(var e=""+this,n="";t>0&&(t%2==1&&(n+=e),1!=t);)e+=e,t>>=1;return n},startsWith:function(t,e){return(""+this).substr(e||0,t.length)===t},endsWith:function(e,n){var r=""+this,i=n==t||n>r.length?r.length:n;return r.substr(i-e.length,e.length)===e},contains:function(t,e){return-1!=this.indexOf(t,e)}}),String.extend({drop:function(t,e){var n="string"==typeof t?new RegExp(t,e||"g"):t;return this.replace(n,"")},reverse:function(){return this.split("").reverse().join("")},htmlEncode:function(){return this.replace(/\x26/g,"&amp;").replace(/\x3c/g,"&lt;").replace(/\x3e/g,"&gt;").replace(/\r?\n|\r/g,"<br/>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\s/g,"&nbsp;")},htmlDecode:function(){return this.replace(/<br[^>]*>/gi,"\n").replace(/<script[^>]*>([^~]|~)+?<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&amp;/g,"&")}}),Number.extend({format:function(t,e){var n=this.toString(e||10),r=t-n.length;return(r>0?"0".repeat(r):"")+n}}),Array.extend({forEach:function(t,e){for(var n=0,r=this.length;n<r;n++)n in this&&t.call(e,this[n],n,this)},map:function(t,e){for(var n=[],r=0,i=this.length;r<i;r++)r in this&&n.push(t.call(e,this[r],r,this));return n},indexOf:function(e,n){var r,i=this.length;if(0==i)return-1;for(n==t?r=0:(r=Number(n))<0&&(r=Math.max(r+i,0));r<i;r++)if(r in this&&this[r]===e)return r;return-1},lastIndexOf:function(e,n){var r,i=this.length;if(0==i)return-1;for(r=n==t?i-1:(r=Number(n))>=0?Math.min(r,i-1):r+i;r>=0;r--)if(r in this&&this[r]===e)return r;return-1},filter:function(t,e){for(var n=[],r=0,i=this.length;r<i;r++)if(r in this){var o=this[r];t.call(e,o,r,this)&&n.push(o)}return n},every:function(t,e){for(var n=0,r=this.length;n<r;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0},some:function(t,e){for(var n=0,r=this.length;n<r;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}}),Array.extend({contains:function(t,e){return-1!==this.indexOf(t,e)},get:function(e){return e>=0?this[e]:(e+=this.length)>=0?this[e]:t},first:function(){return this.get(0)},last:function(){return this.get(-1)},del:function(t,e){return this.splice(t,e||1)},unique:function(t){for(var e=[],n={},r=0,i=this.length;r<i;r++){var o=this[r],s=t?o[t]:o,a=typeof s+s;n[a]||(e.push(o),n[a]=!0)}return e},clean:function(){for(var e=[],n=0,r=this.length;n<r;n++)this[n]!=t&&e.push(this[n]);return e},items:function(t,e){return g(this,t,e)},toMap:function(t,e){return y(this,t,e)},toObjectMap:function(t,e){return w(this,t,e)}}),b(Array,{forEach:j,isArray:l});var T=[/y{2,4}/,/M{1,2}/,/d{1,2}/,/H{1,2}|h{1,2}/,/m{1,2}/,/s{1,2}/,/S/,/W/,/AP/],$=(new Date).getTimezoneOffset(),H="日一二三四五六".split(""),O=["上午","下午"],N=new Date(""),L=["getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","getHours"];function D(t,e){switch(t){case"d":case"day":return e/864e5;case"h":case"hour":return e/36e5;case"m":case"minute":return e/6e4;case"s":case"second":return e/1e3}return e}function A(t,e){var n=this;n.map={},n.bind=e,t.forEach(function(t){n.map[t]=[]})}Date.extend({isValid:function(){return!isNaN(this.valueOf())},format:function(t,e){if(e=e||{},!this.isValid())return e.invalid||"--";for(var n=e.months,r=e.weeks||H,i=e.aps||O,o=T.length,s=0;s<o;s++){var a=T[s],u=this[L[s]]();t=t.replace(a,function(t){var e=t.length;if(8==s)return i[u>12?1:0];if(7==s)return r[u];if(1==s){if(n)return n[u];u++}return 3==s&&"h"==t.charAt(0)&&u>12&&(u-=12),1==e?""+u:("00"+u).slice(-e)})}return t},add:function(t,e){var n=this;switch(t){case"y":case"year":n.setFullYear(n.getFullYear()+e);break;case"M":case"month":n.setMonth(n.getMonth()+e);break;case"d":case"day":n.setDate(n.getDate()+e);break;case"h":case"hour":n.setHours(n.getHours()+e);break;case"m":case"minute":n.setMinutes(n.getMinutes()+e);break;case"s":case"second":n.setSeconds(n.getSeconds()+e);break;case"ms":case"millisecond":n.setMilliseconds(n.getMilliseconds()+e)}return n},diff:function(t,e){return D(t,this-e)},fromUTC:function(){return this.setMinutes(this.getMinutes()-$),this},toUTC:function(){return this.setMinutes(this.getMinutes()+$),this},clone:function(){return new Date(this.getTime())}}),b(Date,{now:function(){return+new Date}}),b(Date,{from:function(t){if("number"==typeof t)return new Date(t);if("string"==typeof t){if(!t)return N;var e,r,i="Z"==t.slice(t.length-1),o=t.replace(/[-\u5e74\u6708]/g,"/").replace(/[\u65f6\u5206\u70b9]/g,":").replace("T"," ").replace(/[Z\u65e5\u53f7\u79d2]/g,""),s=o.lastIndexOf(".");if(-1!=s&&(r=+o.slice(s+1,s+4),o=o.slice(0,s)),!(e=new Date(o)).isValid()&&o.indexOf("/")>0){var a=o.split(" "),u=(a[0]+(a[0].endsWith("/")?"":"/")+"1/1").split("/").slice(0,3).join("/");e=new Date(u+" "+(a[1]||""))}return r&&e.setMilliseconds(r),e.isValid()?i?e.fromUTC():e:N}return"[object Date]"==n.call(t)?t:N},parts:function(t){var e,n,r;return(e=Math.floor(t/86400))>0&&(t-=86400*e),(n=Math.floor(t/3600))>0&&(t-=3600*n),(r=Math.floor(t/60))>0&&(t-=60*r),{days:e,hours:n,minutes:r,mintues:r,seconds:t}},total:D}),A.prototype={constructor:A,add:function(t,e){var n=this.map;return"string"==typeof t?u(e)&&n[t].push(e):c(t)&&Object.forEach(t,function(t,e){n[t]&&u(e)&&n[t].push(e)}),this},remove:function(e,n){if(n!=t)for(var r=this.map[e],i=r.length;--i>=0;)r[i]==n&&(r=r.splice(i,1));else this.map[e]=[];return this},trigger:function(t,e){for(var n=this.map[t],r=n.length,i=0;i<r&&!1!==n[i].apply(this.bind,[].concat(e));i++);return this}};var z={get:function(t){var e=t.replace(/\\(?!d|B|w|W|s|S)/g,"\\\\").replace(/\./g,"\\.").replace(/[\[\]\(\)]/g,"\\$&").replace(/\*/,".*");return new RegExp(e,"i")},search:function(e,n,r,i){if(!e||e.length<=0)return[];if(!r)return e.forEach(function(e){e.__match=t}),e;var o=z.get(r);return e.filter(function(e){var r=!1,s={};return n.forEach(function(t){var n=e[t];n&&o.test(n)&&(i&&(s[t]=(n+"").replace(o,"`#`{$&}`#`")),r=!0)}),e.__match=r&&i?s:t,r})},read:function(t,e){var n=t.__match;return n&&n[e]?n[e].htmlEncode().replace(/`#`{(.+?)}`#`/g,function(t,e){return'<span class="light">'+e+"</span>"}):((t[e]||"")+"").htmlEncode()}},P=/^[\w\.-]+@[\w-]+(\.[\w-]+)*\.[\w-]+$/,W=/^(1\d{10}|(\d{3,4}-?)?\d{7,8}(-\d{1,4})?)$/,F=/^1\d{10}$/,U=/^[a-fA-F0-9]{2}([:-][a-fA-F0-9]{2}){5}$/,B=/^https?:\/\//i;function R(t,e,n){t=+t;for(var r=0,i="number"==typeof(e=e||1024),o=1,s=p(n)?n:i?100:e.length;t>=o&&r<s;)o*=i?e:e[r],r++;return r&&t<o&&(r--,o/=i?e:e[r]),{value:r?t/o:t,level:r}}var X=["B","KB","MB","GB","TB","PB","EB"];var q=encodeURIComponent;function Y(t){try{return decodeURIComponent(t)}catch(e){return t}}function J(e){if(!e)return"";if("string"==typeof e)return e;var n=[];return Object.forEach(e,function(e,r){"function"!=typeof r&&n.push(q(e)+"="+(r!=t?q(r):""))}),n.join("&")}function K(t){if(!t)return{};if("?"==t.charAt(0)&&(t=t.slice(1)),!t)return{};for(var e=t.split("&"),n={},r=0,i=e.length;r<i;r++)if(e[r]){var o=e[r].split("="),s=o[0],a=o[1];s&&(n[Y(s)]=a?Y(a):"")}return n}var G=e.location||{protocol:"",hash:"",pathname:""};var V={version:"1.2.2",G:e,strict:o,type:a,isFunc:u,isObject:c,isArray:Array.isArray,isArrayLike:function(t){var e=a(t);return"array"==e||"list"==e||"arguments"==e},def:f,isNum:h,isUNum:function(t){return"number"==typeof t&&t>0},isInt:d,isUInt:p,checkNum:function(t,e,n,r){return null!=t&&""!=t&&!isNaN(t)&&h(+t,e,n,r)},checkInt:function(t,e,n){return null!=t&&""!=t&&!isNaN(t)&&d(+t,e,n)},toUpper:function(t,e){return"string"==typeof t?t.toUpperCase():e},toLower:function(t,e){return"string"==typeof t?t.toLowerCase():e},toArray:v,makeArray:function(e,n){if(e==t)return[];switch(a(e)){case"array":return n?e.slice(n):e;case"list":return m(e,n);case"arguments":return i.call(e,n)}return[e]},arr:function(e,n,r){u(n)&&(r=n,n=0),n==t&&(n=0),r==t&&(r=1);var i=[],o=0;if(u(r))for(;o<e;)n=r(n,o,i),i.push(n),o++;else for(;o<e;)i.push(n),n+=r,o++;return i},vals:g,alias:x,extend:b,clone:function t(e){if(!e)return e;switch(typeof e){case"string":case"number":case"boolean":return e}var n;if(l(e)){n=[];for(var i=0,o=e.length;i<o;i++)n[i]=t(e[i])}else if(c(e))for(var s in n={},e)r.call(e,s)&&(n[s]=t(e[s]));return n},toMap:y,toObjectMap:w,ip2int:C,sortNumber:Q,sortString:_,sortDate:k,sort:function(t,e,n,r){switch(e){case 1:Q(t,n,r);break;case 2:k(t,n,r);break;case 3:i=n,o=r,t.sort(function(t,e){var n=t[i]||"",r=e[i]||"";if(n==r)return 0;var s=C(n)-C(r);return o?-s:s});break;default:_(t,n,r)}var i,o},proxy:function(t,e){if(c(t)){var n=e;t=(e=t)[n]}return function(){t.apply(e,arguments)}},fire:function(e,n){if(e!=t)return e.apply(n,i.call(arguments,2))},delay:S,async:M,waitFor:function(t,e,n,r){I({check:t,callback:e,timeout:n,sleep:r,count:0,startTime:+new Date})},factory:E,isIP:function(t){var e=t.split("."),n=e.length;if(4!=n)return!1;for(var r=0;r<n;r++){var i=+e[r];if(!e[r]||isNaN(i)||i<0||i>255)return!1}return!0},isMail:function(t){return P.test(t)},isPhone:function(t){return W.test(t)},isTel:function(t){return F.test(t)},isMAC:function(t){return U.test(t)},isHttpURL:function(t){return B.test(t)},parseLevel:R,formatSize:function(e,n){if(n=!0===n?{all:!0}:n||{},isNaN(e)||e==t||e<0){var r=n.error||"--";return n.all?{text:r}:r}var i=R(e,n.steps,n.limit),o=i.value.toFixed(f(n.digit,2));return!1!==n.trim&&-1!=o.lastIndexOf(".")&&(o=o.replace(/\.?0+$/,"")),i.text=o+(n.join||"")+(n.units||X)[i.level+(n.start||0)],n.all?i:i.text},parseUrlParams:K,joinUrlParams:J,param:function(e){if(e!=t)return"string"==typeof e?K(e):J(e)},join:function(t){for(var e=[],n=arguments,r=1,i=n.length;r<i;r++){var o=n[r];o&&e.push(J(o))}var s=t.indexOf("#"),a="";-1!=s&&(a=t.slice(s),t=t.slice(0,s)),t=t.replace(/\?&$|\?$|\&$/,"");var u=e.join("&");return u&&(t+=(t.contains("?")?"&":"?")+u),t+a},parseUrl:function(t){var e=t.match(/(^[^:]*:)?\/\/([^:]+)(:\d+)?(\/[^?]+)?(\?[^#]*)?(#.*)?$/),n=e[1]||G.protocol,r=e[2],i=(e[3]||"").slice(1),o=r+":"+i,s=e[4]||"/",a=e[5]||"",u=e[6]||"";return{href:n+"//"+o+s+a+u,protocol:n,host:o,hostname:r,port:i,pathname:s,search:a,hash:u}},parseHash:function(t){t||(t=G.hash);var e,n=t;if(t){var r=t.indexOf("!/");-1!=r&&(n=t.slice(0,r),e=t.slice(r+2))}return{nav:n,param:e}},getPageName:function(t,e){var n=(t||G.pathname).replace(/\\/g,"/"),r=n.lastIndexOf("/")+1;if(e)return n.slice(r);var i=n.indexOf("?",r);return-1==i&&(i=n.indexOf("#",r)),-1!=i?n.slice(r,i):n.slice(r)},Listener:A,SE:z};e.Q=V,"object"==typeof module&&"object"==typeof module.exports&&(module.exports=V)}(),function(t){"use strict";var e=Q.delay,n=Q.extend,r=Q.fire,i=Q.isFunc,o=Q.isObject,s=Q.isArrayLike,a=Q.isUInt,u=Q.type,c=Q.makeArray,l=Q.factory,f=Q.Listener,h=["add","start","end","stop","complete"];function d(t){var e=this,n=(t=t||{}).tasks;e._listener=new f(h,e),e.auto=!1!==t.auto,e.workerThread=t.workerThread||1,e.timeout=t.timeout,"auto"==t.rtype&&(e.rtype=u(n)),h.forEach(function(n){var r=t[n];r&&e.on(n,r)}),t.inject&&(e.inject=t.inject),t.process&&(e.process=t.process),t.processResult&&(e.processResult=t.processResult),e.ops=t,e.reset(),e.addList(n)}function p(e,r,i,s){return o(r)&&(i=r,r=t),new d(n(i||{},{rtype:"auto",workerThread:s,tasks:e,complete:r}))}l(d).extend({on:function(t,e){return this._listener.add(t,e),this},trigger:function(t,e){return this._listener.trigger(t,e),this},reset:function(){var t=this;return t.tasks=[],t.index=0,t.workerIdle=t.workerThread,t},_add:function(e,n,r){var i={args:c(e),state:0};return n!=t&&(i.key=n),this.tasks.push(i),this.trigger("add",i),r&&this.start(),this},add:function(){return this._add(arguments,t,this.auto)},addList:function(t){var e=this;return t?(s(t)?Array.forEach(t,function(t,n){e._add(t,n,!1)}):Object.forEach(t,function(t,n){e._add(n,t,!1)}),e.auto&&e.start(),e):e},size:function(e){return e!=t?this.tasks.filter(function(t){return t.state==e}).length:this.tasks.length},_run:function(){var t=this;if(t.stoped||t.workerIdle<=0||t.index>=t.tasks.length)return t;var n=t.tasks[t.index++],r=t.timeout;return t.workerIdle--,t.trigger("start",n),0!=n.state?t.ok(n):(n.state=1,a(r)&&(n._timer=e(t.ok,t,r,[n,-1])),t.process(n,function(){t.ok(n,2)}),t.workerIdle?t._run():t)},start:function(){var t=this;return t.stoped=!1,t.auto||(t.auto=!0),e(t._run,t,10),t},stop:function(t){return this.stoped=!0,a(t)&&e(this.start,this,t),this},inject:function(e,n){var r=this.ops,o=r.injectIndex||0,s=r.injectCallback,a=e.args.slice(0);!r.exec&&i(a[0])&&o++;var u,c=a[o],l=function(t){e.result=t,i(u)&&u.apply(this,arguments),n()};if(s!=t){c||(c={});var f=c.__qcallback;u=f||c[s],!f&&u&&(c.__qcallback=u),c[s]=l,a[o]=c}else u=c,a[o]=l;return a},process:function(t,e){var n=this.ops,r=n.exec,i=n.bind,o=this.inject(t,e),s=o[0];s instanceof d?s.start():r?r.apply(i,o):s.apply(i,o.slice(1))},processResult:function(t){switch(this.rtype){case"array":case"list":case"arguments":return t.items("result");case"object":return t.toObjectMap("key","result")}return[t]},isCompleted:function(t){return(t||this.tasks).every(function(t){return 2==t.state||-1==t.state})},ok:function(e,n){var i=this;return 1!=e.state?i._run():(++i.workerIdle>i.workerThread&&(i.workerIdle=i.workerThread),e._timer&&clearTimeout(e._timer),n!=t&&(e.state=n),i.trigger("end",e),i.stoped?i.isCompleted(i.tasks.slice(0,i.index))&&i.trigger("stop",i.processResult(i.tasks)):i.isCompleted()&&(i.trigger("complete",i.processResult(i.tasks)),r(i.complete,i)),i._run())}}),d.TASK={TIMEDOUT:-1,READY:0,PROCESSING:1,OK:2},n(Q,{Queue:d,series:p,parallel:function(t,e,n){return p(t,e,n,s(t)?t.length:Object.size(t))},ajaxQueue:function(t){return new d(n(t=t||{},{exec:t.ajax||Q.ajax||$.ajax,injectIndex:1,injectCallback:"complete"}))}})}(),function(t){"use strict";var e,n,r=Q.isObject,i=Q.isFunc,o=Q.isHttpURL,s=Q.type,a=Q.makeArray,u=Q.extend,c=Q.fire,l=Q.waitFor,f=Q.G,h=f.document,d=h.documentElement,p=h.head||h.getElementsByTagName("head")[0],v="BackCompat"==h.compatMode,m=encodeURIComponent;function g(t){try{return decodeURIComponent(t)}catch(e){return t}}var x={},b=Date.now(),y=1,w=2;function _(e,n,i,o){var s=a(e),u=s.length;if(!(u<=0)){i=i||{},r(n)&&(n=(i=n).complete);var f=i.init||o,h=0,d=function(t,e){x[t]!=w&&(x[t]=w,i.removed&&p.removeChild(e),c(i.after,e,t,e),v(t))},v=function(e){++h>=u&&c(n,t,e)};s.forEach(function(t){if(!1===i.cache&&(t=join_url(t,"_="+ ++b)),!1!==i.once&&x[t])return x[t]==w?v(t):l(function(){return x[t]==w},function(){v(t)});var e=f(t);x[t]=y,e.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||d(t,this)},e.onload=function(){d(t,this)},c(i.before,e,t,e),p.insertBefore(e,p.lastChild)}),s=null}}var k,C="unknown",S={};f.ActiveXObject||f.msIndexedDB?(S.ie=k=h.documentMode||(f.XMLHttpRequest?7:6),S["ie"+(k<6?6:k)]=!0,C="trident"):f.opera?C="opera":f.mozInnerScreenX!=t||i(h.getBoxObjectFor)?C="gecko":(f.webkitMediaStream||f.WebKitPoint)&&(C="webkit"),S[C]=!0,u(Q,S),S.name=C;var M=Object.prototype.hasOwnProperty,I={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j="null";function E(t){return I[t]||t}function T(e){switch(s(e)){case"string":return'"'+e.replace(/[\x00-\x1f\\"]/g,E)+'"';case"list":case"array":for(var n=[],r=0,i=e.length;r<i;r++)"function"!=typeof e[r]&&n.push(e[r]!=t?T(e[r]):j);return"["+n+"]";case"object":case"arguments":n=[];for(var o in e)M.call(e,o)&&"function"!=typeof e[o]&&n.push('"'+o+'":'+T(e[o]));return"{"+n.toString()+"}";case"boolean":return e+"";case"number":return isFinite(e)?e+"":j;case"date":return isFinite(e.valueOf())?'"'+e.toUTC().format("yyyy-MM-ddTHH:mm:ss.SZ")+'"':j;case"function":return;default:return"object"==typeof e?"{}":j}}function $(t,e){if(!1!==e&&!/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))throw new Error("JSON SyntaxError");try{return new Function("return "+t)()}catch(t){}}function H(t){return 0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),g(t.replace(/\+/g," "))}function O(e){for(var n=e?t:{},r=h.cookie?h.cookie.split("; "):[],i=0,o=r.length;i<o;i++){var s=r[i].split("="),a=g(s[0]),u=s.slice(1).join("=");if(e&&e===a){n=H(u);break}e||(u=H(u))===t||(n[a]=u)}return n}function N(t,e,n){var r=(n=n||{}).expires;"number"==typeof r&&(r=(new Date).add("d",r)),h.cookie=[m(t),"=",m(e),r?"; expires="+r.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}function L(e){O(e)!=t&&N(e,"",{expires:-1})}function D(){for(var t=h.cookie?h.cookie.split("; "):[],e=0,n=t.length;e<n;e++){L(g(t[e].split("=")[0]))}}function A(e,n){var r="sessionStorage"!=e;if(r||location.host){var i=e,o=f[i],s=o&&"getItem"in o?"storage":null;if(!s){var a=h.documentElement;try{a.addBehavior("#default#userdata"),r&&(a.expires=(new Date).add("d",7).toUTCString()),i=location.hostname||"local",a.save(i),(o={getItem:function(t){return a.load(i),a.getAttribute(t)},setItem:function(t,e){a.setAttribute(t,e),a.save(i)},removeItem:function(t){a.removeAttribute(t),a.save(i)},clear:function(){a.load(i);var t=(new Date).add("d",-1);a.expires=t.toUTCString(),a.save(i)}}).getItem("_Q_")===t&&(o.setItem("_Q_",1),o.removeItem("_Q_")),s="userdata"}catch(t){}!s&&n&&(o={getItem:O,setItem:r?function(t,e){N(t,e,{expires:7})}:N,removeItem:L,clear:D},s="cookie")}var u=!!s;return{support:u,adapter:s,get:function(e,n){if(u)try{var r=o.getItem(e);return n?r?JSON.parse(r):null:r}catch(t){}return t},set:function(t,e){if(u)try{return o.setItem(t,"string"==typeof e?e:JSON.stringify(e)),!0}catch(t){}return!1},remove:function(t){if(u)try{return o.removeItem(t),!0}catch(t){}return!1},clear:function(){if(u)try{return o.clear(),!0}catch(t){}return!1}}}}f.JSON||(f.JSON={stringify:T,parse:$}),JSON.encode=T,JSON.decode=$;var z={getSize:function(){return{width:n.clientWidth,height:n.clientHeight}},getWidth:function(){return n.clientWidth},getHeight:function(){return n.clientHeight},getScrollWidth:function(){return Math.max(d.scrollWidth,e.scrollWidth)},getScrollHeight:function(){return Math.max(d.scrollHeight,e.scrollHeight)},getScrollLeft:function(){return d.scrollLeft||e.scrollLeft},getScrollTop:function(){return d.scrollTop||e.scrollTop}};function P(){Q.body=e=h.body,Q.root=n=v?e:d}u(Q,{html:d,head:p,quirk:v,ready:function(t){l(function(){return Q.root},t)},loadJS:function(t,e,n){_(t,e,n,function(t){var e=h.createElement("script");return e.type="text/javascript",e.src=t,e})},loadCSS:function(t,e,n){_(t,e,n,function(t){var e=h.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,e})},engine:S,isInputKey:function(t){return t>=65&&t<=90||32==t||229==t||t>=48&&t<=57||t>=96&&t<=111&&108!=t||t>=186&&t<=192||t>=219&&t<=222||8==t||46==t},isSameHost:function(e){if(!o(e))return!0;var n=RegExp.lastMatch.length,r=e.indexOf("/",n);return e.slice(0,-1!=r?r:t).toLowerCase()==(location.protocol+"//"+location.host).toLowerCase()},clearSelection:function(){if(f.getSelection){var t=getSelection();t.removeAllRanges?t.removeAllRanges():t.empty&&t.empty()}else h.selection&&h.selection.empty()},cookie:{get:O,set:N,remove:L,clear:D},store:new A("localStorage",!0),session:new A("sessionStorage",!0),view:z,Storage:A}),h.body?P():l(function(){return h.body},P),f.request=Q.parseUrlParams(location.search)}(),function(t){"use strict";var e=Q.fire;Q.setTimer=function(n){var r=n.box,i=n.process,o=n.pad?2:1,s=n.time,a=n.step||1,u=n.sleep||1e3,c=+n.max||0,l=n.join||"",f=n.units||["天","小时","分","秒"];if((r||i)&&s!=t&&!isNaN(s)){var h,d=+s,p=function(t,e){return t>9||1==e?t:"0"+t},v=function(){if((d+=a)<c)return e(n.over);h&&clearTimeout(h);var s=Date.parts(d),m=s.days,g=s.hours,x=s.mintues,b=s.seconds,y=m+f[0]+l+p(g,o)+f[1]+l+p(x,o)+f[2]+l+p(b,o)+f[3],w=e(i,t,d,y,m,g,x,b);!1!==w&&($(r).html("string"==typeof w?w:y),h=setTimeout(v,u))};return v(),{start:v,stop:function(){h&&clearTimeout(h)}}}}}(),function(t){"use strict";var e=Q.G,n=Q.isFunc,r=Q.isObject,i=Q.isArrayLike,o=Q.extend,s=Q.makeArray,a=Q.view;function u(t,e,n){var r=new jQuery.Event(t);!1!==e&&r.preventDefault(),!1!==n&&r.stopPropagation()}jQuery.Event.prototype.stop=function(){u(this)};var c=!!document.addEventListener;function l(t,e,n,r,i,o){var s=r;i&&(s=function(i){r.call(this,i),$(t).off(e,n,s)}),$(t).on(e,n,s),i||o.push([t,e,s,n])}function f(e,o,a,u,c){"string"==typeof o?(o=o.split(" "),n(a)&&(c=c||u,u=a,a=t)):(!0!==a&&!0!==u||(c=!0),!0===a&&(a=t));var f=[];return s(e).forEach(function(t){i(o)?s(o).forEach(function(e){l(t,e,a,u,c,f)}):r(o)&&Object.forEach(o,function(e,n){l(t,e,a,n,c,f)})}),{es:f,off:function(t,e){h(f,t,e)}}}function h(t,e,n){t.forEach(function(t){$(t[0]).off(t[1],t[3],t[2])})}function d(t,e,n){var r=$(t);t&&r.css(e)!=n&&r.css(e,n)}function p(t,e,n){var r=document.createElement(t);return e&&(r.className=e),n&&(r.innerHTML=n),r}function v(t,e){var n=t.style.cssText;n&&(t.style.cssText=n.drop(e+"(-[^:]+)?\\s*:[^;]*;?","gi").trim())}Q.event={fix:function(t){return new jQuery.Event(t)},stop:u,trigger:function(t,e){$(t).trigger(e)},addEvent:function(t,e,n){c?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},removeEvent:function(t,e,n){c?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},add:f,removeEs:h,one:function(t,e,n,r){return f(t,e,n,handler,!0)}};var m="previousSibling",g="nextSibling",x="firstChild";function b(t,e,n,r){t=t[n||e];for(var i=[];t;){if(1==t.nodeType){if(!r)return t;i.push(t)}t=t[e]}return r?i:null}var y={left:0,top:0};o(Q,{camelCase:$.camelCase,attr:function(t,e,n){return $(t).attr(e,n)},prop:function(t,e,n){return $(t).prop(e,n)},width:function(t,e){return $(t).width(e)},height:function(t,e){return $(t).height(e)},getStyle:function(t,e){return $(t).css(e)},setStyle:function(t,e,n){if(null===n)return v(t,e);$(t).css(e,n)},setOpacity:function(t,e){return $(t).css("opacity",e)},removeCss:v,css:function(t,e,n){return $(t).css(e,n)},show:function(t){$(t).show()},hide:function(t){$(t).hide()},toggle:function(t){$(t).toggle()},isHidden:function(t){return $(t).is(":hidden")},offset:function(e,n,r){var i=$(e);if(n===t&&r===t){var o=i.offset();return o.width=i.outerWidth(),o.height=i.outerHeight(),o}d(e,"position","absolute"),n!==t&&i.css("left",n),r!==t&&i.css("top",r)},setCssIfNot:d,setCenter:function(t,e){d(t,"position","absolute");var n=a.getSize(),r=$(t.offsetParent).offset()||y,i=Math.round((n.width-$(t).outerWidth())/2)-r.left+a.getScrollLeft(),o=Math.round((n.height-$(t).outerHeight())/2)-r.top+a.getScrollTop(),s={left:Math.max(i,0),top:Math.max(o,0)};return e?s:$(t).css(s)},getFirst:function(t){return t.firstElementChild||b(t,g,x,!1)},getLast:function(t){return t.lastElementChild||b(t,m,"lastChild",!1)},getPrev:function(t){return t.previousElementSibling||b(t,m,null,!1)},getNext:function(t){return t.nextElementSibling||b(t,g,null,!1)},getChilds:function(t){return t.children?s(t.children):b(t,g,x,!0)},findTag:function(t,e){for(;t&&"BODY"!=t.tagName;){if(t.tagName==e)return t;t=t.parentNode}},createEle:p,createStyle:function(t){var e=document.createElement("style");return e.type="text/css",e.styleSheet&&(e.styleSheet.cssText=t)||e.appendChild(document.createTextNode(t)),Q.head.appendChild(e),e},parseHTML:function(e,n){var r=p("div",t,e);return n?r.childNodes:Q.getFirst(r)},removeEle:function(t){$(t).remove()},hasClass:function(t,e){return $(t).hasClass(e)},addClass:function(t,e){$(t).addClass(e)},removeClass:function(t,e){$(t).removeClass(e)},replaceClass:function(t,e,n){$(t).removeClass(e).addClass(n)},toggleClass:function(t,e){$(t).toggleClass(e)},setInputError:function(t,e,n){e?t.style.borderColor="red":t.style.border="1px solid red",t.value=n||"",t.focus()},setInputDefault:function(t){v(t,"border")}}),e.$$=Q.query=$.find}(),function(t){"use strict";var e,n=Q.G,r=n.document,i=Q.isObject,o=Q.isFunc,s=Q.isUNum,a=Q.isUInt,u=Q.def,c=Q.fire,l=Q.async,f=Q.extend,h=Q.makeArray,d=Q.getStyle,p=Q.setStyle,v=Q.getFirst,m=Q.getNext,g=Q.width,x=Q.height,b=Q.createEle,y=Q.removeEle,w=Q.show,_=Q.hide,k=Q.isHidden,C=Q.addClass,S=Q.setCssIfNot,M=Q.setCenter,I=Q.setInputError,j=Q.setInputDefault,E=Q.clearSelection,T=Q.query,H=Q.factory,O=Q.ie<7,N=Q.view,L=Q.event,D={color:"#999",opacity:.3};function A(t){var e=b("div","x-mask");Q.body.appendChild(e),O&&(e.style.height=N.getScrollHeight()+"px"),this.box=e,this.set(f(t||{},D)),this.count=k(e)?0:1}function z(){return e?(e.show(),e):e=new A}H(A).extend({opacity:function(t){return this.set({opacity:t})},set:function(e){var n=this.box;return Object.forEach(e,function(e,r){r!==t&&p(n,"color"!=e?e:"backgroundColor",r)}),this},show:function(){return this.removed&&(Q.body.appendChild(this.box),this.removed=!1),w(this.box),this.count++,this},hide:function(){return this.count>0&&this.count--,this.count<=0&&_(this.box),this},remove:function(){return y(this.box),this.removed=!0,this.count=0,this}});var P,W,F=1e3,U=F;function B(t){c(t,this),this._apis=[],this.start()}function R(t,e){return new B(function(){1!=t.nodeType?t=(e=t).ele:(e=e||{}).ele=t;var n,r,o,s,a,u,c,l,f=this,h=e.range||{x:0,y:0},d=!!e.shadow,p=t.offsetWidth,v=t.offsetHeight,m=t;d&&(W||(W=b("div","x-drag-shadow"),Q.body.appendChild(W)),m=W),f.ops=e,f.doDown=function(e){o=e.clientX,s=e.clientY;var i=d?$(t).offset():$(t).position();n=i.left,r=i.top,d&&Object.forEach({left:n,top:r,width:p,height:v},function(t,e){m.style[t]=e+"px"})},f.doMove=function(t){if(w(m),c){a=t.clientX-o;var e=n+a;h&&(e<h.x?e=h.x:h.w&&e+p>h.x+h.w&&(e=h.x+h.w-p)),m.style.left=e+"px"}if(l){u=t.clientY-s;var i=r+u;h&&(i<h.y?i=h.y:h.h&&i+v>h.y+h.h&&(i=h.y+h.h-v)),m.style.top=i+"px"}},d&&(f.doUp=function(){_(m),t.style.left=t.offsetLeft+a+"px",t.style.top=t.offsetTop+u+"px"}),f.setLock=function(t,e){return c=t,l=e,f.pause(!t&&!e)},f.setRange=function(t,e,n,r){return h=i(t)?t:{x:t,y:e,w:n,h:r},f},f.setLock(!1!==e.isX,!1!==e.isY)})}function X(t){this._es=[],c(t,this)}H(B).extend({start:function(){var t=this,e=t.ops,r=e.scope||n,i=r.document,s=e.ele,a=e.target||s,u=!1!==e.autoIndex,f=!!e.autoMask,h=!1!==e.autoCss,p=!1!==e.autoCursor,v=1==s.nodeType?+d(s,"z-index"):0,m=t.doDown,g=t.doMove,x=t.doUp,b=e.onCheck,y=e.onDown,w=e.onMove,_=e.onUp,Q=function(t){for(var e=[],r=t||n;r.top!=r;){var i=r.parent;e.push(i),r=i}return e}(r),k=!!s.setCapture,C=!k&&Q.length>0;v>=U&&(U=v+1),h&&S(s,"position","absolute"),h&&p&&S(a,"cursor","move"),e.center&&(M(s),t._api_resize=L.add(r,"resize",function(){M(s)}));var I=function(e){t._pause||(c(g,t,e),c(w,t,e))},j=function(e){t._unbind(),k&&s.releaseCapture(),f&&P&&(P.remove(),P=null),E(),c(x,t,e),c(_,t,e)};return t._up=j,t._api=L.add(a,"mousedown",function(e){o(b)&&!1===b.call(t,e)||(u&&(+d(s,"z-index")||0)<U&&(U++,s.style.zIndex=U),t._unbind(),k?(s.setCapture(),t._bind(s,"losecapture",j)):t._bind(r,"blur",j),t._bind(i,{mousemove:I,mouseup:j}),C&&t._bind(Q,"mouseup",j),f&&(P||(P=new A({color:null,opacity:null,zIndex:999999})),O&&P.set({height:N.getScrollHeight()})),l(E,20),c(m,t,e),c(y,t,e))}),t},_bind:function(){this._apis.push(L.add.apply(L,arguments))},_unbind:function(){var t=this._apis;t.length>0&&(t.forEach(function(t){t.off()}),this._apis=[])},pause:function(t){return this._pause=t,this._up&&this._up(),this},stop:function(){var t=this._api;return this._unbind(),t&&(t.off(),this._api=null),this},destroy:function(){var t=this._api_resize;return this.stop(),t&&(t.off(),this._api_resize=null),this}}),$.fn.extend({drag:function(t){return this.each(function(e,n){R(n,t)})}}),H(X).extend({find:function(t,e){return"string"==typeof t?T(t,e||this.box):h(t)},$:function(t,e){return $(this.find(t,e))},get:function(t,e){return this.find(t,e)[0]},fire:function(){return c(this.callback,this,this.data),this},getEventCallback:function(t,e){var n=this;return"hide"==t?function(){n.data=e,n.hide()}:"remove"==t?function(){n.data=e,n.remove()}:t},bind:function(t,e,n,r){return this._es.push(L.add(this.find(t),e,this.getEventCallback(n,r))),this},on:function(t,e,n,r){return this._es.push(L.add(this.box,t,e,this.getEventCallback(n,r))),this},show:function(){var t=this;return t.onShow&&t.onShow(),w(t.box),t.mbox&&t.mbox.show(),t},hide:function(){var t=this;return _(t.box),t.mbox&&t.mbox.hide(),t.onHide&&t.onHide(),t.fire()},toggle:function(){return k(this.box)?this.show():this.hide()},remove:function(){var t=this;if(t.box)return y(t.box),t.mbox&&t.mbox.hide(),t.dr&&t.dr.destroy(),t._es.forEach(function(t){t.off()}),t.box=t.mbox=t.dr=null,t.onRemove&&t.onRemove(),t.fire()}}),X.alias({$:"query",remove:"destroy"});var q={titleBox:"弹出框",titleAlert:"提示信息",titleConfirm:"确认信息",titlePrompt:"输入信息",titleClose:"点击关闭",titleLoading:"加载数据",buttonSubmit:"确定",buttonCancel:"取消",textLoading:"正在加载数据,请稍后…"};function Y(t){return t=t||{},new X(function(){var e=this,n=t.width,i=t.height,o=u(t.maxHeight,N.getHeight()-60),f=!1!==t.drag,h=f&&!1!==t.center,d=t.className;e.ops=t,e.callback=t.callback;var p='<div class="x-head"><h2 class="x-title">'+(t.title||q.titleBox)+'</h2><a class="x-close" title="'+q.titleClose+'">X</a></div><div class="x-main"><div class="x-view">'+(t.html||"")+"</div></div>";O&&(p+='<iframe class="x-ie-fix" style="position: absolute;top:0;left:0;z-index:-1;" scrolling="no" frameborder="0"></iframe>');var y=b("div","x-box"+(d?" "+d:""),p);Q.body.appendChild(y),e.box=y;var w=t.zIndex||0;U>F&&(w=Math.max(w,U)),w&&(y.style.zIndex=w);var _=v(y),k=m(_);e.setTitle=function(t){return $(".x-title",_).html(t),e},e.setWidth=function(n){return t.width=n,g(y,n),c(t.resize,e),e},e.setHeight=function(n){return t.height=n,x(k,n-_.offsetHeight-20),e},e.setMaxHeight=function(n){t.maxHeight=n;var r=t.height;return s(r)&&r>n&&(r=n),y.scrollHeight>n&&(r=n,C(y,"x-box-auto")),s(r)&&e.setHeight(r),h&&M(y),c(t.resize,e),e},e.autoHeight=function(){var n=t.maxHeight;if(!n)return e;var r=e.get(".x-head").offsetHeight,i=n-r-20,o=n-r;return k.style.height=k.scrollHeight>o?i+"px":"auto",h&&M(y),e},s(n)&&g(y,n),_.offsetWidth<10&&g(_,y.offsetWidth),o?e.setMaxHeight(o):s(i)&&e.setHeight(i),!1!==t.mask&&(e.mbox="new"==t.mask?new A:z());var S=t.close||"hide",I=e.getEventCallback(S);e.bind(".x-close","click",S),!1!==t.esc&&e.bind(r,"keyup",function(t){27==t.keyCode&&I()});var j=t.time;a(j)&&l(I,j),c(t.init,e,y,t),f&&(e.dr=R(y,{target:_,center:h,shadow:t.shadow,autoMask:!0,onCheck:function(t){var e=t.target;return e&&"x-close"!=e.className}})),$(".x-ie-fix",y).width(y.offsetWidth-2).height(y.offsetHeight-2)})}function J(t){t.width||(t.width=320);var e=t.width;if(t.icon||t.iconHtml){var n='<div class="fl x-ico">'+(t.iconHtml||'<img alt="" src="'+t.icon+'"/>')+'</div><div class="fl x-dialog"'+(s(e)?' style="width:'+(e-60)+'px;"':"")+">"+t.html+'</div><div class="clear"></div>';t.html=n;var r=t.init;t.resize=function(){var t=this.get(".x-view").offsetWidth-this.get(".x-ico").offsetWidth;$(".x-dialog",this.box).width(t)},t.init=function(t,e){e.resize.call(this),c(r,this,t,e)}}else t.html='<div class="x-dialog">'+t.html+"</div>";return t.bottom&&(t.html+=t.bottom),t.close||(t.close="remove"),Y(t)}function K(t,e){var n="inline-block w-button w-"+(e||"dark");return'<div class="x-bottom"><div class="'+n+' x-submit">'+q.buttonSubmit+"</div>"+(2==t?'<div class="'+n+' x-cancel">'+q.buttonCancel+"</div>":"")+"</div>"}function G(t,e,n,r){return"object"==typeof n&&(n=r=n),r=f({},r),o(n)&&(r.callback=n),r.title||(r.title=t),r.html=e,r}f(Q,{createDialogBox:J,alert:function(t,e,n){return(n=G(q.titleAlert,t,e,n)).iconHtml='<div class="ico x-alert"></div>',J(n)},confirm:function(t,e,n){return(n=G(q.titleConfirm,t,e,n)).bottom||(n.bottom=K(2)),n.mask=!1!==n.mask,J(n).bind(".x-submit","click","remove",!0).bind(".x-cancel","click","remove",!1)},prompt:function(e,n,r){r=G(q.titlePrompt,t,n,r),n=r.callback,r.callback=t;var i='<div class="x-text">'+e+'</div><div class="x-input"><input type="'+(r.pwd?"password":"text")+'" /></div>';r.html=i,r.bottom||(r.bottom=K(2));var o=J(r),s=o.get(".x-input>input");s.focus(),s.value=u(r.value,"");var a=function(){!1!==c(n,s,s.value)?o.remove():I(s)};return o.bind(s,"keyup",function(t){13==t.keyCode?a():j(this)}),o.bind(".x-submit","click",a).bind(".x-cancel","click","remove")},bottom:K,showLoading:function(t){return(t=f({},t)).title||(t.title=q.titleLoading),t.html||(t.html=q.textLoading),t.iconHtml='<div class="ico x-loading"></div>',J(t)}}),f(Q,{getMaskBox:z,maskSetup:function(t,n){f(D,t,!0),n&&e&&e.reset(t)},setDrag:R,setBoxLang:function(t){f(q,t,!0)},MaskBox:A,DragX:B,Box:X,WinBox:Y})}(),function(t){"use strict";var e=window.document,n=Q.fire,r=Q.extend,i=Q.makeArray,o=Q.getStyle,s=Q.offset,a=Q.hasClass,u=Q.addClass,c=Q.removeClass,l=Q.createEle,f=Q.factory,h=Q.event;function d(e,n,r){n!=t&&(e.style.left=n+"px"),r!=t&&(e.style.top=r+"px")}function p(t,e){this.set(e).init(t)}f(p).extend({init:function(t){var n=this;return n.draw(t),!1!==n.autoHide&&(n._e0=h.add(e,"click",function(){n.hide()})),n},set:function(t){return r(this,t,!0),this},draw:function(e){var r=this;r._menus=[],r._items=[],r._map_menu={},r._map_item={},r.i=r.j=0,r._active=t;var i,o=r._tmp=[];for(r.drawMenu(e);i=o.shift();)r.drawMenu.apply(r,i);r._tmp=null,r.i=r.j=0;var s=r._getMenu(0).node;r.box=s;var l=[];return r._menus.forEach(function(t){t&&!t.linked&&l.push(t.node)}),r._e1&&r._e1.off(),r._e1=h.add(l,{click:function(t){var e=this._j;if(a(this,"x-disabled")||r._getSubMenu(e)&&!r.isFireAll)return!1;var i=r._getItem(e);n(i.data.click,this,t,i),n(r.onclick,this,t,i),r.hide()},mouseenter:function(t){var e=this,i=e._i,o=e._j;r._hideSub(i,o),u(e,"x-on");var s=r._getItem(o);n(s.data.mouseover,e,t,s),n(r.onmouseover,e,t,s),a(e,"x-disabled")||r._showSub(i,o,e)},mouseleave:function(t){var e=this,i=e._i,o=e._j,s=r._getSubMenu(o);a(e,"x-disabled")||!s?c(e,"x-on"):0==i&&(r._active=o);var u=r._getItem(o);n(u.data.mouseout,e,t,u),n(r.onmouseout,e,t,u)}},".x-item"),r._e2&&r._e2.off(),r._e2=h.add(l,"mousedown",h.stop),r.hide()},drawMenu:function(n,r){var i=this,o=i._menus,s=i._items,a=i._map_menu,u=i._map_item,c=!!(h=n.box),f=i.i++;if(!h){var h,d=n.className;(h=l("div","x-panel"+(d?" "+d:""))).style.width=(n.width||120)+"px"}if(o[f]={node:h,linked:c,j:r,data:n},r&&(a[r]=f),c)return i;for(var p=!1!==i.subMenu,v=0,m=n.items;v<m.length;v++){var g=m[v];if(g){var x=e.createElement("div"),b=i.j++;if(x._i=f,x._j=b,s[b]={node:x,i:f,j:b,data:g},g.id!=t&&(u[g.id]=b),g.split)x.className="x-split";else{x.className="x-item"+(g.disabled?" x-disabled":""),x.x=g.x!=t?g.x:"";var y=g.group,w=p&&y&&(y.box||y.items&&y.items.length>0),_=g.ico,k=g.html||'<div class="x-icon">'+(_?/^<.+>$/.test(_)?_:'<img alt="" src="'+_+'">':"")+'</div><div class="x-text"'+(g.title?' title="'+g.title+'"':"")+">"+g.text+"</div>"+(w?'<div class="arrow"></div>':"");x.innerHTML=k,w&&i._tmp.push([y,b])}h.appendChild(x)}}return Q.body.appendChild(h),i},_getMenu:function(t){return this._menus[t]},_getSubMenu:function(e){var n=this._map_menu[e];return n!=t?this._getMenu(n):t},_getItem:function(t){return this._items[t]},getItem:function(e){var n=this._map_item[e];return n!=t?this._items[n]:t},setItemText:function(t,e){var n=this.getItem(t);if(n){n.data.text=e;var r=n.node.childNodes[1];r&&(r.innerHTML=e)}},processItems:function(t,e){var n=this;return i(t).forEach(function(t){var r=n.getItem(t);r&&e(r.node,r)}),n},_processItems:function(t,e,n){return this.processItems(t,function(t){e(t,n)})},enableItems:function(t){return this._processItems(t,c,"x-disabled")},disableItems:function(t){return this._processItems(t,u,"x-disabled")},showItems:function(t){return this._processItems(t,c,"hide")},hideItems:function(t){return this._processItems(t,u,"hide")},_setPos:function(e,n,r,i){var o=this,s=o.rangeX,a=o.rangeY,u=e.node,c=u.offsetWidth,l=u.offsetHeight,f=e.data||{},h=f.maxHeight;if(h){var p=Math.max(l,u.scrollHeight)>h;u.style.height=p?h+"px":"auto",o.fixedWidth||(u.style.width=f.width+(p?17:0)+"px"),l=u.offsetHeight}return n==t&&(n=o.x||0),r==t&&(r=o.y||0),s&&n+c>s&&(n=s-c,i&&(n=n-i.offsetWidth+3)),a&&r+l>a&&(r=a-l-1),n<0&&(n=0),r<0&&(r=0),d(u,n,r),o.x=n,o.y=r,o},_showSub:function(t,e,n){var r=this,i=r._getMenu(t),a=r._getSubMenu(e);if(a){var u=i.node,c=a.node,l=s(n),f=+o(u,"zIndex");+o(c,"zIndex")<=f&&(c.style.zIndex=f+1),r._setPos(a,l.left+n.offsetWidth-2,l.top,u)}return r.i=t,r.j=e,r},_inactive:function(t){var e=this._getItem(t);return e&&c(e.node,"x-on"),this},_hideSub:function(t,e){var n=this;if(t<=n.i&&e!=n.j){var r,i=n._menus;for(r=i.length-1;r>t;r--)n._hide(i[r]);if(t<n.i)for(r=n.i;r>t;r--){var o=n._getMenu(r);n._inactive(o.j)}}return t==n.i&&e!=n.j&&n._getSubMenu(n.j)&&n._inactive(n.j),n},_hide:function(t){if(t){var e=t.node;-1e4!=e.style.left&&d(e,-1e4,-1e4)}return this},show:function(t,e){return this._setPos(this._menus[0],t,e)},hide:function(){var e=this;return e._menus.forEach(function(t){e._hide(t)}),e._active!=t&&(e._inactive(e._active),e._active=t),e},isHidden:function(){var t=this.box,e=parseFloat(t.style.left),n=parseFloat(t.style.top);return e<=-t.offsetWidth||n<=-t.offsetHeight},toggle:function(t,e){return this.isHidden()?this.show(t,e):this.hide()},destroy:function(){var t=this;return t._e0&&t._e0.off(),t._e1&&t._e1.off(),t._menus.forEach(function(t){t.node.innerHTML="",$(t.node).remove()}),Object.forEach(t,function(e){t[e]=null}),t}}),Q.ContextMenu=p}(),function(t){"use strict";var e=window.document,n=Q.def,r=Q.fire,i=Q.isObject,o=Q.getFirst,s=Q.getLast,a=Q.width,u=Q.hasClass,c=Q.addClass,l=Q.removeClass,f=Q.createEle,h=Q.factory,d=Q.ie,p=Q.event;function v(t){t=t||{};var e=this;e.box=t.box,e.items=t.items||[],e.multiple=t.multiple,e.canInput=t.canInput,e.textProp=t.textProp||"text",e.value=t.value,e.index=t.index||0,e.ops=t}h(v).extend({init:function(){var t=this,n=t.ops,i=t.box,l=!t.multiple,f=t.canInput,h=n.placeholder,v=(l?'<div class="x-sel-tag">'+(f?'<input type="text" class="x-sel-text"'+(h?' placeholder="'+h+'"':"")+" />":'<div class="x-sel-text"></div>')+'<div class="x-sel-arrow"><div class="arrow arrow-down"></div></div></div>':"")+'<div class="x-panel x-sel-list'+(l?"":" x-sel-multiple")+'"></div>';c(i,"x-sel"),i.innerHTML=v;var m,g,x,b,y=s(i);return a(y,n.width||i.offsetWidth-2),l&&(m=o(i),g=o(m),x=s(m),t.elText=g,t.elArrow=x),t.elList=y,l?(!1!==n.autoHide&&p.add(e,"mousedown",function(){t.hide()}),p.add(f?x:i,"mousedown",function(e){return t.toggle(),!1}),b={mousedown:p.stop,mouseup:function(e){var n=this.x,i=t.items[n];r(t.onclick,t,i,n),i.disabled||(t.hide(),n!=t.index&&t.select(n))},mouseenter:function(){var e=this.x;t.items[e].disabled||t.active(e)}}):(t.selectedItems=[],t.seletedMap={},b={mousedown:function(e){if(!u(this,"x-disabled")){var n=this.x,r=t.selectedItems[0],i=e.shiftKey,o=e.ctrlKey;if(!i&&o||t.clearSelect(),i){var s=r?r.index:n,a=n;s>a&&(a=s,s=n);for(var c=s;c<=a;c++)t.active(c)}else o&&t.seletedMap[n]?t.inactive(n):t.select(n)}}},d<10&&(b.selectstart=p.stop)),p.add(y,b,".x-item"),t.draw()},draw:function(){var t=this,e=t.ops,n=t.items,r=t.elList,i=e.hasTitle,o=e.maxHeight,s={};(r.innerHTML="",n.forEach(function(t,e){t.index=e,s[t.value]=t;var n=t.text||"",o=f("div","x-item"+(t.group?" x-sel-group":t.disabled?" x-disabled":""),n);i&&(o.title=t.title||n.toText()),o.x=e,t.node=o,r.appendChild(o)}),t.map=s,o)&&(r.offsetHeight>o&&(r.style.height=o));var a=t.value,u=t.index;if(a){var c=t.find(a);c&&(u=c.index)}return t.select(u),t.multiple?t:t.hide()},add:function(t,e,n){return this.items.push(i(t)?t:{text:t,value:e,title:n}),this},find:function(t){return this.map[t]},clearSelect:function(){var t=this,e=function(t){t.node&&l(t.node,"selected")};return t.multiple?(t.selectedItems.forEach(e),t.selectedItems=[],t.seletedMap={}):e({node:t._el}),t},active:function(t){var e=this,n=e.items[t];if(!n)return e;var r,i=n.node;return e.multiple?n.disabled||e.seletedMap[t]||(e.selectedItems.push(n),e.seletedMap[t]=!0,r=!0):(e.clearSelect(),r=!0,e._el=i),r&&c(i,"selected"),this},inactive:function(t){var e=this,n=e.items[t];return e.multiple&&(e.selectedItems=e.selectedItems.filter(function(e){return e.index!=t}),e.seletedMap[t]=void 0),l(n.node,"selected"),e},select:function(t,e){var i=this,o=i.items[t];return o?(i.text=n(o.text,""),i.value=n(o.value,""),i.elText&&(i.elText[i.canInput?"value":"innerHTML"]=i[i.textProp]),i.active(t),e||t==i.index||r(i.onchange,i,o,t),i.index=t,i):i},show:function(){return this.elList.style.display="",this.select(this.index)},hide:function(){return this.elList.style.display="none",this},toggle:function(){return"none"==this.elList.style.display?this.show():this.hide()},getText:function(){return this.canInput?this.elText.value:this.text}}),Q.DropdownList=v}(),function(t){"use strict";var e=Q.extend,n=Q.factory,r={prevPage:"&lt;上一页",nextPage:"下一页&gt;",pageSize:"每页{0}条",totalCount:"共{0}条数据"};function i(e){var n=this;if(n.ops=e,n.size=e.size||9,n.cache={},e.href==t){var r=e.boxNav;r&&$(r).on("click","li",function(){n.go($(this).attr("x")),n.onclick&&n.onclick.call(n,n.page)})}else e.cache=e.preload=!1;n.set(e.totalCount,e.pageSize||10).setData(e.data).go(e.page)}n(i).extend({set:function(e,n){var r=this;return e!=t&&(r.totalCount=e),n!=t&&(r.pageSize=n),r.totalCount!=t&&(r.totalPage=Math.ceil(r.totalCount/r.pageSize)),r},setData:function(t){return t&&(this.data=t,this.set(t.length)),this},_load:function(e,n){var r=this,i=r.ops,o=r.onload;r.page=e;var s=function(t){return o&&o.call(r,t),n&&n.call(r,t),r};if(!i.load){var a=r.pageSize,u=(e-1)*a;return s(r.data.slice(u,u+a))}var c=i.cache?r.cache[e]:t;return c?s(c):(i.load(e,function(t){c=t.data||[],i.cache&&(r.cache[e]=c),r.set(t.totalCount,t.pageSize),s(c)}),r)},load:function(t){return this._load(t,this.draw)},reload:function(t){return this.load(t||this.page)},go:function(e,n){var r=this;return isNaN(e)?r:(e=+e,r.totalPage!=t&&e>r.totalPage&&(e=r.totalPage),e<1&&(e=1),e!=r.page||n?(r.load(e),r.ops.load&&r.ops.preload&&r._load(e+1),r.onchange&&r.onchange.call(r,e),r):r)},drawNav:function(){var e=this,n=e.ops,i=n.boxNav;if(!i)return e;var o=e.totalCount,s=e.pageSize,a=e.totalPage,u=e.page,c=n.href,l=n.text||{},f=function(t,e,n){var r=[1];if(1==e)return r;var i,o=2;if(e<=t)i=e;else{var s=(t-5)/2;n<=s+3?i=t-2:n>e-s-3?(o=e-t+3,i=e-1):i=(o=n-~~s)+t-5}o>2&&r.push(0);for(var a=o;a<=i;a++)r.push(a);return e>t&&(i<e-1&&r.push(0),r.push(e)),r}(e.size,a,u);c!=t&&(c+=-1!=c.indexOf("?")?"&":"?");var h=function(t,e,n){return n||(n=t==u?"on":t?"":"skip"),"<li"+(n?' class="'+n+'"':"")+' x="'+t+'">'+(c?"<a"+(t?' href="'+c+"page="+t+'"':"")+">"+e+"</a>":e)+"</li>"},d=n.drawSize||function(t,e,n){return e+"/"+n},p='<div class="inline-block pager-bar'+(c?" pager-link":"")+'"><ul>'+h(Math.max(u-1,1),l.prev||r.prevPage,"prev")+f.map(function(t){return h(t,t||"…")}).join("")+h(Math.min(u+1,a),l.next||r.nextPage,"next")+"</ul></div>"+(!1!==n.showSize?'<div class="inline-block pager-count">'+d(e,r.pageSize.replace("{0}",'<span class="page-size">'+s+"</span>"),r.totalCount.replace("{0}",'<span class="total-count">'+o+"</span>"))+"</div>":"");$(i).html(p)},draw:function(t){return this.drawNav(),this.ops.draw.call(this,t),this}}),i.setLang=function(t){e(r,t,!0)},Q.DataPager=i}(),function(){"use strict";var t=Q.async,e=Q.getFirst,n=Q.parseHash,r=$.find;function i(t){var i=this,o=(t=t||{}).context,s=t.tabs||r(".tab-title li.tab,.tabTitle>li",o),a=t.conts||r(".tab-cont>.turn-box,.tabCont>.turn-box",o);i.tabs=s,i.conts=a,i.map_loaded={},i.map_index={},s.forEach(function(r,o){"1"==r.getAttribute("x-def")&&(t.index=o);var s=e(r);if(s){var a=s.href.split("#")[1]||"",u=n(a).nav;u&&(i.map_index[u]=o)}}),s.forEach(function(t,e){$(t).hasClass("skip")||$(t).click(function(){i.showTab(e)})}),$(a).hide(),setTimeout(function(){var e=n().nav.slice(1)||t.hash,r=i.map_index[e];null==r&&(r=t.index||0),i.showTab(r)},20)}Q.factory(i).extend({getTab:function(t){return this.tabs[t]},getCont:function(t){return this.conts[t]},hasLoaded:function(t){return!!this.map_loaded[t]},showTab:function(e){var n=this,r=n.index;if(e!==r){if(void 0!==r){var i=n.getTab(r),o=n.getCont(r);$(i).removeClass("on"),$(o).hide()}var s=n.getTab(e),a=n.getCont(e),u=n.map_loaded;$(s).addClass("on"),$(a).show(),n.index=e;var c={index:e,tab:s,cont:a,loaded:u[e]};t(n.onchange,100,c),t(window.onTabChange,200,c),u[e]||(u[e]=!0)}}}),Q.Tabs=i,Q.setTabs=function(t){return new i(t)}}(),function(t){"use strict";var e=Q.fire,n=Q.createEle,r=Q.factory,i=Q.DragX;function o(t){var r=(t=t||{}).box,o=n("div","range-slider-bar"),s=n("div","range-progress"),a=n("div","range-slider");o.appendChild(s),o.appendChild(a),r.appendChild(o);var u=this;u._elBar=o,u._elProgress=s,u._elSlider=a,u.min=+t.min||0,u.max=+t.max||100,u.step=+t.step||1,u.value=+t.value||0;var c=u.step+"",l=c.lastIndexOf("."),f=-1!=l?c.length-l-1:0,h=Math.pow(10,f);u.onchange=t.onchange,u.val(u.value),u._drag=new i(function(){var t,n,r,i;this.ops={ele:a,autoCursor:!1},this.doDown=function(e){t=o.offsetWidth,n=s.offsetWidth,r=e.clientX,i=t-a.offsetWidth},this.doMove=function(o){var c=o.clientX-r,l=n+c;l<0?l=0:l>t&&(l=t);var f=~~(l*(u.max-u.min)/(t*u.step)),d=(u.min*h+u.step*h*f)/h;s.style.width=100*l/t+"%",a.style.left=100*Math.min(l,i)/t+"%",d!=u.value&&(u.value=d,e(u.onchange,u,u.value))}})}r(o).extend({val:function(t){var e=this;if(null==t)return e.value;t<e.min?t=e.min:t>e.max&&(t=e.max);var n=e._elProgress,r=e._elSlider,i=e._elBar.offsetWidth;return e.value=t,n.style.width=100*t/(e.max-e.min)+"%",r.style.left=100*Math.min(n.offsetWidth,i-r.offsetWidth)/i+"%",e}}),Q.RangeSlider=o}();