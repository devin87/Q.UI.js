//devin87@qq.com
//build:2018/11/07 13:31:24
!function(f){"use strict";var t="object"==typeof global?global:window,u=Object.prototype.toString,s=Object.prototype.hasOwnProperty,n=Array.prototype.slice,e=t==t.window;function r(t){if(t==f)return""+t;if("object"!=typeof t&&"function"!=typeof t)return typeof t;if(e){if("number"==typeof t.nodeType)return"node";if("number"==typeof t.length){if(t==t.window)return"window";if(t.item)return"list"}}return u.call(t).slice(8,-1).toLowerCase()}function h(t){return"[object Function]"===u.call(t)}function a(t){return t&&"[object Object]"===u.call(t)}function c(t){return"[object Array]"===u.call(t)}function o(t,e){return t!==f?t:e}function i(t,e,n,r){if("number"!=typeof t)return!1;if(e!=f&&t<e)return!1;if(n!=f&&n<t)return!1;if(r&&r<((t+"").split(".")[1]||"").length)return!1;return!0}function l(t,e,n){return i(t,e,n)&&t===Math.floor(t)}function d(t){return l(t,1)}function p(t,e){for(var n=[],r=e||0,i=t.length;r<i;r++)n.push(t[r]);return n}var v=function(){try{return n.call(document.documentElement.childNodes),function(t,e){return n.call(t,e)}}catch(t){return p}}();function m(t,e,n){if(!t)return[];n=!1!==n;for(var r,i=t.length,o=0,s=[];o<i;o++)(r=t[o])&&r[e]!=f?s.push(r[e]):n||s.push(f);return s}function g(t,e,n){if(t&&t.prototype){var r=t.prototype;if("string"==typeof e)r[n]=r[e];else for(var i in e)s.call(e,i)&&s.call(r,i)&&(r[e[i]]=r[i]);return t}}function x(t,e,n){if(!t||!e)return t;for(var r in e)r!=f&&s.call(e,r)&&(n||t[r]===f)&&(t[r]=e[r]);return t}function b(t,e,n){if(t){for(var r={},i=h(e),o=e!==f,s=0,a=t.length;s<a;s++){var u,c=t[s];if(c!=f){if(i){var l=e.call(t,c,s);if(!l)continue;c=l[0],u=l[1]}else u=o?e:s;r[n?c.toLowerCase():c]=u}}return r}}function y(t,e,n){if(t){var r={},i=!1;!0===n&&(i=n,n=f);for(var o=0,s=t.length;o<s;o++){var a=t[o];a&&"object"==typeof a&&(i&&(a.index=o),r[a[e]]=n?a[n]:a)}return r}}function w(t){return t==f?"":t+""}function _(t,n,e){e?t.sort(function(t,e){return-w(t[n]).localeCompare(w(e[n]))}):t.sort(function(t,e){return w(t[n]).localeCompare(w(e[n]))})}function Q(t,n,e){e?t.sort(function(t,e){return(+e[n]||0)-(+t[n]||0)}):t.sort(function(t,e){return(+t[n]||0)-(+e[n]||0)})}function k(t,a,u){t.sort(function(t,e){var n=t[a],r=e[a];if(n==r)return 0;var i=Date.from(n),o=Date.from(r),s=0;return i!=N&&o!=N?s=i-o:i==N&&o!=N?s=-1:i!=N&&o==N&&(s=1),u?-s:s})}function C(t){var e=t.split(".");return 256*(+e[0]||0)*256*256+256*(+e[1]||0)*256+256*(+e[2]||0)+(+e[3]||0)}function S(t,e,n,r){if(t!=f)return setTimeout(function(){t.apply(e,r||[])},o(n,20))}function M(t,e){return h(t)&&S(t,f,e,n.call(arguments,2))}function I(t){var e=+new Date,n=t.timeout,r=n&&e-t.startTime>n;if(!r&&!t.check(t))return t.count++,M(I,t.sleep,t);t.endTime=e,t.callback(t,r)}function j(t,e,n){for(var r=0,i=t.length;r<i;r++)r in t&&e.call(n,t[r],r,t)}function E(t,e){if(e&&h(e)){var n=function(){};n.prototype=e.prototype,t.prototype=new n}var r=t;return r.constructor=E,(r.prototype.constructor=r).extend=function(t,e){x(this.prototype,t,e)},r.alias=function(t,e){g(this,t,e)},r}j([String,Array,Number,Boolean,Function,Date,RegExp],E),x(Object,{create:function(t){var e=function(){};return e.prototype=t,new e},forEach:function(t,e,n){for(var r in t)s.call(t,r)&&e.call(n,r,t[r],t)},keys:function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e},values:function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(t[n]);return e},size:function(t){var e=0;for(var n in t)s.call(t,n)&&e++;return e},hasItem:function(t){for(var e in t)if(s.call(t,e))return!0;return!1}}),String.extend({trim:function(){for(var t,e=/\s/,n=(t=(t=""+this).replace(/^\s\s*/,"")).length;e.test(t.charAt(--n)););return t.slice(0,n+1)},repeat:function(t){for(var e=""+this,n="";0<t&&(t%2==1&&(n+=e),1!=t);)e+=e,t>>=1;return n},startsWith:function(t,e){return(""+this).substr(e||0,t.length)===t},endsWith:function(t,e){var n=""+this,r=e==f||e>n.length?n.length:e;return n.substr(r-t.length,t.length)===t},contains:function(t,e){return-1!=this.indexOf(t,e)}}),String.extend({drop:function(t,e){var n="string"==typeof t?new RegExp(t,e||"g"):t;return this.replace(n,"")},reverse:function(){return this.split("").reverse().join("")},htmlEncode:function(){return this.replace(/\x26/g,"&amp;").replace(/\x3c/g,"&lt;").replace(/\x3e/g,"&gt;").replace(/\r?\n|\r/g,"<br/>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\s/g,"&nbsp;")},htmlDecode:function(){return this.replace(/<br[^>]*>/gi,"\n").replace(/<script[^>]*>([^~]|~)+?<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&amp;/g,"&")}}),Number.extend({format:function(t,e){var n=this.toString(e||10),r=t-n.length;return(0<r?"0".repeat(r):"")+n}}),Array.extend({forEach:function(t,e){for(var n=0,r=this.length;n<r;n++)n in this&&t.call(e,this[n],n,this)},map:function(t,e){for(var n=[],r=0,i=this.length;r<i;r++)r in this&&n.push(t.call(e,this[r],r,this));return n},indexOf:function(t,e){var n,r=this.length;if(0==r)return-1;for(e==f?n=0:(n=Number(e))<0&&(n=Math.max(n+r,0));n<r;n++)if(n in this&&this[n]===t)return n;return-1},lastIndexOf:function(t,e){var n,r=this.length;if(0==r)return-1;for(n=e==f?r-1:0<=(n=Number(e))?Math.min(n,r-1):n+r;0<=n;n--)if(n in this&&this[n]===t)return n;return-1},filter:function(t,e){for(var n=[],r=0,i=this.length;r<i;r++)if(r in this){var o=this[r];t.call(e,o,r,this)&&n.push(o)}return n},every:function(t,e){for(var n=0,r=this.length;n<r;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0},some:function(t,e){for(var n=0,r=this.length;n<r;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}}),Array.extend({contains:function(t,e){return-1!==this.indexOf(t,e)},get:function(t){return 0<=t?this[t]:0<=(t+=this.length)?this[t]:f},first:function(){return this.get(0)},last:function(){return this.get(-1)},del:function(t,e){return this.splice(t,e||1)},unique:function(t){for(var e=[],n={},r=0,i=this.length;r<i;r++){var o=this[r],s=t?o[t]:o,a=typeof s+s;n[a]||(e.push(o),n[a]=!0)}return e},clean:function(){for(var t=[],e=0,n=this.length;e<n;e++)this[e]!=f&&t.push(this[e]);return t},items:function(t,e){return m(this,t,e)},toMap:function(t,e){return b(this,t,e)},toObjectMap:function(t,e){return y(this,t,e)}}),x(Array,{forEach:j,isArray:c});var T=[/y{2,4}/,/M{1,2}/,/d{1,2}/,/H{1,2}|h{1,2}/,/m{1,2}/,/s{1,2}/,/S/,/W/,/AP/],$=(new Date).getTimezoneOffset(),H="日一二三四五六".split(""),O=["上午","下午"],N=new Date(""),L=["getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","getHours"];function D(t,e){switch(t){case"d":case"day":return e/864e5;case"h":case"hour":return e/36e5;case"m":case"minute":return e/6e4;case"s":case"second":return e/1e3}return e}function A(t,e){var n=this;n.map={},n.bind=e,t.forEach(function(t){n.map[t]=[]})}Date.extend({isValid:function(){return!isNaN(this.valueOf())},format:function(t,e){if(e=e||{},!this.isValid())return e.invalid||"--";for(var n=e.months,r=e.weeks||H,i=e.aps||O,o=T.length,s=0;s<o;s++){var a=T[s],u=this[L[s]]();t=t.replace(a,function(t){var e=t.length;if(8==s)return i[12<u?1:0];if(7==s)return r[u];if(1==s){if(n)return n[u];u++}return 3==s&&"h"==t.charAt(0)&&12<u&&(u-=12),1==e?""+u:("00"+u).slice(-e)})}return t},add:function(t,e){var n=this;switch(t){case"y":case"year":n.setFullYear(n.getFullYear()+e);break;case"M":case"month":n.setMonth(n.getMonth()+e);break;case"d":case"day":n.setDate(n.getDate()+e);break;case"h":case"hour":n.setHours(n.getHours()+e);break;case"m":case"minute":n.setMinutes(n.getMinutes()+e);break;case"s":case"second":n.setSeconds(n.getSeconds()+e);break;case"ms":case"millisecond":n.setMilliseconds(n.getMilliseconds()+e)}return n},diff:function(t,e){return D(t,this-e)},fromUTC:function(){return this.setMinutes(this.getMinutes()-$),this},toUTC:function(){return this.setMinutes(this.getMinutes()+$),this},clone:function(){return new Date(this.getTime())}}),x(Date,{now:function(){return+new Date}}),x(Date,{from:function(t){if("number"==typeof t)return new Date(t);if("string"!=typeof t)return"[object Date]"==u.call(t)?t:N;if(!t)return N;var e,n,r="Z"==t.slice(t.length-1),i=t.replace(/[-\u5e74\u6708]/g,"/").replace(/[\u65f6\u5206\u70b9]/g,":").replace("T"," ").replace(/[Z\u65e5\u53f7\u79d2]/g,""),o=i.lastIndexOf(".");if(-1!=o&&(n=+i.slice(o+1,o+4),i=i.slice(0,o)),!(e=new Date(i)).isValid()&&0<i.indexOf("/")){var s=i.split(" "),a=(s[0]+(s[0].endsWith("/")?"":"/")+"1/1").split("/").slice(0,3).join("/");e=new Date(a+" "+(s[1]||""))}return n&&e.setMilliseconds(n),e.isValid()?r?e.fromUTC():e:N},parts:function(t){var e,n,r;return 0<(e=Math.floor(t/86400))&&(t-=86400*e),0<(n=Math.floor(t/3600))&&(t-=3600*n),0<(r=Math.floor(t/60))&&(t-=60*r),{days:e,hours:n,minutes:r,mintues:r,seconds:t}},total:D}),A.prototype={constructor:A,add:function(t,e){var n=this.map;return"string"==typeof t?h(e)&&n[t].push(e):a(t)&&Object.forEach(t,function(t,e){n[t]&&h(e)&&n[t].push(e)}),this},remove:function(t,e){if(e!=f)for(var n=this.map[t],r=n.length;0<=--r;)n[r]==e&&(n=n.splice(r,1));else this.map[t]=[];return this},trigger:function(t,e){for(var n=this.map[t],r=n.length,i=0;i<r&&!1!==n[i].apply(this.bind,[].concat(e));i++);return this}};var z={get:function(t){var e=t.replace(/\\(?!d|B|w|W|s|S)/g,"\\\\").replace(/\./g,"\\.").replace(/[\[\]\(\)]/g,"\\$&").replace(/\*/,".*");return new RegExp(e,"i")},search:function(t,e,n,o){if(!t||t.length<=0)return[];if(!n)return t.forEach(function(t){t.__match=f}),t;var s=z.get(n);return t.filter(function(n){var r=!1,i={};return e.forEach(function(t){var e=n[t];e&&s.test(e)&&(o&&(i[t]=(e+"").replace(s,"`#`{$&}`#`")),r=!0)}),n.__match=r&&o?i:f,r})},read:function(t,e){var n=t.__match;return n&&n[e]?n[e].htmlEncode().replace(/`#`{(.+?)}`#`/g,function(t,e){return'<span class="light">'+e+"</span>"}):((t[e]||"")+"").htmlEncode()}},P=/^[\w\.-]+@[\w-]+(\.[\w-]+)*\.[\w-]+$/,W=/^(1\d{10}|(\d{3,4}-?)?\d{7,8}(-\d{1,4})?)$/,F=/^1\d{10}$/,U=/^[a-fA-F0-9]{2}([:-][a-fA-F0-9]{2}){5}$/,B=/^https?:\/\//i;function R(t,e,n){t=+t;for(var r=0,i="number"==typeof(e=e||1024),o=1,s=d(n)?n:i?100:e.length;o<=t&&r<s;)o*=i?e:e[r],r++;return r&&t<o&&(r--,o/=i?e:e[r]),{value:r?t/o:t,level:r}}var X=["B","KB","MB","GB","TB","PB","EB"];var q=encodeURIComponent;function Y(e){try{return decodeURIComponent(e)}catch(t){return e}}function J(t){if(!t)return"";if("string"==typeof t)return t;var n=[];return Object.forEach(t,function(t,e){"function"!=typeof e&&n.push(q(t)+"="+(e!=f?q(e):""))}),n.join("&")}function K(t){if(!t)return{};if("?"==t.charAt(0)&&(t=t.slice(1)),!t)return{};for(var e=t.split("&"),n={},r=0,i=e.length;r<i;r++)if(e[r]){var o=e[r].split("="),s=o[0],a=o[1];s&&(n[Y(s)]=a?Y(a):"")}return n}var G=t.location||{protocol:"",hash:"",pathname:""};var V={version:"1.2.2",G:t,strict:!0,type:r,isFunc:h,isObject:a,isArray:Array.isArray,isArrayLike:function(t){var e=r(t);return"array"==e||"list"==e||"arguments"==e},def:o,isNum:i,isUNum:function(t){return"number"==typeof t&&0<t},isInt:l,isUInt:d,checkNum:function(t,e,n,r){return null!=t&&""!=t&&!isNaN(t)&&i(+t,e,n,r)},checkInt:function(t,e,n){return null!=t&&""!=t&&!isNaN(t)&&l(+t,e,n)},toUpper:function(t,e){return"string"==typeof t?t.toUpperCase():e},toLower:function(t,e){return"string"==typeof t?t.toLowerCase():e},toArray:p,makeArray:function(t,e){if(t==f)return[];switch(r(t)){case"array":return e?t.slice(e):t;case"list":return v(t,e);case"arguments":return n.call(t,e)}return[t]},arr:function(t,e,n){h(e)&&(n=e,e=0),e==f&&(e=0),n==f&&(n=1);var r=[],i=0;if(h(n))for(;i<t;)e=n(e,i,r),r.push(e),i++;else for(;i<t;)r.push(e),e+=n,i++;return r},vals:m,alias:g,extend:x,clone:function t(e){if(!e)return e;switch(typeof e){case"string":case"number":case"boolean":return e}var n;if(c(e)){n=[];for(var r=0,i=e.length;r<i;r++)n[r]=t(e[r])}else if(a(e))for(var o in n={},e)s.call(e,o)&&(n[o]=t(e[o]));return n},toMap:b,toObjectMap:y,ip2int:C,sortNumber:Q,sortString:_,sortDate:k,sort:function(t,e,n,r){switch(e){case 1:Q(t,n,r);break;case 2:k(t,n,r);break;case 3:o=n,s=r,t.sort(function(t,e){var n=t[o]||"",r=e[o]||"";if(n==r)return 0;var i=C(n)-C(r);return s?-i:i});break;default:_(t,n,r)}var o,s},proxy:function(t,e){if(a(t)){var n=e;t=(e=t)[n]}return function(){t.apply(e,arguments)}},fire:function(t,e){if(t!=f)return t.apply(e,n.call(arguments,2))},delay:S,async:M,waitFor:function(t,e,n,r){I({check:t,callback:e,timeout:n,sleep:r,count:0,startTime:+new Date})},factory:E,isIP:function(t){var e=t.split("."),n=e.length;if(4!=n)return!1;for(var r=0;r<n;r++){var i=+e[r];if(!e[r]||isNaN(i)||i<0||255<i)return!1}return!0},isMail:function(t){return P.test(t)},isPhone:function(t){return W.test(t)},isTel:function(t){return F.test(t)},isMAC:function(t){return U.test(t)},isHttpURL:function(t){return B.test(t)},parseLevel:R,formatSize:function(t,e){if(e=!0===e?{all:!0}:e||{},isNaN(t)||t==f||t<0){var n=e.error||"--";return e.all?{text:n}:n}var r=R(t,e.steps,e.limit),i=r.value.toFixed(o(e.digit,2));return!1!==e.trim&&-1!=i.lastIndexOf(".")&&(i=i.replace(/\.?0+$/,"")),r.text=i+(e.join||"")+(e.units||X)[r.level+(e.start||0)],e.all?r:r.text},parseUrlParams:K,joinUrlParams:J,param:function(t){if(t!=f)return"string"==typeof t?K(t):J(t)},join:function(t){for(var e=[],n=arguments,r=1,i=n.length;r<i;r++){var o=n[r];o&&e.push(J(o))}var s=t.indexOf("#"),a="";-1!=s&&(a=t.slice(s),t=t.slice(0,s)),t=t.replace(/\?&$|\?$|\&$/,"");var u=e.join("&");return u&&(t+=(t.contains("?")?"&":"?")+u),t+a},parseUrl:function(t){var e=t.match(/(^[^:]*:)?\/\/([^:]+)(:\d+)?(\/[^?]+)?(\?[^#]*)?(#.*)?$/),n=e[1]||G.protocol,r=e[2],i=(e[3]||"").slice(1),o=r+":"+i,s=e[4]||"/",a=e[5]||"",u=e[6]||"";return{href:n+"//"+o+s+a+u,protocol:n,host:o,hostname:r,port:i,pathname:s,search:a,hash:u}},parseHash:function(t){t||(t=G.hash);var e,n=t;if(t){var r=t.indexOf("!/");-1!=r&&(n=t.slice(0,r),e=t.slice(r+2))}return{nav:n,param:e}},getPageName:function(t,e){var n=(t||G.pathname).replace(/\\/g,"/"),r=n.lastIndexOf("/")+1;if(e)return n.slice(r);var i=n.indexOf("?",r);return-1==i&&(i=n.indexOf("#",r)),-1!=i?n.slice(r,i):n.slice(r)},Listener:A,SE:z};t.Q=V,"object"==typeof module&&"object"==typeof module.exports&&(module.exports=V)}(),function(l){"use strict";var r=Q.delay,i=Q.extend,o=Q.fire,f=Q.isFunc,s=Q.isObject,a=Q.isArrayLike,u=Q.isUInt,e=Q.type,h=Q.makeArray,t=Q.factory,c=Q.Listener,d=["add","start","end","stop","complete","limit"];function p(n){var r=this,t=(n=n||{}).tasks;r._listener=new c(d,r),r.count=+n.count||1e4,r.limitMode=n.limitMode||1,r.auto=!1!==n.auto,r.workerThread=n.workerThread||1,r.timeout=n.timeout,r.id=0,"auto"==n.rtype&&(r.rtype=e(t)),d.forEach(function(t){var e=n[t];e&&r.on(t,e)}),n.inject&&(r.inject=n.inject),n.process&&(r.process=n.process),n.processResult&&(r.processResult=n.processResult),r.ops=n,r.reset(),r.addList(t)}function v(t,e,n,r){return s(e)&&(n=e,e=l),new p(i(n||{},{rtype:"auto",workerThread:r,tasks:t,complete:e}))}t(p).extend({on:function(t,e){return this._listener.add(t,e),this},trigger:function(t,e){return this._listener.trigger(t,e),this},reset:function(){var t=this;return t.tasks=[],t.index=0,t.id=0,t.workerIdle=t.workerThread,t},_add:function(t,e,n){var r=this,i=r.tasks,o=r.count,s=!0,a={id:++r.id,args:h(t),state:0};if(e!=l&&(a.key=e),i.length>=o){if(r.index&&(i=i.slice(r.index),r.index=0),i.length>=o){var u,c=2==r.limitMode;c?(u=i.slice(0,i.length-o+1),i=i.slice(1-o),r.index=0):s=!1,r.trigger("limit",c?u:a)}r.tasks=i}return s&&(i.push(a),r.trigger("add",a)),n&&r.start(),r},add:function(){return this._add(arguments,l,this.auto)},addList:function(t){var n=this;return t&&(a(t)?Array.forEach(t,function(t,e){n._add(t,e,!1)}):Object.forEach(t,function(t,e){n._add(e,t,!1)}),n.auto&&n.start()),n},size:function(e){return e!=l?this.tasks.filter(function(t){return t.state==e}).length:this.tasks.length},_run:function(){var t=this;if(t.stopped||t.workerIdle<=0||t.index>=t.tasks.length)return t;var e=t.tasks[t.index++],n=t.timeout;return t.workerIdle--,t.trigger("start",e),0!=e.state?t.ok(e):(e.state=1,u(n)&&(e._timer=r(t.ok,t,n,[e,-1])),t.process(e,function(){t.ok(e,2)}),t.workerIdle?t._run():t)},start:function(){var t=this;return t.stopped=!1,t.auto||(t.auto=!0),r(t._run,t,10),t},stop:function(t){return this.stopped=!0,u(t)&&r(this.start,this,t),this},inject:function(e,n){var t=this.ops,r=t.injectIndex||0,i=t.injectCallback,o=(e.args||[]).slice(0);!t.exec&&f(o[0])&&r++;var s,a=o[r],u=function(t){e.result=t,f(s)&&s.apply(this,arguments),n()};if(i!=l){a||(a={});var c=a.__qcallback;s=c||a[i],!c&&s&&(a.__qcallback=s),a[i]=u,o[r]=a}else s=a,o[r]=u;return o},process:function(t,e){var n=this.ops,r=n.exec,i=n.bind,o=this.inject(t,e),s=o[0];s&&(s instanceof p?s.start():r?r.apply(i,o):s.apply(i,o.slice(1)))},processResult:function(t){switch(this.rtype){case"array":case"list":case"arguments":return t.items("result");case"object":return t.toObjectMap("key","result")}return[t]},isCompleted:function(t){return(t||this.tasks).every(function(t){return 2==t.state||-1==t.state})},ok:function(t,e){var n=this;return 1!=t.state||(++n.workerIdle>n.workerThread&&(n.workerIdle=n.workerThread),t._timer&&clearTimeout(t._timer),e!=l&&(t.state=e),n.trigger("end",t),n.stopped?n.isCompleted(n.tasks.slice(0,n.index))&&n.trigger("stop",n.processResult(n.tasks)):n.isCompleted()&&(n.trigger("complete",n.processResult(n.tasks)),o(n.complete,n))),n._run()}}),p.TASK={TIMEDOUT:-1,READY:0,PROCESSING:1,OK:2},i(Q,{Queue:p,series:v,parallel:function(t,e,n){return v(t,e,n,a(t)?t.length:Object.size(t))},ajaxQueue:function(t){return new p(i(t=t||{},{exec:t.ajax||Q.ajax||$.ajax,injectIndex:1,injectCallback:"complete"}))}})}(),function(l){"use strict";var t,e,f=Q.isObject,n=Q.isFunc,r=Q.isHttpURL,o=Q.type,h=Q.makeArray,i=Q.extend,d=Q.fire,p=Q.waitFor,u=Q.G,c=u.document,s=c.documentElement,v=c.head||c.getElementsByTagName("head")[0],a="BackCompat"==c.compatMode,m=encodeURIComponent;function g(e){try{return decodeURIComponent(e)}catch(t){return e}}var x={},b=Date.now(),y=1,w=2;function _(t,e,n,r){var i=h(t),o=i.length;if(!(o<=0)){n=n||{},f(e)&&(e=(n=e).complete);var s=n.init||r,a=0,u=function(t,e){x[t]!=w&&(x[t]=w,n.removed&&v.removeChild(e),d(n.after,e,t,e),c(t))},c=function(t){++a>=o&&d(e,l,t)};i.forEach(function(t){if(!1===n.cache&&(t=join_url(t,"_="+ ++b)),!1!==n.once&&x[t])return x[t]==w?c(t):p(function(){return x[t]==w},function(){c(t)});var e=s(t);x[t]=y,e.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||u(t,this)},e.onload=function(){u(t,this)},d(n.before,e,t,e),v.insertBefore(e,v.lastChild)}),i=null}}var k,C="unknown",S={};u.ActiveXObject||u.msIndexedDB?(S.ie=k=c.documentMode||(u.XMLHttpRequest?7:6),S["ie"+(k<6?6:k)]=!0,C="trident"):u.opera?C="opera":u.mozInnerScreenX!=l||n(c.getBoxObjectFor)?C="gecko":(u.webkitMediaStream||u.WebKitPoint)&&(C="webkit"),S[C]=!0,i(Q,S),S.name=C;var M=Object.prototype.hasOwnProperty,I={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j="null";function E(t){return I[t]||t}function T(t){switch(o(t)){case"string":return'"'+t.replace(/[\x00-\x1f\\"]/g,E)+'"';case"list":case"array":for(var e=[],n=0,r=t.length;n<r;n++)"function"!=typeof t[n]&&e.push(t[n]!=l?T(t[n]):j);return"["+e+"]";case"object":case"arguments":e=[];for(var i in t)M.call(t,i)&&"function"!=typeof t[i]&&e.push('"'+i+'":'+T(t[i]));return"{"+e.toString()+"}";case"boolean":return t+"";case"number":return isFinite(t)?t+"":j;case"date":return isFinite(t.valueOf())?'"'+t.toUTC().format("yyyy-MM-ddTHH:mm:ss.SZ")+'"':j;case"function":return;default:return"object"==typeof t?"{}":j}}function $(t,e){if(!1!==e&&!/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))throw new Error("JSON SyntaxError");try{return new Function("return "+t)()}catch(t){}}function H(t){return 0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),g(t.replace(/\+/g," "))}function O(t){for(var e=t?l:{},n=c.cookie?c.cookie.split("; "):[],r=0,i=n.length;r<i;r++){var o=n[r].split("="),s=g(o[0]),a=o.slice(1).join("=");if(t&&t===s){e=H(a);break}t||(a=H(a))===l||(e[s]=a)}return e}function N(t,e,n){var r=(n=n||{}).expires;"number"==typeof r&&(r=(new Date).add("d",r)),c.cookie=[m(t),"=",m(e),r?"; expires="+r.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}function L(t){O(t)!=l&&N(t,"",{expires:-1})}function D(){for(var t=c.cookie?c.cookie.split("; "):[],e=0,n=t.length;e<n;e++){L(g(t[e].split("=")[0]))}}function A(t,e){var n="sessionStorage"!=t;if(n||location.host){var r=t,i=u[r],o=i&&"getItem"in i?"storage":null;if(!o){var s=c.documentElement;try{s.addBehavior("#default#userdata"),n&&(s.expires=(new Date).add("d",7).toUTCString()),r=location.hostname||"local",s.save(r),(i={getItem:function(t){return s.load(r),s.getAttribute(t)},setItem:function(t,e){s.setAttribute(t,e),s.save(r)},removeItem:function(t){s.removeAttribute(t),s.save(r)},clear:function(){s.load(r);var t=(new Date).add("d",-1);s.expires=t.toUTCString(),s.save(r)}}).getItem("_Q_")===l&&(i.setItem("_Q_",1),i.removeItem("_Q_")),o="userdata"}catch(t){}!o&&e&&(i={getItem:O,setItem:n?function(t,e){N(t,e,{expires:7})}:N,removeItem:L,clear:D},o="cookie")}var a=!!o;return{support:a,adapter:o,get:function(t,e){if(a)try{var n=i.getItem(t);return e?n?JSON.parse(n):null:n}catch(t){}return l},set:function(t,e){if(a)try{return i.setItem(t,"string"==typeof e?e:JSON.stringify(e)),!0}catch(t){}return!1},remove:function(t){if(a)try{return i.removeItem(t),!0}catch(t){}return!1},clear:function(){if(a)try{return i.clear(),!0}catch(t){}return!1}}}}u.JSON||(u.JSON={stringify:T,parse:$}),JSON.encode=T,JSON.decode=$;var z={getSize:function(){return{width:e.clientWidth,height:e.clientHeight}},getWidth:function(){return e.clientWidth},getHeight:function(){return e.clientHeight},getScrollWidth:function(){return Math.max(s.scrollWidth,t.scrollWidth)},getScrollHeight:function(){return Math.max(s.scrollHeight,t.scrollHeight)},getScrollLeft:function(){return s.scrollLeft||t.scrollLeft},getScrollTop:function(){return s.scrollTop||t.scrollTop}};function P(){Q.body=t=c.body,Q.root=e=a?t:s}i(Q,{html:s,head:v,quirk:a,ready:function(t){p(function(){return Q.root},t)},loadJS:function(t,e,n){_(t,e,n,function(t){var e=c.createElement("script");return e.type="text/javascript",e.src=t,e})},loadCSS:function(t,e,n){_(t,e,n,function(t){var e=c.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,e})},engine:S,isInputKey:function(t){return 65<=t&&t<=90||32==t||229==t||48<=t&&t<=57||96<=t&&t<=111&&108!=t||186<=t&&t<=192||219<=t&&t<=222||8==t||46==t},isSameHost:function(t){if(!r(t))return!0;var e=RegExp.lastMatch.length,n=t.indexOf("/",e);return t.slice(0,-1!=n?n:l).toLowerCase()==(location.protocol+"//"+location.host).toLowerCase()},clearSelection:function(){if(u.getSelection){var t=getSelection();t.removeAllRanges?t.removeAllRanges():t.empty&&t.empty()}else c.selection&&c.selection.empty()},cookie:{get:O,set:N,remove:L,clear:D},store:new A("localStorage",!0),session:new A("sessionStorage",!0),view:z,Storage:A}),c.body?P():p(function(){return c.body},P),u.request=Q.parseUrlParams(location.search)}(),function(t){"use strict";var y=Q.fire;Q.setTimer=function(a){var u=a.box,c=a.process,l=a.pad?2:1,t=a.time,f=a.step||1,h=a.sleep||1e3,d=+a.max||0,p=a.join||"",v=a.units||["天","小时","分","秒"];if((u||c)&&null!=t&&!isNaN(t)){var m,g=+t,x=function(t,e){return 9<t||1==e?t:"0"+t},b=function(){if((g+=f)<d)return y(a.over);m&&clearTimeout(m);var t=Date.parts(g),e=t.days,n=t.hours,r=t.mintues,i=t.seconds,o=e+v[0]+p+x(n,l)+v[1]+p+x(r,l)+v[2]+p+x(i,l)+v[3],s=y(c,void 0,g,o,e,n,r,i);!1!==s&&($(u).html("string"==typeof s?s:o),m=setTimeout(b,h))};return b(),{start:b,stop:function(){m&&clearTimeout(m)}}}}}(),function(a){"use strict";var t=Q.G,n=Q.isFunc,u=Q.isObject,c=Q.isArrayLike,e=Q.extend,l=Q.makeArray,f=Q.view;function r(t,e,n){var r=new jQuery.Event(t);!1!==e&&r.preventDefault(),!1!==n&&r.stopPropagation()}jQuery.Event.prototype.stop=function(){r(this)};var i=!!document.addEventListener;function h(e,n,r,i,t,o){var s=i;t&&(s=function(t){i.call(this,t),$(e).off(n,r,s)}),$(e).on(n,r,s),t||o.push([e,n,s,r])}function o(t,e,r,i,o){"string"==typeof e?(e=e.split(" "),n(r)&&(o=o||i,i=r,r=a)):(!0!==r&&!0!==i||(o=!0),!0===r&&(r=a));var s=[];return l(t).forEach(function(n){c(e)?l(e).forEach(function(t){h(n,t,r,i,o,s)}):u(e)&&Object.forEach(e,function(t,e){h(n,t,r,e,o,s)})}),{es:s,off:function(t,e){d(s,t,e)}}}function d(t,e,n){t.forEach(function(t){$(t[0]).off(t[1],t[3],t[2])})}function p(t,e,n){var r=$(t);t&&r.css(e)!=n&&r.css(e,n)}function s(t,e,n){var r=document.createElement(t);return e&&(r.className=e),n&&(r.innerHTML=n),r}function v(t,e){var n=t.style.cssText;n&&(t.style.cssText=n.drop(e+"(-[^:]+)?\\s*:[^;]*;?","gi").trim())}Q.event={fix:function(t){return new jQuery.Event(t)},stop:r,trigger:function(t,e){$(t).trigger(e)},addEvent:function(t,e,n){i?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},removeEvent:function(t,e,n){i?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},add:o,removeEs:d,one:function(t,e,n,r){return o(t,e,n,handler,!0)}};var m="previousSibling",g="nextSibling",x="firstChild";function b(t,e,n,r){t=t[n||e];for(var i=[];t;){if(1==t.nodeType){if(!r)return t;i.push(t)}t=t[e]}return r?i:null}var y={left:0,top:0};e(Q,{camelCase:$.camelCase,attr:function(t,e,n){return $(t).attr(e,n)},prop:function(t,e,n){return $(t).prop(e,n)},width:function(t,e){return $(t).width(e)},height:function(t,e){return $(t).height(e)},getStyle:function(t,e){return $(t).css(e)},setStyle:function(t,e,n){if(null===n)return v(t,e);$(t).css(e,n)},setOpacity:function(t,e){return $(t).css("opacity",e)},removeCss:v,css:function(t,e,n){return $(t).css(e,n)},show:function(t){$(t).show()},hide:function(t){$(t).hide()},toggle:function(t){$(t).toggle()},isHidden:function(t){return $(t).is(":hidden")},offset:function(t,e,n){var r=$(t);if(e===a&&n===a){var i=r.offset();return i.width=r.outerWidth(),i.height=r.outerHeight(),i}p(t,"position","absolute"),e!==a&&r.css("left",e),n!==a&&r.css("top",n)},setCssIfNot:p,setCenter:function(t,e){p(t,"position","absolute");var n=f.getSize(),r=$(t.offsetParent).offset()||y,i=Math.round((n.width-$(t).outerWidth())/2)-r.left+f.getScrollLeft(),o=Math.round((n.height-$(t).outerHeight())/2)-r.top+f.getScrollTop(),s={left:Math.max(i,0),top:Math.max(o,0)};return e?s:$(t).css(s)},getFirst:function(t){return t.firstElementChild||b(t,g,x,!1)},getLast:function(t){return t.lastElementChild||b(t,m,"lastChild",!1)},getPrev:function(t){return t.previousElementSibling||b(t,m,null,!1)},getNext:function(t){return t.nextElementSibling||b(t,g,null,!1)},getChilds:function(t){return t.children?l(t.children):b(t,g,x,!0)},findTag:function(t,e){for(;t&&"BODY"!=t.tagName;){if(t.tagName==e)return t;t=t.parentNode}},createEle:s,createStyle:function(t){var e=document.createElement("style");return e.type="text/css",e.styleSheet&&(e.styleSheet.cssText=t)||e.appendChild(document.createTextNode(t)),Q.head.appendChild(e),e},parseHTML:function(t,e){var n=s("div",a,t);return e?n.childNodes:Q.getFirst(n)},removeEle:function(t){$(t).remove()},hasClass:function(t,e){return $(t).hasClass(e)},addClass:function(t,e){$(t).addClass(e)},removeClass:function(t,e){$(t).removeClass(e)},replaceClass:function(t,e,n){$(t).removeClass(e).addClass(n)},toggleClass:function(t,e){$(t).toggleClass(e)},setInputError:function(t,e,n){e?t.style.borderColor="red":t.style.border="1px solid red",t.value=n||"",t.focus()},setInputDefault:function(t){v(t,"border")}}),t.$$=Q.query=$.find}(),function(a){"use strict";var n,k=Q.G,m=k.document,g=Q.isObject,C=Q.isFunc,x=Q.isUNum,b=Q.isUInt,y=Q.def,S=Q.fire,M=Q.async,i=Q.extend,r=Q.makeArray,I=Q.getStyle,o=Q.setStyle,w=Q.getFirst,_=Q.getNext,j=Q.width,E=Q.height,T=Q.createEle,e=Q.removeEle,H=Q.show,O=Q.hide,s=Q.isHidden,N=Q.addClass,L=Q.setCssIfNot,D=Q.setCenter,u=Q.setInputError,c=Q.setInputDefault,A=Q.clearSelection,l=Q.query,t=Q.factory,z=Q.ie<7,P=Q.view,W=Q.event,f={color:"#999",opacity:.3};function F(t){var e=T("div","x-mask");Q.body.appendChild(e),z&&(e.style.height=P.getScrollHeight()+"px"),this.box=e,this.set(i(t||{},f)),this.count=s(e)?0:1}function U(){return n?(n.show(),n):n=new F}t(F).extend({opacity:function(t){return this.set({opacity:t})},set:function(t){var n=this.box;return Object.forEach(t,function(t,e){e!==a&&o(n,"color"!=t?t:"backgroundColor",e)}),this},show:function(){return this.removed&&(Q.body.appendChild(this.box),this.removed=!1),H(this.box),this.count++,this},hide:function(){return 0<this.count&&this.count--,this.count<=0&&O(this.box),this},remove:function(){return e(this.box),this.removed=!0,this.count=0,this}});var B,R,X=1e3,q=X;function h(t){S(t,this),this._apis=[],this.start()}function Y(m,t){return new h(function(){1!=m.nodeType?m=(t=m).ele:(t=t||{}).ele=m;var r,i,o,s,a,u,c,l,f=this,h=t.range||{x:0,y:0},n=!!t.shadow,d=m.offsetWidth,p=m.offsetHeight,v=m;n&&(R||(R=T("div","x-drag-shadow"),Q.body.appendChild(R)),v=R),f.ops=t,f.doDown=function(t){o=t.clientX,s=t.clientY;var e=n?$(m).offset():$(m).position();r=e.left,i=e.top,n&&Object.forEach({left:r,top:i,width:d,height:p},function(t,e){v.style[t]=e+"px"})},f.doMove=function(t){if(H(v),c){a=t.clientX-o;var e=r+a;h&&(e<h.x?e=h.x:h.w&&e+d>h.x+h.w&&(e=h.x+h.w-d)),v.style.left=e+"px"}if(l){u=t.clientY-s;var n=i+u;h&&(n<h.y?n=h.y:h.h&&n+p>h.y+h.h&&(n=h.y+h.h-p)),v.style.top=n+"px"}},n&&(f.doUp=function(){O(v),m.style.left=m.offsetLeft+a+"px",m.style.top=m.offsetTop+u+"px"}),f.setLock=function(t,e){return c=t,l=e,f.pause(!t&&!e)},f.setRange=function(t,e,n,r){return h=g(t)?t:{x:t,y:e,w:n,h:r},f},f.setLock(!1!==t.isX,!1!==t.isY)})}function d(t){this._es=[],S(t,this)}t(h).extend({start:function(){var e=this,t=e.ops,n=t.scope||k,r=n.document,i=t.ele,o=t.target||i,s=!1!==t.autoIndex,a=!!t.autoMask,u=!1!==t.autoCss,c=!1!==t.autoCursor,l=1==i.nodeType?+I(i,"z-index"):0,f=e.doDown,h=e.doMove,d=e.doUp,p=t.onCheck,v=t.onDown,m=t.onMove,g=t.onUp,x=function(t){for(var e=[],n=t||k;n.top!=n;){var r=n.parent;e.push(r),n=r}return e}(n),b=!!i.setCapture,y=!b&&0<x.length;q<=l&&(q=l+1),u&&L(i,"position","absolute"),u&&c&&L(o,"cursor","move"),t.center&&(D(i),e._api_resize=W.add(n,"resize",function(){D(i)}));var w=function(t){e._pause||(S(h,e,t),S(m,e,t))},_=function(t){e._unbind(),b&&i.releaseCapture(),a&&B&&(B.remove(),B=null),A(),S(d,e,t),S(g,e,t)};return e._up=_,e._api=W.add(o,"mousedown",function(t){C(p)&&!1===p.call(e,t)||(s&&(+I(i,"z-index")||0)<q&&(q++,i.style.zIndex=q),e._unbind(),b?(i.setCapture(),e._bind(i,"losecapture",_)):e._bind(n,"blur",_),e._bind(r,{mousemove:w,mouseup:_}),y&&e._bind(x,"mouseup",_),a&&(B||(B=new F({color:null,opacity:null,zIndex:999999})),z&&B.set({height:P.getScrollHeight()})),M(A,20),S(f,e,t),S(v,e,t))}),e},_bind:function(){this._apis.push(W.add.apply(W,arguments))},_unbind:function(){var t=this._apis;0<t.length&&(t.forEach(function(t){t.off()}),this._apis=[])},pause:function(t){return this._pause=t,this._up&&this._up(),this},stop:function(){var t=this._api;return this._unbind(),t&&(t.off(),this._api=null),this},destroy:function(){var t=this._api_resize;return this.stop(),t&&(t.off(),this._api_resize=null),this}}),$.fn.extend({drag:function(n){return this.each(function(t,e){Y(e,n)})}}),t(d).extend({find:function(t,e){return"string"==typeof t?l(t,e||this.box):r(t)},$:function(t,e){return $(this.find(t,e))},get:function(t,e){return this.find(t,e)[0]},fire:function(){return S(this.callback,this,this.data),this},getEventCallback:function(t,e){var n=this;return"hide"==t?function(){n.data=e,n.hide()}:"remove"==t?function(){n.data=e,n.remove()}:t},bind:function(t,e,n,r){return this._es.push(W.add(this.find(t),e,this.getEventCallback(n,r))),this},on:function(t,e,n,r){return this._es.push(W.add(this.box,t,e,this.getEventCallback(n,r))),this},show:function(){var t=this;return t.onShow&&t.onShow(),H(t.box),t.mbox&&t.mbox.show(),t},hide:function(){var t=this;return O(t.box),t.mbox&&t.mbox.hide(),t.onHide&&t.onHide(),t.fire()},toggle:function(){return s(this.box)?this.show():this.hide()},remove:function(){var t=this;if(t.box)return e(t.box),t.mbox&&t.mbox.hide(),t.dr&&t.dr.destroy(),t._es.forEach(function(t){t.off()}),t.box=t.mbox=t.dr=null,t.onRemove&&t.onRemove(),t.fire()}}),d.alias({$:"query",remove:"destroy"});var J={titleBox:"弹出框",titleAlert:"提示信息",titleConfirm:"确认信息",titlePrompt:"输入信息",titleClose:"点击关闭",titleLoading:"加载数据",buttonSubmit:"确定",buttonCancel:"取消",textLoading:"正在加载数据,请稍后…"};function p(v){return v=v||{},new d(function(){var i=this,t=v.width,e=v.height,n=y(v.maxHeight,P.getHeight()-60),r=!1!==v.drag,o=r&&!1!==v.center,s=v.className;i.ops=v,i.callback=v.callback;var a='<div class="x-head"><h2 class="x-title">'+(v.title||J.titleBox)+'</h2><a class="x-close" title="'+J.titleClose+'">X</a></div><div class="x-main"><div class="x-view">'+(v.html||"")+"</div></div>";z&&(a+='<iframe class="x-ie-fix" style="position: absolute;top:0;left:0;z-index:-1;" scrolling="no" frameborder="0"></iframe>');var u=T("div","x-box"+(s?" "+s:""),a);Q.body.appendChild(u),i.box=u;var c=v.zIndex||0;X<q&&(c=Math.max(c,q)),c&&(u.style.zIndex=c);var l=w(u),f=_(l);i.setTitle=function(t){return $(".x-title",l).html(t),i},i.setWidth=function(t){return v.width=t,j(u,t),S(v.resize,i),i},i.setHeight=function(t){return v.height=t,E(f,t-l.offsetHeight-20),i},i.setMaxHeight=function(t){v.maxHeight=t;var e=v.height;return x(e)&&t<e&&(e=t),u.scrollHeight>t&&(e=t,N(u,"x-box-auto")),x(e)&&i.setHeight(e),o&&D(u),S(v.resize,i),i},i.autoHeight=function(){var t=v.maxHeight;if(!t)return i;var e=i.get(".x-head").offsetHeight,n=t-e-20,r=t-e;return f.style.height=f.scrollHeight>r?n+"px":"auto",o&&D(u),i},x(t)&&j(u,t),l.offsetWidth<10&&j(l,u.offsetWidth),n?i.setMaxHeight(n):x(e)&&i.setHeight(e),!1!==v.mask&&(i.mbox="new"==v.mask?new F:U());var h=v.close||"hide",d=i.getEventCallback(h);i.bind(".x-close","click",h),!1!==v.esc&&i.bind(m,"keyup",function(t){27==t.keyCode&&d()});var p=v.time;b(p)&&M(d,p),S(v.init,i,u,v),r&&(i.dr=Y(u,{target:l,center:o,shadow:v.shadow,autoMask:!0,onCheck:function(t){var e=t.target;return e&&"x-close"!=e.className}})),$(".x-ie-fix",u).width(u.offsetWidth-2).height(u.offsetHeight-2)})}function v(t){t.width||(t.width=320);var e=t.width;if(t.icon||t.iconHtml){var n='<div class="fl x-ico">'+(t.iconHtml||'<img alt="" src="'+t.icon+'"/>')+'</div><div class="fl x-dialog"'+(x(e)?' style="width:'+(e-60)+'px;"':"")+">"+t.html+'</div><div class="clear"></div>';t.html=n;var r=t.init;t.resize=function(){var t=this.get(".x-view").offsetWidth-this.get(".x-ico").offsetWidth;$(".x-dialog",this.box).width(t)},t.init=function(t,e){e.resize.call(this),S(r,this,t,e)}}else t.html='<div class="x-dialog">'+t.html+"</div>";return t.bottom&&(t.html+=t.bottom),t.close||(t.close="remove"),p(t)}function K(t,e){var n="inline-block w-button w-"+(e||"dark");return'<div class="x-bottom"><div class="'+n+' x-submit">'+J.buttonSubmit+"</div>"+(2==t?'<div class="'+n+' x-cancel">'+J.buttonCancel+"</div>":"")+"</div>"}function G(t,e,n,r){return"object"==typeof n&&(n=r=n),r=i({},r),C(n)&&(r.callback=n),r.title||(r.title=t),r.html=e,r}i(Q,{createDialogBox:v,alert:function(t,e,n){return(n=G(J.titleAlert,t,e,n)).iconHtml='<div class="ico x-alert"></div>',v(n)},confirm:function(t,e,n){return(n=G(J.titleConfirm,t,e,n)).bottom||(n.bottom=K(2)),n.mask=!1!==n.mask,v(n).bind(".x-submit","click","remove",!0).bind(".x-cancel","click","remove",!1)},prompt:function(t,e,n){n=G(J.titlePrompt,a,e,n),e=n.callback,n.callback=a;var r='<div class="x-text">'+t+'</div><div class="x-input"><input type="'+(n.pwd?"password":"text")+'" /></div>';n.html=r,n.bottom||(n.bottom=K(2));var i=v(n),o=i.get(".x-input>input");o.focus(),o.value=y(n.value,"");var s=function(){!1!==S(e,o,o.value)?i.remove():u(o)};return i.bind(o,"keyup",function(t){13==t.keyCode?s():c(this)}),i.bind(".x-submit","click",s).bind(".x-cancel","click","remove")},bottom:K,showLoading:function(t){return(t=i({},t)).title||(t.title=J.titleLoading),t.html||(t.html=J.textLoading),t.iconHtml='<div class="ico x-loading"></div>',v(t)}}),i(Q,{getMaskBox:U,maskSetup:function(t,e){i(f,t,!0),e&&n&&n.reset(t)},setDrag:Y,setBoxLang:function(t){i(J,t,!0)},MaskBox:F,DragX:h,Box:d,WinBox:p})}(),function(w){"use strict";var _=window.document,a=Q.fire,e=Q.extend,i=Q.makeArray,l=Q.getStyle,f=Q.offset,u=Q.hasClass,o=Q.addClass,c=Q.removeClass,k=Q.createEle,t=Q.factory,h=Q.event;function d(t,e,n){e!=w&&(t.style.left=e+"px"),n!=w&&(t.style.top=n+"px")}function n(t,e){this.set(e).init(t)}t(n).extend({init:function(t){var e=this;return e.draw(t),!1!==e.autoHide&&(e._e0=h.add(_,"click",function(){e.hide()})),e},set:function(t){return e(this,t,!0),this},draw:function(t){var s=this;s._menus=[],s._items=[],s._map_menu={},s._map_item={},s.i=s.j=0,s._active=w;var e,n=s._tmp=[];for(s.drawMenu(t);e=n.shift();)s.drawMenu.apply(s,e);s._tmp=null,s.i=s.j=0;var r=s._getMenu(0).node;s.box=r;var i=[];return s._menus.forEach(function(t){t&&!t.linked&&i.push(t.node)}),s._e1&&s._e1.off(),s._e1=h.add(i,{click:function(t){var e=this._j;if(u(this,"x-disabled")||s._getSubMenu(e)&&!s.isFireAll)return!1;var n=s._getItem(e);a(n.data.click,this,t,n),a(s.onclick,this,t,n),s.hide()},mouseenter:function(t){var e=this,n=e._i,r=e._j;s._hideSub(n,r),o(e,"x-on");var i=s._getItem(r);a(i.data.mouseover,e,t,i),a(s.onmouseover,e,t,i),u(e,"x-disabled")||s._showSub(n,r,e)},mouseleave:function(t){var e=this,n=e._i,r=e._j,i=s._getSubMenu(r);u(e,"x-disabled")||!i?c(e,"x-on"):0==n&&(s._active=r);var o=s._getItem(r);a(o.data.mouseout,e,t,o),a(s.onmouseout,e,t,o)}},".x-item"),s._e2&&s._e2.off(),s._e2=h.add(i,"mousedown",h.stop),s.hide()},drawMenu:function(t,e){var n=this,r=n._menus,i=n._items,o=n._map_menu,s=n._map_item,a=!!(c=t.box),u=n.i++;if(!c){var c,l=t.className;(c=k("div","x-panel"+(l?" "+l:""))).style.width=(t.width||120)+"px"}if(r[u]={node:c,linked:a,j:e,data:t},e&&(o[e]=u),a)return n;for(var f=!1!==n.subMenu,h=0,d=t.items;h<d.length;h++){var p=d[h];if(p){var v=_.createElement("div"),m=n.j++;if(v._i=u,i[v._j=m]={node:v,i:u,j:m,data:p},p.id!=w&&(s[p.id]=m),p.split)v.className="x-split";else{v.className="x-item"+(p.disabled?" x-disabled":""),v.x=p.x!=w?p.x:"";var g=p.group,x=f&&g&&(g.box||g.items&&0<g.items.length),b=p.ico,y=p.html||'<div class="x-icon">'+(b?/^<.+>$/.test(b)?b:'<img alt="" src="'+b+'">':"")+'</div><div class="x-text"'+(p.title?' title="'+p.title+'"':"")+">"+p.text+"</div>"+(x?'<div class="arrow"></div>':"");v.innerHTML=y,x&&n._tmp.push([g,m])}c.appendChild(v)}}return Q.body.appendChild(c),n},_getMenu:function(t){return this._menus[t]},_getSubMenu:function(t){var e=this._map_menu[t];return e!=w?this._getMenu(e):w},_getItem:function(t){return this._items[t]},getItem:function(t){var e=this._map_item[t];return e!=w?this._items[e]:w},setItemText:function(t,e){var n=this.getItem(t);if(n){n.data.text=e;var r=n.node.childNodes[1];r&&(r.innerHTML=e)}},processItems:function(t,n){var r=this;return i(t).forEach(function(t){var e=r.getItem(t);e&&n(e.node,e)}),r},_processItems:function(t,e,n){return this.processItems(t,function(t){e(t,n)})},enableItems:function(t){return this._processItems(t,c,"x-disabled")},disableItems:function(t){return this._processItems(t,o,"x-disabled")},showItems:function(t){return this._processItems(t,c,"hide")},hideItems:function(t){return this._processItems(t,o,"hide")},_setPos:function(t,e,n,r){var i=this,o=i.rangeX,s=i.rangeY,a=t.node,u=a.offsetWidth,c=a.offsetHeight,l=t.data||{},f=l.maxHeight;if(f){var h=f<Math.max(c,a.scrollHeight);a.style.height=h?f+"px":"auto",i.fixedWidth||(a.style.width=l.width+(h?17:0)+"px"),c=a.offsetHeight}return e==w&&(e=i.x||0),n==w&&(n=i.y||0),o&&o<e+u&&(e=o-u,r&&(e=e-r.offsetWidth+3)),s&&s<n+c&&(n=s-c-1),e<0&&(e=0),n<0&&(n=0),d(a,e,n),i.x=e,i.y=n,i},_showSub:function(t,e,n){var r=this,i=r._getMenu(t),o=r._getSubMenu(e);if(o){var s=i.node,a=o.node,u=f(n),c=+l(s,"zIndex");+l(a,"zIndex")<=c&&(a.style.zIndex=c+1),r._setPos(o,u.left+n.offsetWidth-2,u.top,s)}return r.i=t,r.j=e,r},_inactive:function(t){var e=this._getItem(t);return e&&c(e.node,"x-on"),this},_hideSub:function(t,e){var n=this;if(t<=n.i&&e!=n.j){var r,i=n._menus;for(r=i.length-1;t<r;r--)n._hide(i[r]);if(t<n.i)for(r=n.i;t<r;r--){var o=n._getMenu(r);n._inactive(o.j)}}return t==n.i&&e!=n.j&&n._getSubMenu(n.j)&&n._inactive(n.j),n},_hide:function(t){if(t){var e=t.node;-1e4!=e.style.left&&d(e,-1e4,-1e4)}return this},show:function(t,e){return this._setPos(this._menus[0],t,e)},hide:function(){var e=this;return e._menus.forEach(function(t){e._hide(t)}),e._active!=w&&(e._inactive(e._active),e._active=w),e},isHidden:function(){var t=this.box,e=parseFloat(t.style.left),n=parseFloat(t.style.top);return e<=-t.offsetWidth||n<=-t.offsetHeight},toggle:function(t,e){return this.isHidden()?this.show(t,e):this.hide()},destroy:function(){var e=this;return e._e0&&e._e0.off(),e._e1&&e._e1.off(),e._menus.forEach(function(t){t.node.innerHTML="",$(t.node).remove()}),Object.forEach(e,function(t){e[t]=null}),e}}),Q.ContextMenu=n}(),function(t){"use strict";var h=window.document,i=Q.def,d=Q.fire,r=Q.isObject,p=Q.getFirst,v=Q.getLast,m=Q.width,g=Q.hasClass,x=Q.addClass,o=Q.removeClass,l=Q.createEle,e=Q.factory,b=Q.ie,y=Q.event;function n(t){t=t||{};var e=this;e.box=t.box,e.items=t.items||[],e.multiple=t.multiple,e.canInput=t.canInput,e.textProp=t.textProp||"text",e.value=t.value,e.index=t.index||0,e.ops=t}e(n).extend({init:function(){var u=this,t=u.ops,e=u.box,n=!u.multiple,r=u.canInput,i=t.placeholder,o=(n?'<div class="x-sel-tag">'+(r?'<input type="text" class="x-sel-text"'+(i?' placeholder="'+i+'"':"")+" />":'<div class="x-sel-text"></div>')+'<div class="x-sel-arrow"><div class="arrow arrow-down"></div></div></div>':"")+'<div class="x-panel x-sel-list'+(n?"":" x-sel-multiple")+'"></div>';x(e,"x-sel"),e.innerHTML=o;var s,a,c,l,f=v(e);return m(f,t.width||e.offsetWidth-2),n&&(s=p(e),a=p(s),c=v(s),u.elText=a,u.elArrow=c),u.elList=f,n?(!1!==t.autoHide&&y.add(h,"mousedown",function(){u.hide()}),y.add(r?c:e,"mousedown",function(t){return u.toggle(),!1}),l={mousedown:y.stop,mouseup:function(t){var e=this.x,n=u.items[e];d(u.onclick,u,n,e),n.disabled||(u.hide(),e!=u.index&&u.select(e))},mouseenter:function(){var t=this.x;u.items[t].disabled||u.active(t)}}):(u.selectedItems=[],u.seletedMap={},l={mousedown:function(t){if(!g(this,"x-disabled")){var e=this.x,n=u.selectedItems[0],r=t.shiftKey,i=t.ctrlKey;if(!r&&i||u.clearSelect(),r){var o=n?n.index:e,s=e;s<o&&(s=o,o=e);for(var a=o;a<=s;a++)u.active(a)}else i&&u.seletedMap[e]?u.inactive(e):u.select(e)}}},b<10&&(l.selectstart=y.stop)),y.add(f,l,".x-item"),u.draw()},draw:function(){var t=this,e=t.ops,n=t.items,i=t.elList,o=e.hasTitle,r=e.maxHeight,s={};(i.innerHTML="",n.forEach(function(t,e){t.index=e;var n=(s[t.value]=t).text||"",r=l("div","x-item"+(t.group?" x-sel-group":t.disabled?" x-disabled":""),n);o&&(r.title=t.title||n.toText()),r.x=e,t.node=r,i.appendChild(r)}),t.map=s,r)&&(r<i.offsetHeight&&(i.style.height=r));var a=t.value,u=t.index;if(a){var c=t.find(a);c&&(u=c.index)}return t.select(u),t.multiple?t:t.hide()},add:function(t,e,n){return this.items.push(r(t)?t:{text:t,value:e,title:n}),this},find:function(t){return this.map[t]},clearSelect:function(){var t=this,e=function(t){t.node&&o(t.node,"selected")};return t.multiple?(t.selectedItems.forEach(e),t.selectedItems=[],t.seletedMap={}):e({node:t._el}),t},active:function(t){var e=this,n=e.items[t];if(!n)return e;var r,i=n.node;return e.multiple?n.disabled||e.seletedMap[t]||(e.selectedItems.push(n),r=e.seletedMap[t]=!0):(e.clearSelect(),r=!0,e._el=i),r&&x(i,"selected"),this},inactive:function(e){var t=this,n=t.items[e];return t.multiple&&(t.selectedItems=t.selectedItems.filter(function(t){return t.index!=e}),t.seletedMap[e]=void 0),o(n.node,"selected"),t},select:function(t,e){var n=this,r=n.items[t];return r&&(n.text=i(r.text,""),n.value=i(r.value,""),n.elText&&(n.elText[n.canInput?"value":"innerHTML"]=n[n.textProp]),n.active(t),e||t==n.index||d(n.onchange,n,r,t),n.index=t),n},show:function(){return this.elList.style.display="",this.select(this.index)},hide:function(){return this.elList.style.display="none",this},toggle:function(){return"none"==this.elList.style.display?this.show():this.hide()},getText:function(){return this.canInput?this.elText.value:this.text}}),Q.DropdownList=n}(),function(d){"use strict";var e=Q.extend,t=Q.factory,p={prevPage:"&lt;上一页",nextPage:"下一页&gt;",pageSize:"每页{0}条",totalCount:"共{0}条数据"};function n(t){var e=this;if(e.ops=t,e.size=t.size||9,e.cache={},t.href==d){var n=t.boxNav;n&&$(n).on("click","li",function(){e.go($(this).attr("x")),e.onclick&&e.onclick.call(e,e.page)})}else t.cache=t.preload=!1;e.set(t.totalCount,t.pageSize||10).setData(t.data).go(t.page)}t(n).extend({set:function(t,e){var n=this;return t!=d&&(n.totalCount=t),e!=d&&(n.pageSize=e),n.totalCount!=d&&(n.totalPage=Math.ceil(n.totalCount/n.pageSize)),n},setData:function(t){return t&&(this.data=t,this.set(t.length)),this},_load:function(e,n){var r=this,i=r.ops,o=r.onload;r.page=e;var s=function(t){return o&&o.call(r,t),n&&n.call(r,t),r};if(!i.load){var t=r.pageSize,a=(e-1)*t;return s(r.data.slice(a,a+t))}var u=i.cache?r.cache[e]:d;return u?s(u):(i.load(e,function(t){u=t.data||[],i.cache&&(r.cache[e]=u),r.set(t.totalCount,t.pageSize),s(u)}),r)},load:function(t){return this._load(t,this.draw)},reload:function(t){return this.load(t||this.page)},go:function(t,e){var n=this;return isNaN(t)?n:(t=+t,n.totalPage!=d&&t>n.totalPage&&(t=n.totalPage),t<1&&(t=1),(t!=n.page||e)&&(n.load(t),n.ops.load&&n.ops.preload&&n._load(t+1),n.onchange&&n.onchange.call(n,t)),n)},drawNav:function(){var t=this,e=t.ops,n=e.boxNav;if(!n)return t;var r=t.totalCount,i=t.pageSize,o=t.totalPage,s=t.page,a=e.href,u=e.text||{},c=function(t,e,n){var r=[1];if(1==e)return r;var i,o=2;if(e<=t)i=e;else{var s=(t-5)/2;i=n<=s+3?t-2:e-s-3<n?(o=e-t+3,e-1):(o=n-~~s)+t-5}2<o&&r.push(0);for(var a=o;a<=i;a++)r.push(a);return t<e&&(i<e-1&&r.push(0),r.push(e)),r}(t.size,o,s);a!=d&&(a+=-1!=a.indexOf("?")?"&":"?");var l=function(t,e,n){return n||(n=t==s?"on":t?"":"skip"),"<li"+(n?' class="'+n+'"':"")+' x="'+t+'">'+(a?"<a"+(t?' href="'+a+"page="+t+'"':"")+">"+e+"</a>":e)+"</li>"},f=e.drawSize||function(t,e,n){return e+"/"+n},h='<div class="inline-block pager-bar'+(a?" pager-link":"")+'"><ul>'+l(Math.max(s-1,1),u.prev||p.prevPage,"prev")+c.map(function(t){return l(t,t||"…")}).join("")+l(Math.min(s+1,o),u.next||p.nextPage,"next")+"</ul></div>"+(!1!==e.showSize?'<div class="inline-block pager-count">'+f(t,p.pageSize.replace("{0}",'<span class="page-size">'+i+"</span>"),p.totalCount.replace("{0}",'<span class="total-count">'+r+"</span>"))+"</div>":"");$(n).html(h)},draw:function(t){return this.drawNav(),this.ops.draw.call(this,t),this}}),n.setLang=function(t){e(p,t,!0)},Q.DataPager=n}(),function(){"use strict";var c=Q.async,a=Q.getFirst,u=Q.parseHash,r=$.find;function e(o){var s=this,t=(o=o||{}).context,e=o.tabs||r(".tab-title li.tab,.tabTitle>li",t),n=o.conts||r(".tab-cont>.turn-box,.tabCont>.turn-box",t);s.tabs=e,s.conts=n,s.map_loaded={},s.map_index={},e.forEach(function(t,e){"1"==t.getAttribute("x-def")&&(o.index=e);var n=a(t);if(n){var r=n.href.split("#")[1]||"",i=u(r).nav;i&&(s.map_index[i]=e)}}),e.forEach(function(t,e){$(t).hasClass("skip")||$(t).click(function(){s.showTab(e)})}),$(n).hide(),setTimeout(function(){var t=u().nav.slice(1)||o.hash,e=s.map_index[t];null==e&&(e=o.index||0),s.showTab(e)},20)}Q.factory(e).extend({getTab:function(t){return this.tabs[t]},getCont:function(t){return this.conts[t]},hasLoaded:function(t){return!!this.map_loaded[t]},showTab:function(t){var e=this,n=e.index;if(t!==n){if(void 0!==n){var r=e.getTab(n),i=e.getCont(n);$(r).removeClass("on"),$(i).hide()}var o=e.getTab(t),s=e.getCont(t),a=e.map_loaded;$(o).addClass("on"),$(s).show();var u={index:e.index=t,tab:o,cont:s,loaded:a[t]};c(e.onchange,100,u),c(window.onTabChange,200,u),a[t]||(a[t]=!0)}}}),Q.Tabs=e,Q.setTabs=function(t){return new e(t)}}(),function(t){"use strict";var d=Q.fire,s=Q.createEle,e=Q.factory,a=Q.DragX;function n(t){var e=(t=t||{}).box,n=s("div","range-slider-bar"),c=s("div","range-progress"),l=s("div","range-slider");n.appendChild(c),n.appendChild(l),e.appendChild(n);var f=this;f._elBar=n,f._elProgress=c,f._elSlider=l,f.min=+t.min||0,f.max=+t.max||100,f.step=+t.step||1,f.value=+t.value||0;var r=f.step+"",i=r.lastIndexOf("."),o=-1!=i?r.length-i-1:0,h=Math.pow(10,o);f.onchange=t.onchange,f.val(f.value),f._drag=new a(function(){var o,s,a,u;this.ops={ele:l,autoCursor:!1},this.doDown=function(t){o=n.offsetWidth,s=c.offsetWidth,a=t.clientX,u=o-l.offsetWidth},this.doMove=function(t){var e=t.clientX-a,n=s+e;n<0?n=0:o<n&&(n=o);var r=~~(n*(f.max-f.min)/(o*f.step)),i=(f.min*h+f.step*h*r)/h;c.style.width=100*n/o+"%",l.style.left=100*Math.min(n,u)/o+"%",i!=f.value&&(f.value=i,d(f.onchange,f,f.value))}})}e(n).extend({val:function(t){var e=this;if(null==t)return e.value;t<e.min?t=e.min:t>e.max&&(t=e.max);var n=e._elProgress,r=e._elSlider,i=e._elBar.offsetWidth;return e.value=t,n.style.width=100*t/(e.max-e.min)+"%",r.style.left=100*Math.min(n.offsetWidth,i-r.offsetWidth)/i+"%",e}}),Q.RangeSlider=n}();