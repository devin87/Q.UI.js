//devin87@qq.com
//build:2020/06/05 19:31:35
!function(a){"use strict";var i,C=Q.G,x=C.document,m=Q.isObject,k=Q.isFunc,g=Q.isUNum,b=Q.isUInt,_=Q.def,H=Q.fire,I=Q.async,o=Q.extend,n=Q.makeArray,M=Q.getStyle,s=Q.setStyle,w=Q.getFirst,y=Q.getNext,S=Q.width,z=Q.height,P=Q.createEle,e=Q.removeEle,T=Q.show,L=Q.hide,r=Q.isHidden,N=Q.addClass,E=Q.setCssIfNot,j=Q.setCenter,l=Q.setInputError,c=Q.setInputDefault,A=Q.clearSelection,u=Q.query,t=Q.factory,W=Q.ie<7,B=Q.view,D=Q.event,d={color:"#999",opacity:.3};function F(t){var e=P("div","x-mask");Q.body.appendChild(e),W&&(e.style.height=B.getScrollHeight()+"px"),this.box=e,this.set(o(t||{},d)),this.count=r(e)?0:1}function O(){return i?(i.show(),i):i=new F}t(F).extend({opacity:function(t){return this.set({opacity:t})},set:function(t){var i=this.box;return Object.forEach(t,function(t,e){e!==a&&s(i,"color"!=t?t:"backgroundColor",e)}),this},show:function(){return this.removed&&(Q.body.appendChild(this.box),this.removed=!1),T(this.box),this.count++,this},hide:function(){return 0<this.count&&this.count--,this.count<=0&&L(this.box),this},remove:function(){return e(this.box),this.removed=!0,this.count=0,this}});var X,q,R=1e3,U=R;function h(t){H(t,this),this._apis=[],this.start()}function G(x,t){return new h(function(){1!=x.nodeType?x=(t=x).ele:(t=t||{}).ele=x;var n,o,s,r,a,l,c,u,d=this,h=t.range||{x:0,y:0},i=!!t.shadow,f=x.offsetWidth,p=x.offsetHeight,v=x;i&&(q||(q=P("div","x-drag-shadow"),Q.body.appendChild(q)),v=q),d.ops=t,d.doDown=function(t){s=t.clientX,r=t.clientY;var e=i?$(x).offset():$(x).position();n=e.left,o=e.top,i&&Object.forEach({left:n,top:o,width:f,height:p},function(t,e){v.style[t]=e+"px"})},d.doMove=function(t){if(T(v),c){a=t.clientX-s;var e=n+a;h&&(e<h.x?e=h.x:h.w&&e+f>h.x+h.w&&(e=h.x+h.w-f)),v.style.left=e+"px"}if(u){l=t.clientY-r;var i=o+l;h&&(i<h.y?i=h.y:h.h&&i+p>h.y+h.h&&(i=h.y+h.h-p)),v.style.top=i+"px"}},i&&(d.doUp=function(){L(v),x.style.left=x.offsetLeft+a+"px",x.style.top=x.offsetTop+l+"px"}),d.setLock=function(t,e){return c=t,u=e,d.pause(!t&&!e)},d.setRange=function(t,e,i,n){return h=m(t)?t:{x:t,y:e,w:i,h:n},d},d.setLock(!1!==t.isX,!1!==t.isY)})}function f(t){this._es=[],H(t,this)}t(h).extend({start:function(){var e=this,t=e.ops,i=t.scope||C,n=i.document,o=t.ele,s=t.target||o,r=!1!==t.autoIndex,a=!!t.autoMask,l=!1!==t.autoCss,c=!1!==t.autoCursor,u=1==o.nodeType?+M(o,"z-index"):0,d=e.doDown,h=e.doMove,f=e.doUp,p=t.onCheck,v=t.onDown,x=t.onMove,m=t.onUp,g=function(t){for(var e=[],i=t||C;i.top!=i;){var n=i.parent;e.push(n),i=n}return e}(i),b=!!o.setCapture,_=!b&&0<g.length;U<=u&&(U=1+u),l&&E(o,"position","absolute"),l&&c&&E(s,"cursor","move"),t.center&&(j(o),e._api_resize=D.add(i,"resize",function(){j(o)}));var w=function(t){e._pause||(H(h,e,t),H(x,e,t))},y=function(t){e._unbind(),b&&o.releaseCapture(),a&&X&&(X.remove(),X=null),A(),H(f,e,t),H(m,e,t)};return e._up=y,e._api=D.add(s,"mousedown",function(t){if(!k(p)||!1!==p.call(e,t)){if(r)(+M(o,"z-index")||0)<U&&(U++,o.style.zIndex=U);e._unbind(),b?(o.setCapture(),e._bind(o,"losecapture",y)):e._bind(i,"blur",y),e._bind(n,{mousemove:w,mouseup:y}),_&&e._bind(g,"mouseup",y),a&&(X=X||new F({color:null,opacity:null,zIndex:999999}),W&&X.set({height:B.getScrollHeight()})),I(A,20),H(d,e,t),H(v,e,t)}}),e},_bind:function(){this._apis.push(D.add.apply(D,arguments))},_unbind:function(){var t=this._apis;0<t.length&&(t.forEach(function(t){t.off()}),this._apis=[])},pause:function(t){return this._pause=t,this._up&&this._up(),this},stop:function(){var t=this._api;return this._unbind(),t&&(t.off(),this._api=null),this},destroy:function(){var t=this._api_resize;return this.stop(),t&&(t.off(),this._api_resize=null),this}}),$.fn.extend({drag:function(i){return this.each(function(t,e){G(e,i)})}}),t(f).extend({find:function(t,e){return"string"==typeof t?u(t,e||this.box):n(t)},$:function(t,e){return $(this.find(t,e))},get:function(t,e){return this.find(t,e)[0]},fire:function(){return H(this.callback,this,this.data),this},getEventCallback:function(t,e){var i=this;return"hide"==t?function(){i.data=e,i.hide()}:"remove"==t?function(){i.data=e,i.remove()}:t},bind:function(t,e,i,n){return this._es.push(D.add(this.find(t),e,this.getEventCallback(i,n))),this},on:function(t,e,i,n){return this._es.push(D.add(this.box,t,e,this.getEventCallback(i,n))),this},show:function(){var t=this;return t.onShow&&t.onShow(),T(t.box),t.mbox&&t.mbox.show(),t},hide:function(){var t=this;return L(t.box),t.mbox&&t.mbox.hide(),t.onHide&&t.onHide(),t.fire()},toggle:function(){return r(this.box)?this.show():this.hide()},remove:function(){var t=this;if(t.box)return e(t.box),t.mbox&&t.mbox.hide(),t.dr&&t.dr.destroy(),t._es.forEach(function(t){t.off()}),t.box=t.mbox=t.dr=null,t.onRemove&&t.onRemove(),t.fire()}}),f.alias({$:"query",remove:"destroy"});var K={titleBox:"弹出框",titleAlert:"提示信息",titleConfirm:"确认信息",titlePrompt:"输入信息",titleClose:"点击关闭",titleLoading:"加载数据",buttonSubmit:"确定",buttonCancel:"取消",textLoading:"正在加载数据,请稍后…"};function p(v){return v=v||{},new f(function(){var o=this,t=v.width,e=v.height,i=_(v.maxHeight,B.getHeight()-60),n=!1!==v.drag,s=n&&!1!==v.center,r=v.className;o.ops=v,o.callback=v.callback;var a='<div class="x-head"><h2 class="x-title">'+(v.title||K.titleBox)+'</h2><a class="x-close" title="'+K.titleClose+'">X</a></div><div class="x-main"><div class="x-view">'+(v.html||"")+"</div></div>";W&&(a+='<iframe class="x-ie-fix" style="position: absolute;top:0;left:0;z-index:-1;" scrolling="no" frameborder="0"></iframe>');var l=P("div","x-box"+(r?" "+r:""),a);Q.body.appendChild(l),o.box=l;var c=v.zIndex||0;R<U&&(c=Math.max(c,U)),c&&(l.style.zIndex=c);var u=w(l),d=y(u);o.setTitle=function(t){return $(".x-title",u).html(t),o},o.setWidth=function(t){return v.width=t,S(l,t),H(v.resize,o),o},o.setHeight=function(t){return v.height=t,z(d,t-u.offsetHeight-20),o},o.setMaxHeight=function(t){v.maxHeight=t;var e=v.height;return g(e)&&t<e&&(e=t),l.scrollHeight>t&&(e=t,N(l,"x-box-auto")),g(e)&&o.setHeight(e),s&&j(l),H(v.resize,o),o},o.autoHeight=function(){var t=v.maxHeight;if(!t)return o;var e=o.get(".x-head").offsetHeight,i=t-e-20,n=t-e;return d.style.height=d.scrollHeight>n?i+"px":"auto",s&&j(l),o},g(t)&&S(l,t),u.offsetWidth<10&&S(u,l.offsetWidth),i?o.setMaxHeight(i):g(e)&&o.setHeight(e),!1!==v.mask&&(o.mbox="new"==v.mask?new F:O());var h=v.close||"hide",f=o.getEventCallback(h);o.bind(".x-close","click",h),!1!==v.esc&&o.bind(x,"keyup",function(t){27==t.keyCode&&f()});var p=v.time;b(p)&&I(f,p),H(v.init,o,l,v),n&&(o.dr=G(l,{target:u,center:s,shadow:v.shadow,autoMask:!0,onCheck:function(t){var e=t.target;return e&&"x-close"!=e.className}})),$(".x-ie-fix",l).width(l.offsetWidth-2).height(l.offsetHeight-2)})}function v(t){t.width||(t.width=320);var e=t.width;if(t.icon||t.iconHtml){var i='<div class="fl x-ico">'+(t.iconHtml||'<img alt="" src="'+t.icon+'"/>')+'</div><div class="fl x-dialog"'+(g(e)?' style="width:'+(e-60)+'px;"':"")+">"+t.html+'</div><div class="clear"></div>';t.html=i;var n=t.init;t.resize=function(){var t=this.get(".x-view").offsetWidth-this.get(".x-ico").offsetWidth;$(".x-dialog",this.box).width(t)},t.init=function(t,e){e.resize.call(this),H(n,this,t,e)}}else t.html='<div class="x-dialog">'+t.html+"</div>";return t.bottom&&(t.html+=t.bottom),t.close||(t.close="remove"),p(t)}function Y(t,e){var i="inline-block w-button w-"+(e||"dark");return'<div class="x-bottom"><div class="'+i+' x-submit">'+K.buttonSubmit+"</div>"+(2==t?'<div class="'+i+' x-cancel">'+K.buttonCancel+"</div>":"")+"</div>"}function V(t,e,i,n){return"object"==typeof i&&(i=n=i),n=o({},n),k(i)&&(n.callback=i),n.title||(n.title=t),n.html=e,n}var J={createDialogBox:v,alert:function(t,e,i){return(i=V(K.titleAlert,t,e,i)).iconHtml='<div class="ico x-alert"></div>',v(i)},confirm:function(t,e,i){return(i=V(K.titleConfirm,t,e,i)).bottom||(i.bottom=Y(2)),i.mask=!1!==i.mask,v(i).bind(".x-submit","click","remove",!0).bind(".x-cancel","click","remove",!1)},prompt:function(t,e,i){i=V(K.titlePrompt,a,e,i),e=i.callback,i.callback=a;var n='<div class="x-text">'+t+'</div><div class="x-input"><input type="'+(i.pwd?"password":"text")+'" /></div>';i.html=n,i.bottom||(i.bottom=Y(2));var o=v(i),s=o.get(".x-input>input");s.focus(),s.value=_(i.value,"");function r(){!1!==H(e,s,s.value)?o.remove():l(s)}return o.bind(s,"keyup",function(t){13==t.keyCode?r():c(this)}),o.bind(".x-submit","click",r).bind(".x-cancel","click","remove")},bottom:Y,showLoading:function(t){return(t=o({},t)).title||(t.title=K.titleLoading),t.html||(t.html=K.textLoading),t.iconHtml='<div class="ico x-loading"></div>',v(t)}};o(Q,J),o(Q,{getMaskBox:O,maskSetup:function(t,e){o(d,t,!0),e&&i&&i.reset(t)},setDrag:G,setBoxLang:function(t){o(K,t,!0)},MaskBox:F,DragX:h,Box:f,WinBox:p})}(),function(w){"use strict";var y=window.document,a=Q.fire,e=Q.extend,o=Q.makeArray,u=Q.getStyle,d=Q.offset,l=Q.hasClass,s=Q.addClass,c=Q.removeClass,C=Q.createEle,t=Q.factory,h=Q.event;function f(t,e,i){e!=w&&(t.style.left=e+"px"),i!=w&&(t.style.top=i+"px")}function i(t,e){this.set(e).init(t)}t(i).extend({init:function(t){var e=this;return e.draw(t),!1!==e.autoHide&&(e._e0=h.add(y,"click",function(){e.hide()})),e},set:function(t){return e(this,t,!0),this},draw:function(t){var r=this;r._menus=[],r._items=[],r._map_menu={},r._map_item={},r.i=r.j=0,r._active=w;var e,i=r._tmp=[];for(r.drawMenu(t);e=i.shift();)r.drawMenu.apply(r,e);r._tmp=null,r.i=r.j=0;var n=r._getMenu(0).node;r.box=n;var o=[];return r._menus.forEach(function(t){t&&!t.linked&&o.push(t.node)}),r._e1&&r._e1.off(),r._e1=h.add(o,{click:function(t){var e=this._j;if(l(this,"x-disabled")||r._getSubMenu(e)&&!r.isFireAll)return!1;var i=r._getItem(e);a(i.data.click,this,t,i),a(r.onclick,this,t,i),r.hide()},mouseenter:function(t){var e=this,i=e._i,n=e._j;r._hideSub(i,n),s(e,"x-on");var o=r._getItem(n);a(o.data.mouseover,e,t,o),a(r.onmouseover,e,t,o),l(e,"x-disabled")||r._showSub(i,n,e)},mouseleave:function(t){var e=this,i=e._i,n=e._j,o=r._getSubMenu(n);l(e,"x-disabled")||!o?c(e,"x-on"):0==i&&(r._active=n);var s=r._getItem(n);a(s.data.mouseout,e,t,s),a(r.onmouseout,e,t,s)}},".x-item"),r._e2&&r._e2.off(),r._e2=h.add(o,"mousedown",h.stop),r.hide()},drawMenu:function(t,e){var i=this,n=i._menus,o=i._items,s=i._map_menu,r=i._map_item,a=!!(c=t.box),l=i.i++;if(!c){var c,u=t.className;(c=C("div","x-panel"+(u?" "+u:""))).style.width=(t.width||120)+"px"}if(n[l]={node:c,linked:a,j:e,data:t},e&&(s[e]=l),a)return i;for(var d=!1!==i.subMenu,h=0,f=t.items;h<f.length;h++){var p=f[h];if(p){var v=y.createElement("div"),x=i.j++;if(v._i=l,o[v._j=x]={node:v,i:l,j:x,data:p},p.id!=w&&(r[p.id]=x),p.split)v.className="x-split";else{v.className="x-item"+(p.disabled?" x-disabled":""),v.x=p.x!=w?p.x:"";var m=p.group,g=d&&m&&(m.box||m.items&&0<m.items.length),b=p.ico,_=p.html||'<div class="x-icon">'+(b?/^<.+>$/.test(b)?b:'<img alt="" src="'+b+'">':"")+'</div><div class="x-text"'+(p.title?' title="'+p.title+'"':"")+">"+p.text+"</div>"+(g?'<div class="arrow"></div>':"");v.innerHTML=_,g&&i._tmp.push([m,x])}c.appendChild(v)}}return Q.body.appendChild(c),i},_getMenu:function(t){return this._menus[t]},_getSubMenu:function(t){var e=this._map_menu[t];return e!=w?this._getMenu(e):w},_getItem:function(t){return this._items[t]},getItem:function(t){var e=this._map_item[t];return e!=w?this._items[e]:w},setItemText:function(t,e){var i=this.getItem(t);if(i){i.data.text=e;var n=i.node.childNodes[1];n&&(n.innerHTML=e)}},processItems:function(t,i){var n=this;return o(t).forEach(function(t){var e=n.getItem(t);e&&i(e.node,e)}),n},_processItems:function(t,e,i){return this.processItems(t,function(t){e(t,i)})},enableItems:function(t){return this._processItems(t,c,"x-disabled")},disableItems:function(t){return this._processItems(t,s,"x-disabled")},showItems:function(t){return this._processItems(t,c,"hide")},hideItems:function(t){return this._processItems(t,s,"hide")},_setPos:function(t,e,i,n){var o=this,s=o.rangeX,r=o.rangeY,a=t.node,l=a.offsetWidth,c=a.offsetHeight,u=t.data||{},d=u.maxHeight;if(d){var h=d<Math.max(c,a.scrollHeight);a.style.height=h?d+"px":"auto",o.fixedWidth||(a.style.width=u.width+(h?17:0)+"px"),c=a.offsetHeight}return e==w&&(e=o.x||0),i==w&&(i=o.y||0),s&&s<e+l&&(e=s-l,n&&(e=e-n.offsetWidth+3)),r&&r<i+c&&(i=r-c-1),e<0&&(e=0),i<0&&(i=0),f(a,e,i),o.x=e,o.y=i,o},_showSub:function(t,e,i){var n=this,o=n._getMenu(t),s=n._getSubMenu(e);if(s){var r=o.node,a=s.node,l=d(i),c=+u(r,"zIndex");+u(a,"zIndex")<=c&&(a.style.zIndex=1+c),n._setPos(s,l.left+i.offsetWidth-2,l.top,r)}return n.i=t,n.j=e,n},_inactive:function(t){var e=this._getItem(t);return e&&c(e.node,"x-on"),this},_hideSub:function(t,e){var i=this;if(t<=i.i&&e!=i.j){var n,o=i._menus;for(n=o.length-1;t<n;n--)i._hide(o[n]);if(t<i.i)for(n=i.i;t<n;n--){var s=i._getMenu(n);i._inactive(s.j)}}return t==i.i&&e!=i.j&&i._getSubMenu(i.j)&&i._inactive(i.j),i},_hide:function(t){if(t){var e=t.node;-1e4!=e.style.left&&f(e,-1e4,-1e4)}return this},show:function(t,e){return this._setPos(this._menus[0],t,e)},hide:function(){var e=this;return e._menus.forEach(function(t){e._hide(t)}),e._active!=w&&(e._inactive(e._active),e._active=w),e},isHidden:function(){var t=this.box,e=parseFloat(t.style.left),i=parseFloat(t.style.top);return e<=-t.offsetWidth||i<=-t.offsetHeight},toggle:function(t,e){return this.isHidden()?this.show(t,e):this.hide()},destroy:function(){var e=this;return e._e0&&e._e0.off(),e._e1&&e._e1.off(),e._menus.forEach(function(t){t.node.innerHTML="",$(t.node).remove()}),Object.forEach(e,function(t){e[t]=null}),e}}),Q.ContextMenu=i}(),function(){"use strict";var h=window.document,o=Q.def,f=Q.fire,n=Q.isObject,p=Q.getFirst,v=Q.getLast,x=Q.width,m=Q.hasClass,g=Q.addClass,s=Q.removeClass,u=Q.createEle,t=Q.factory,b=Q.ie,_=Q.event;function e(t){t=t||{};var e=this;e.box=t.box,e.items=t.items||[],e.multiple=t.multiple,e.canInput=t.canInput,e.textProp=t.textProp||"text",e.value=t.value,e.index=t.index||0,e.ops=t}t(e).extend({init:function(){var l=this,t=l.ops,e=l.box,i=!l.multiple,n=l.canInput,o=t.placeholder,s=(i?'<div class="x-sel-tag">'+(n?'<input type="text" class="x-sel-text"'+(o?' placeholder="'+o+'"':"")+" />":'<div class="x-sel-text"></div>')+'<div class="x-sel-arrow"><div class="arrow arrow-down"></div></div></div>':"")+'<div class="x-panel x-sel-list'+(i?"":" x-sel-multiple")+'"></div>';g(e,"x-sel"),e.innerHTML=s;var r,a,c,u,d=v(e);return x(d,t.width||e.offsetWidth-2),i&&(r=p(e),a=p(r),c=v(r),l.elText=a,l.elArrow=c),l.elList=d,i?(!1!==t.autoHide&&(_.add(h,"mousedown",function(){l.hide()}),_.add(e,"mousedown",function(t){_.stop(t,!1,!0)})),_.add(n?c:r,"mousedown",function(t){return l.toggle(),!1}),u={mouseup:function(t){var e=this.x,i=l.items[e];f(l.onclick,l,i,e),i.disabled||(l.hide(),e!=l.index&&l.select(e))},mouseenter:function(){var t=this.x;l.items[t].disabled||l.active(t)}}):(l.selectedItems=[],l.seletedMap={},u={mousedown:function(t){if(!m(this,"x-disabled")){var e=this.x,i=l.selectedItems[0],n=t.shiftKey,o=t.ctrlKey;if(!n&&o||l.clearSelect(),n){var s=i?i.index:e,r=e;r<s&&(r=s,s=e);for(var a=s;a<=r;a++)l.active(a)}else o&&l.seletedMap[e]?l.inactive(e):l.select(e)}}},b<10&&(u.selectstart=_.stop)),_.add(d,u,".x-item"),l.draw(),f(l.oninit,l),l},draw:function(){var t=this,e=t.ops,i=t.items,o=t.elList,s=e.hasTitle,n=e.maxHeight,r={};o.innerHTML="",i.forEach(function(t,e){t.index=e;var i=(r[t.value]=t).text||"",n=u("div","x-item"+(t.group?" x-sel-group":t.disabled?" x-disabled":""),i);s&&(n.title=t.title||i.toText()),n.x=e,t.node=n,o.appendChild(n)}),t.map=r,!n||n<o.offsetHeight&&(o.style.height=n+"px");f(t.ondraw,t);var a=t.value,l=t.index;if(a){var c=t.find(a);c&&(l=c.index)}return t.select(l),t.multiple?t:t.hide()},add:function(t,e,i){return this.items.push(n(t)?t:{text:t,value:e,title:i}),this},find:function(t){return this.map[t]},clearSelect:function(){function t(t){t.node&&s(t.node,"selected")}var e=this;return e.multiple?(e.selectedItems.forEach(t),e.selectedItems=[],e.seletedMap={}):t({node:e._el}),e},active:function(t){var e=this,i=e.items[t];if(!i)return e;var n,o=i.node;return e.multiple?i.disabled||e.seletedMap[t]||(e.selectedItems.push(i),n=e.seletedMap[t]=!0):(e.clearSelect(),n=!0,e._el=o),n&&g(o,"selected"),this},inactive:function(e){var t=this,i=t.items[e];return t.multiple&&(t.selectedItems=t.selectedItems.filter(function(t){return t.index!=e}),t.seletedMap[e]=void 0),s(i.node,"selected"),t},select:function(t,e){var i=this,n=i.items[t];return n&&(i.text=o(n.text,""),i.value=o(n.value,""),i.elText&&(i.elText[i.canInput?"value":"innerHTML"]=i[i.textProp]),i.active(t),e||t==i.index||f(i.onchange,i,n,t),i.index=t),i},show:function(){return this.elList.style.display="",this.select(this.index)},hide:function(){return this.elList.style.display="none",this},toggle:function(){return"none"==this.elList.style.display?this.show():this.hide()},getText:function(){return this.canInput?this.elText.value:this.text}}),Q.DropdownList=e}(),function(f){"use strict";var e=Q.extend,t=Q.factory,p={prevPage:"&lt;上一页",nextPage:"下一页&gt;",pageSize:"每页{0}条",totalCount:"共{0}条数据"};function i(t){var e=this;if(e.ops=t,e.size=t.size||9,e.cache={},t.href==f){var i=t.boxNav;i&&$(i).on("click","li",function(){e.go($(this).attr("x")),e.onclick&&e.onclick.call(e,e.page)})}else t.cache=t.preload=!1;e.set(t.totalCount,t.pageSize||t.pageCount||10).setData(t.data).go(t.page)}t(i).extend({set:function(t,e){var i=this;return t!=f&&(i.totalCount=t),e!=f&&(i.pageSize=e),i.totalCount!=f&&(i.totalPage=Math.ceil(i.totalCount/i.pageSize)),i},setData:function(t){return t&&(this.data=t,this.set(t.length)),this},_load:function(e,i){var n=this,o=n.ops,s=n.onload;n.page=e;function r(t){return s&&s.call(n,t),i&&i.call(n,t),n}if(!o.load){var t=n.pageSize,a=(e-1)*t;return r(n.data.slice(a,a+t))}var l=o.cache?n.cache[e]:f;return l?r(l):(o.load(e,function(t){l=t.data||[],o.cache&&(n.cache[e]=l),n.set(t.totalCount,t.pageSize||t.pageCount),r(l)}),n)},load:function(t){return this._load(t,this.draw)},reload:function(t){return this.load(t||this.page)},go:function(t,e){var i=this;return isNaN(t)?i:(t=+t,i.totalPage!=f&&t>i.totalPage&&(t=i.totalPage),t<1&&(t=1),(t!=i.page||e)&&(i.load(t),i.ops.load&&i.ops.preload&&i._load(t+1),i.onchange&&i.onchange.call(i,t)),i)},drawNav:function(){var t=this,e=t.ops,i=e.boxNav;if(!i)return t;var n=t.totalCount,o=t.pageSize,s=t.totalPage,r=t.page,a=e.href,l=e.text||{},c=function(t,e,i){var n=[1];if(1==e)return n;var o,s=2;if(e<=t)o=e;else{var r=(t-5)/2;o=i<=3+r?t-2:e-r-3<i?(s=e-t+3,e-1):(s=i-~~r)+t-5}2<s&&n.push(0);for(var a=s;a<=o;a++)n.push(a);return t<e&&(o<e-1&&n.push(0),n.push(e)),n}(t.size,s,r);a!=f&&(a+=-1!=a.indexOf("?")?"&":"?");function u(t,e,i){return"<li"+((i=i||(t==r?"on":t?"":"skip"))?' class="'+i+'"':"")+' x="'+t+'">'+(a?"<a"+(t?' href="'+a+"page="+t+'"':"")+">"+e+"</a>":e)+"</li>"}var d=e.drawSize||function(t,e,i){return e+"/"+i},h='<div class="inline-block pager-bar'+(a?" pager-link":"")+'"><ul>'+u(Math.max(r-1,1),l.prev||p.prevPage,"prev")+c.map(function(t){return u(t,t||"…")}).join("")+u(Math.min(r+1,s),l.next||p.nextPage,"next")+"</ul></div>"+(!1!==e.showSize?'<div class="inline-block pager-count">'+d(t,p.pageSize.replace("{0}",'<span class="page-size">'+o+"</span>"),p.totalCount.replace("{0}",'<span class="total-count">'+n+"</span>"))+"</div>":"");$(i).html(h)},draw:function(t){return this.drawNav(),this.ops.draw.call(this,t),this}}),i.setLang=function(t){e(p,t,!0)},Q.DataPager=i}(),function(){"use strict";var u=Q.async,a=Q.getFirst,l=Q.parseHash,n=$.find;function e(s){var r=this,t=(s=s||{}).context,e=s.tabs||n(".tab-title li.tab,.tabTitle>li",t),i=s.conts||n(".tab-cont>.turn-box,.tabCont>.turn-box",t);r.tabs=e,r.conts=i,r.map_loaded={},r.map_index={},r.ops=s,e.forEach(function(t,e){"1"==t.getAttribute("x-def")&&(s.index=e);var i=a(t);if(i){var n=i.href.split("#")[1]||"",o=l(n).nav;o&&(r.map_index[o]=e)}}),e.forEach(function(t,e){$(t).hasClass("skip")||$(t).click(function(){r.showTab(e)})}),$(i).hide(),setTimeout(function(){var t=s.hash||l().nav.slice(1),e=r.map_index[t];null==e&&(e=s.index||0),r.showTab(e)},20)}Q.factory(e).extend({getTab:function(t){return this.tabs[t]},getCont:function(t){return this.conts[t]},hasLoaded:function(t){return!!this.map_loaded[t]},showTab:function(t){var e=this,i=e.ops,n=e.index;if(t!==n){if(void 0!==n){var o=e.getTab(n),s=e.getCont(n);$(o).removeClass("on"),$(s).hide()}var r=e.getTab(t),a=e.getCont(t),l=e.map_loaded;$(r).addClass("on"),$(a).show();var c={index:e.index=t,tab:r,cont:a,loaded:l[t]};u(e.onchange,100,c),!1!==i.triggerTabChange&&u(window["onTabChange"+(i.name?"_"+i.name:"")],200,c),l[t]||(l[t]=!0)}}}),Q.Tabs=e,Q.setTabs=function(t){return new e(t)}}(),function(){"use strict";var l=Q.fire;function t(t){var e=this,i=t.box;e._$box=$(i),e._$ul=$(t.ul,i),e._$control=$(t.boxControl,i),e._$btnPrev=$(t.btnPrev,i),e._$btnNext=$(t.btnNext,i),e.auto=!!t.auto,e.way=t.way||"left",e.speed=t.speed||"slow",e.sleep=t.sleep||5e3,e.step=t.step||1,e.isSlideKeydown=!1!==t.isSlideKeydown,e.isStoppedHover=!1!==t.isStoppedHover,e.clsActive="slide-on",e.index=0,e.init()}(0,Q.factory)(t).extend({init:function(){var t,i=this,e=i._$box,n=i._$ul,o=n.children(),s=i._$control,r=o.size();return 0<r&&(n.prepend(o.last()[0].cloneNode(!0)),n.append(o.first()[0].cloneNode(!0))),1<r?s.html("<a></a>".repeat(r)):(i._$btnPrev.hide(),i._$btnNext.hide()),(o=n.children()).each(function(t,e){e.style[i.way]=100*(t-1)+"%"}),(t=s.children()).each(function(t){this.x=t}),i._$lis=o,i._$controls=t,i._cssBox=e.prop("className"),i.size=r,o.eq(1).addClass(i.clsActive),i.updateControl(0),i.auto&&i.start(),i.initEvent()},initEvent:function(){var e=this;return 1<e.size&&(e._$control.on("click","a",function(){e.play(this.x)}),e._$btnPrev.click(function(){e.playPrev()}),e._$btnNext.click(function(){e.playNext()})),e.isSlideKeydown&&$(document).keydown(function(t){switch(t.keyCode){case 37:e.playPrev();break;case 39:e.playNext()}}),e.auto&&e.isStoppedHover&&e._$ul.hover(function(){e.stop()},function(){e.start()}),e},updateControl:function(t){var e=this,i=e._cssBox||"";return e._$box.prop("className",i+(i?" ":"")+"b"+(t+1)),e._$controls.prop("className","").eq(t).prop("className",e.clsActive),e},play:function(t){var e=this,i=e.clsActive,n=e._$ul,o=e._$lis,s=e.size;if(s<=1)return e;var r=t;s<=r?r=0:r<0&&(r=s-1),o.removeClass(i).eq(t+1).addClass(i),e.updateControl(r),l(e.onPlay,e,r);var a={};return a[e.way]=100*-t+"%",n.animate(a,e.speed,function(){t!=s&&-1!=t||(o.removeClass(i).eq(r+1).addClass(i),n.css(e.way,100*-r+"%"),e.index=r,l(e.onPlayed,e,r))}),e.index=t,e},playPrev:function(){return this.play(this.index-this.step)},playNext:function(){return this.play(this.index+this.step)},start:function(){var t=this;return 1<t.size&&(t.timer=setTimeout(function(){t.playNext(),t.start()},t.sleep)),t},stop:function(){return this.timer&&clearTimeout(this.timer),this}}),Q.Marquee=t}(),function(n){"use strict";var c=window.document,i=Q.isFunc,e=Q.extend,u=Q.getFirst,d=Q.getNext,h=Q.getLast,f=Q.createEle,t=Q.factory,p=Q.event,v={cubic_color:"立方色",series_color:"连续色调",gray_color:"灰度等级"};function o(t,e,i){e!=n&&(t.style.left=e+"px"),i!=n&&(t.style.top=i+"px")}function l(t,e){return"#"+(e?Math.round(255*e).toString(16):"")+("00000"+t.toString(16)).slice(-6)}function s(t,e,i,n){return l(65536*t+256*e+ +i,n)}function r(t){var e=[];if("number"==typeof t&&(t=l(t)),0==t.indexOf("#")){var i=t.length;return 3!=i&&4!=i||(t="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2),4==i&&(t+=t.charAt(3)+t.charAt(3))),9==i&&(e[3]=Math.round(100*parseInt(t.substr(1,2),16)/255)/100,t="#"+t.slice(3)),7==t.length&&(e[0]=parseInt(t.substr(1,2),16),e[1]=parseInt(t.substr(3,2),16),e[2]=parseInt(t.substr(5,2),16)),e}var n=(t=t.replace(/\s+/g,"")).indexOf("(");return-1!=n&&(e=t.slice(n+1,-1).split(",")),e}function a(t){var e=r(t);return e.length<=0?t:s.apply(n,e.slice(0,3))}Q.parseColor=r,Q.toHex=a,Q.toAHex=function(t){var e=r(t);return e.length<=0?t:s.apply(n,e)},Q.toRGB=function(t){var e=r(t);return e.length<=0?t:"rgb("+e.slice(0,3).join(",")+")"},Q.toRGBA=function(t){var e=r(t);return e.length<=0?t:"rgba("+e.join(",")+")"};var x=["#000000","#333333","#666666","#999999","#cccccc","#ffffff","#ff0000","#00ff00","#0000ff","#ffff00","#00ffff","#ff00ff"];function m(t){this.row=12,this.col=21,this.set(t).init()}t(m).extend({init:function(){var i=this,t='<div class="xp-title"><div class="xp-preview"></div><div class="xp-val"></div><div class="xp-type"><select><option value="Cube" selected="selected">'+v.cubic_color+'</option><option value="Series">'+v.series_color+'</option><option value="Gray">'+v.gray_color+'</option></select></div></div><div class="xp-table"><table>'+("<tr>"+"<td></td>".repeat(i.col)+"</tr>").repeat(i.row)+"</table></div>",e=f("div","x-picker",t),n=u(e),o=u(n),s=d(o),r=h(n),a=h(e),l=u(a);return Q.body.appendChild(e),i.box=e,i.table=l,i.boxPreview=o,i.boxValue=s,p.add(u(r),"change",function(){i["draw"+this.value+"Color"]()}),p.add(l,{mouseover:function(t){i.setPreview(this.style.backgroundColor)},click:function(t){var e=this.style.backgroundColor;i.fire(e).hide()}},"td"),p.add(e,"click",p.stop),p.add(c,"click",function(t){i.hide()}),i.drawCubeColor().hide()},set:function(t){return e(this,t,!0),this.setPreview((t||{}).color)},fire:function(t){var e=this;return i(e.callback)&&e.callback.call(e,e.isHex?a(t):t),e},setPreview:function(t){return t&&(this.boxPreview.style.backgroundColor=t,this.boxValue.innerHTML=a(t).toUpperCase()),this},fillColor:function(t,e,i){return this.table.rows[t].cells[e].style.backgroundColor=i,this},drawLeftColor:function(){for(var t=this.row,e=0;e<t;e++)this.fillColor(e,0,"#000").fillColor(e,1,x[e]).fillColor(e,2,"#000");return this},drawCubeColor:function(){var t,e=this,i=e.row,n=e.col,o=0;e.drawLeftColor();for(var s=0;s<i;s++){t=o=5<s?10027008+51*(s-6):0+51*s;for(var r=3;r<n;r++)e.fillColor(s,r,l(t)),t+=13056,(r-2)%6==0&&(t=o+=3342336)}return e},drawSeriesColor:function(){var t,e=this,i=e.row,n=e.col,o=13434879,s=1;e.drawLeftColor();for(var r=0;r<i;r++){t=o=5<r?16711935+13056*(r-6):13434879-13056*r,s=1;for(var a=3;a<n;a++)e.fillColor(r,a,l(t)),t-=51*s,(a-2)%6==0&&(t=(o-=6684672)-(0<(s*=-1)?0:255))}return e},drawGrayColor:function(){for(var t=this.row,e=this.col,i=16777215,n=0;n<t;n++)for(var o=0;o<e;o++)this.fillColor(n,o,l(i)),i<=0?i=0:i-=65793;return this},show:function(t,e){var i=this;return t==n?t=i.x:i.x=t,e==n?e=i.y:i.y=e,o(i.box,t,e),i},hide:function(){return o(this.box,-1e4,-1e4),this},isHidden:function(){var t=this.box,e=parseFloat(t.style.left),i=parseFloat(t.style.top);return e<=-t.offsetWidth||i<=-t.offsetHeight},toggle:function(t,e){return this.isHidden()?this.show(t,e):this.hide()}}),m.setLang=function(t){e(v,t,!0)},Q.ColorPicker=m}(),function(){"use strict";var i=Q.fire,s=Q.createEle;function t(t){var e=(t=t||{}).box,i=s("div","progress-bar"),n=s("div","progress");i.appendChild(n),e.appendChild(i);var o=this;o._bar=i,o._node=n,o.speed=t.speed||1,o.wait=t.wait||100,o.progress=0,o.time=0,o.onprogress=t.onprogress}(0,Q.factory)(t).extend({start:function(){var t=this;if(!(100<=t.progress))return t._timer=setInterval(function(){t.update()},t.wait),t},stop:function(){return this._timer&&clearInterval(this._timer),this},restart:function(){return this.stop().update(0).start()},update:function(t){var e=this;return null!=t?e.progress=Math.max(t,0):e.progress+=e.speed,100<e.progress&&(e.progress=100,e.stop()),e._node.style.width=e.progress.toFixed(2)+"%",e.time+=e.wait,i(e.onprogress,e,e.progress,e.speed,e.time),e},set:function(t,e){return t&&(this.speed=t),e&&(this.wait=e),this.stop().start()}}),Q.Progressbar=t}(),function(){"use strict";var f=Q.fire,r=Q.createEle,t=Q.factory,a=Q.DragX;function e(t){var e=(t=t||{}).box,i=r("div","range-slider-bar"),c=r("div","range-progress"),u=r("div","range-slider");i.appendChild(c),i.appendChild(u),e.appendChild(i);var d=this;d._elBar=i,d._elProgress=c,d._elSlider=u,d.min=+t.min||0,d.max=+t.max||100,d.step=+t.step||1,d.value=+t.value||0;var n=d.step+"",o=n.lastIndexOf("."),s=-1!=o?n.length-o-1:0,h=Math.pow(10,s);d.onchange=t.onchange,d.val(d.value),d._drag=new a(function(){var s,r,a,l;this.ops={ele:u,autoCursor:!1},this.doDown=function(t){s=i.offsetWidth,r=c.offsetWidth,a=t.clientX,l=s-u.offsetWidth},this.doMove=function(t){var e=t.clientX-a,i=r+e;i<0?i=0:s<i&&(i=s);var n=~~(i*(d.max-d.min)/(s*d.step)),o=(d.min*h+d.step*h*n)/h;c.style.width=100*i/s+"%",u.style.left=100*Math.min(i,l)/s+"%",o!=d.value&&(d.value=o,f(d.onchange,d,d.value))}})}t(e).extend({val:function(t){var e=this;if(null==t)return e.value;t<e.min?t=e.min:t>e.max&&(t=e.max);var i=e._elProgress,n=e._elSlider,o=e._elBar.offsetWidth;return e.value=t,i.style.width=100*(t-e.min)/(e.max-e.min)+"%",n.style.left=100*Math.min(i.offsetWidth,o-n.offsetWidth)/o+"%",e}}),Q.RangeSlider=e}();