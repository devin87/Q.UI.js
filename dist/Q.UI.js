//devin87@qq.com
//build:2022/04/14 11:13:41
!function(r){"use strict";var i,C=Q.G,f=C.document,x=Q.isObject,k=Q.isFunc,p=Q.isUNum,v=Q.isUInt,m=Q.def,H=Q.fire,I=Q.async,o=Q.extend,n=Q.makeArray,M=Q.getStyle,s=Q.setStyle,g=Q.getFirst,b=Q.getNext,_=Q.width,w=Q.height,y=Q.createEle,e=Q.removeEle,S=Q.show,z=Q.hide,a=Q.isHidden,P=Q.addClass,T=Q.setCssIfNot,L=Q.setCenter,l=Q.setInputError,c=Q.setInputDefault,N=Q.clearSelection,u=Q.query,t=Q.factory,E=Q.ie<7,j=Q.view,d=Q.Listener,A=Q.event,h={color:"#999",opacity:.3};function W(t){var e=y("div","x-mask");Q.body.appendChild(e),E&&(e.style.height=j.getScrollHeight()+"px"),this.box=e,this.set(o(t||{},h)),this.count=a(e)?0:1}function B(){return i?(i.show(),i):i=new W}t(W).extend({opacity:function(t){return this.set({opacity:t})},set:function(t){var i=this.box;return Object.forEach(t,function(t,e){e!==r&&s(i,"color"!=t?t:"backgroundColor",e)}),this},show:function(){return this.removed&&(Q.body.appendChild(this.box),this.removed=!1),S(this.box),this.count++,this},hide:function(){return 0<this.count&&this.count--,this.count<=0&&z(this.box),this},remove:function(){return e(this.box),this.removed=!0,this.count=0,this}});var D,F,O=1e3,X=O;function R(t){H(t,this),this._apis=[],this.start()}function U(v,t){return new R(function(){1!=v.nodeType?v=(t=v).ele:(t=t||{}).ele=v;var i,n,o,s,r,a,l,c,u=this,d=t.range||{x:0,y:0},e=!!t.shadow,h=v.offsetWidth,f=v.offsetHeight,p=v;e&&(F||(F=y("div","x-drag-shadow"),Q.body.appendChild(F)),p=F),u.ops=t,u.doDown=function(t){o=t.clientX,s=t.clientY;t=e?$(v).offset():$(v).position();i=t.left,n=t.top,e&&Object.forEach({left:i,top:n,width:h,height:f},function(t,e){p.style[t]=e+"px"})},u.doMove=function(t){var e;S(p),l&&(r=t.clientX-o,e=i+r,d&&(e<d.x?e=d.x:d.w&&e+h>d.x+d.w&&(e=d.x+d.w-h)),p.style.left=e+"px"),c&&(a=t.clientY-s,t=n+a,d&&(t<d.y?t=d.y:d.h&&t+f>d.y+d.h&&(t=d.y+d.h-f)),p.style.top=t+"px")},e&&(u.doUp=function(){z(p),v.style.left=v.offsetLeft+r+"px",v.style.top=v.offsetTop+a+"px"}),u.setLock=function(t,e){return l=t,c=e,u.pause(!t&&!e)},u.setRange=function(t,e,i,n){return d=x(t)?t:{x:t,y:e,w:i,h:n},u},u.setLock(!1!==t.isX,!1!==t.isY)})}t(R).extend({start:function(){var e=this,t=e.ops,i=t.scope||C,n=i.document,o=t.ele,s=t.target||o,r=!1!==t.autoIndex,a=!!t.autoMask,l=!1!==t.autoCss,c=!1!==t.autoCursor,u=1==o.nodeType?+M(o,"z-index"):0,d=e.doDown,h=e.doMove,f=e.doUp,p=t.onCheck,v=t.onDown,x=t.onMove,m=t.onUp,g=function(t){for(var e=[],i=t||C;i.top!=i;){var n=i.parent;e.push(n),i=n}return e}(i),b=!!o.setCapture,_=!b&&0<g.length;X<=u&&(X=1+u),l&&T(o,"position","absolute"),l&&c&&T(s,"cursor","move"),t.center&&(L(o),e._api_resize=A.add(i,"resize",function(){L(o)}));var w=function(t){e._pause||(H(h,e,t),H(x,e,t))},y=function(t){e._unbind(),b&&o.releaseCapture(),a&&D&&(D.remove(),D=null),N(),H(f,e,t),H(m,e,t)};return e._up=y,e._api=A.add(s,"mousedown",function(t){k(p)&&!1===p.call(e,t)||(r&&(+M(o,"z-index")||0)<X&&(X++,o.style.zIndex=X),e._unbind(),b?(o.setCapture(),e._bind(o,"losecapture",y)):e._bind(i,"blur",y),e._bind(n,{mousemove:w,mouseup:y}),_&&e._bind(g,"mouseup",y),a&&(D=D||new W({color:null,opacity:null,zIndex:999999}),E&&D.set({height:j.getScrollHeight()})),I(N,20),H(d,e,t),H(v,e,t))}),e},_bind:function(){this._apis.push(A.add.apply(A,arguments))},_unbind:function(){var t=this._apis;0<t.length&&(t.forEach(function(t){t.off()}),this._apis=[])},pause:function(t){return this._pause=t,this._up&&this._up(),this},stop:function(){var t=this._api;return this._unbind(),t&&(t.off(),this._api=null),this},destroy:function(){var t=this._api_resize;return this.stop(),t&&(t.off(),this._api_resize=null),this}}),$.fn.extend({drag:function(i){return this.each(function(t,e){U(e,i)})}});var q=new d(["init","show","hide","remove"]);function G(t){this._es=[],H(t,this),q.trigger("init",[this])}t(G).extend({find:function(t,e){return"string"==typeof t?u(t,e||this.box):n(t)},$:function(t,e){return $(this.find(t,e))},get:function(t,e){return this.find(t,e)[0]},fire:function(){return H(this.callback,this,this.data),this},getEventCallback:function(t,e){var i=this;return"hide"==t?function(){i.data=e,i.hide()}:"remove"==t?function(){i.data=e,i.remove()}:t},bind:function(t,e,i,n){return this._es.push(A.add(this.find(t),e,this.getEventCallback(i,n))),this},on:function(t,e,i,n){return this._es.push(A.add(this.box,t,e,this.getEventCallback(i,n))),this},show:function(){var t=this;return t.onShow&&t.onShow(),S(t.box),t.mbox&&t.mbox.show(),q.trigger("show",[t]),t},hide:function(){var t=this;return z(t.box),t.mbox&&t.mbox.hide(),t.onHide&&t.onHide(),q.trigger("hide",[t]),t.fire()},toggle:function(){return a(this.box)?this.show():this.hide()},remove:function(){var t=this;if(t.box)return e(t.box),t.mbox&&t.mbox.hide(),t.dr&&t.dr.destroy(),t._es.forEach(function(t){t.off()}),t.box=t.mbox=t.dr=null,t.onRemove&&t.onRemove(),q.trigger("remove",[t]),t.fire()}}),G.alias({$:"query",remove:"destroy"}),G.on=function(t,e){return q.add(t,e),G};var K={titleBox:"弹出框",titleAlert:"提示信息",titleConfirm:"确认信息",titlePrompt:"输入信息",titleClose:"点击关闭",titleLoading:"加载数据",buttonSubmit:"确定",buttonCancel:"取消",textLoading:"正在加载数据,请稍后…"};function Y(h){return h=h||{},new G(function(){var i=this,t=h.width,e=h.height,n=m(h.maxHeight,j.getHeight()-60),o=!1!==h.drag,s=o&&!1!==h.center,r=h.className;i.ops=h,i.callback=h.callback;var a='<div class="x-head"><h2 class="x-title">'+(h.title||K.titleBox)+'</h2><a class="x-close" title="'+K.titleClose+'">X</a></div><div class="x-main"><div class="x-view">'+(h.html||"")+"</div></div>";E&&(a+='<iframe class="x-ie-fix" style="position: absolute;top:0;left:0;z-index:-1;" scrolling="no" frameborder="0"></iframe>');var l=y("div","x-box"+(r?" "+r:""),a);Q.body.appendChild(l),i.box=l;a=h.zIndex||0;(a=O<X?Math.max(a,X):a)&&(l.style.zIndex=a);var c=g(l),u=b(c);i.setTitle=function(t){return $(".x-title",c).html(t),i},i.setWidth=function(t){return h.width=t,_(l,t),H(h.resize,i),i},i.setHeight=function(t){return h.height=t,w(u,t-c.offsetHeight-20),i},i.setMaxHeight=function(t){h.maxHeight=t;var e=h.height;return p(e)&&t<e&&(e=t),l.scrollHeight>t&&(e=t,P(l,"x-box-auto")),p(e)&&i.setHeight(e),s&&L(l),H(h.resize,i),i},i.autoHeight=function(){var t=h.maxHeight;if(!t)return i;var e=i.get(".x-head").offsetHeight;return u.style.height=u.scrollHeight>t-e?t-e-20+"px":"auto",s&&L(l),i},p(t)&&_(l,t),c.offsetWidth<10&&_(c,l.offsetWidth),n?i.setMaxHeight(n):p(e)&&i.setHeight(e),!1!==h.mask&&(i.mbox="new"==h.mask?new W:B());var e=h.close||"hide",d=i.getEventCallback(e);i.bind(".x-close","click",e),!1!==h.esc&&i.bind(f,"keyup",function(t){27==t.keyCode&&d()});e=h.time;v(e)&&I(d,e),H(h.init,i,l,h),o&&(i.dr=U(l,{target:c,center:s,shadow:h.shadow,autoMask:!0,onCheck:function(t){t=t.target;return t&&"x-close"!=t.className}})),$(".x-ie-fix",l).width(l.offsetWidth-2).height(l.offsetHeight-2)})}function V(t){t.width||(t.width=320);var i,e=t.width;return t.icon||t.iconHtml?(e='<div class="fl x-ico">'+(t.iconHtml||'<img alt="" src="'+t.icon+'"/>')+'</div><div class="fl x-dialog"'+(p(e)?' style="width:'+(e-60)+'px;"':"")+">"+t.html+'</div><div class="clear"></div>',t.html=e,i=t.init,t.resize=function(){var t=this.get(".x-view").offsetWidth-this.get(".x-ico").offsetWidth;$(".x-dialog",this.box).width(t)},t.init=function(t,e){e.resize.call(this),H(i,this,t,e)}):t.html='<div class="x-dialog">'+t.html+"</div>",t.bottom&&(t.html+=t.bottom),t.close||(t.close="remove"),Y(t)}function J(t,e){e="inline-block w-button w-"+(e||"dark");return'<div class="x-bottom"><div class="'+e+' x-submit">'+K.buttonSubmit+"</div>"+(2==t?'<div class="'+e+' x-cancel">'+K.buttonCancel+"</div>":"")+"</div>"}function Z(t,e,i,n){return"object"==typeof i&&(i=n=i),n=o({},n),k(i)&&(n.callback=i),n.title||(n.title=t),n.html=e,n}o(Q,{createDialogBox:V,alert:function(t,e,i){return(i=Z(K.titleAlert,t,e,i)).iconHtml='<div class="ico x-alert"></div>',V(i)},confirm:function(t,e,i){return(i=Z(K.titleConfirm,t,e,i)).bottom||(i.bottom=J(2)),i.mask=!1!==i.mask,V(i).bind(".x-submit","click","remove",!0).bind(".x-cancel","click","remove",!1)},prompt:function(t,e,i){i=Z(K.titlePrompt,r,e,i),e=i.callback,i.callback=r;t='<div class="x-text">'+t+'</div><div class="x-input"><input type="'+(i.pwd?"password":"text")+'" /></div>';i.html=t,i.bottom||(i.bottom=J(2));var n=V(i),o=n.get(".x-input>input");o.focus(),o.value=m(i.value,"");function s(){!1!==H(e,o,o.value)?n.remove():l(o)}return n.bind(o,"keyup",function(t){13==t.keyCode?s():c(this)}),n.bind(".x-submit","click",s).bind(".x-cancel","click","remove")},bottom:J,showLoading:function(t){return(t=o({},t)).title||(t.title=K.titleLoading),t.html||(t.html=K.textLoading),t.iconHtml='<div class="ico x-loading"></div>',V(t)}}),o(Q,{getMaskBox:B,maskSetup:function(t,e){o(h,t,!0),e&&i&&i.reset(t)},setDrag:U,setBoxLang:function(t){o(K,t,!0)},MaskBox:W,DragX:R,Box:G,WinBox:Y})}(),function(_){"use strict";var w=window.document,r=Q.fire,e=Q.extend,n=Q.makeArray,c=Q.getStyle,u=Q.offset,a=Q.hasClass,l=Q.addClass,d=Q.removeClass,y=Q.createEle,t=Q.factory,o=Q.event;function h(t,e,i){e!=_&&(t.style.left=e+"px"),i!=_&&(t.style.top=i+"px")}function i(t,e){this.set(e).init(t)}t(i).extend({init:function(t){var e=this;return e.draw(t),!1!==e.autoHide&&(e._e0=o.add(w,"click",function(){e.hide()})),e},set:function(t){return e(this,t,!0),this},draw:function(t){var s=this;s._menus=[],s._items=[],s._map_menu={},s._map_item={},s.i=s.j=0,s._active=_;var e,i=s._tmp=[];for(s.drawMenu(t);e=i.shift();)s.drawMenu.apply(s,e);s._tmp=null,s.i=s.j=0;t=s._getMenu(0).node;s.box=t;var n=[];return s._menus.forEach(function(t){t&&!t.linked&&n.push(t.node)}),s._e1&&s._e1.off(),s._e1=o.add(n,{click:function(t){var e=this._j;if(a(this,"x-disabled")||s._getSubMenu(e)&&!s.isFireAll)return!1;e=s._getItem(e);r(e.data.click,this,t,e),r(s.onclick,this,t,e),s.hide()},mouseenter:function(t){var e=this,i=e._i,n=e._j;s._hideSub(i,n),l(e,"x-on");var o=s._getItem(n);r(o.data.mouseover,e,t,o),r(s.onmouseover,e,t,o),a(e,"x-disabled")||s._showSub(i,n,e)},mouseleave:function(t){var e=this,i=e._i,n=e._j,o=s._getSubMenu(n);a(e,"x-disabled")||!o?d(e,"x-on"):0==i&&(s._active=n);n=s._getItem(n);r(n.data.mouseout,e,t,n),r(s.onmouseout,e,t,n)}},".x-item"),s._e2&&s._e2.off(),s._e2=o.add(n,"mousedown",o.stop),s.hide()},drawMenu:function(t,e){var i,n=this,o=n._menus,s=n._items,r=n._map_menu,a=n._map_item,l=t.box,c=!!l,u=n.i++;if(l||(i=t.className,(l=y("div","x-panel"+(i?" "+i:""))).style.width=(t.width||120)+"px"),o[u]={node:l,linked:c,j:e,data:t},e&&(r[e]=u),c)return n;for(var d=!1!==n.subMenu,h=0,f=t.items;h<f.length;h++){var p,v,x,m,g,b=f[h];b&&(p=w.createElement("div"),v=n.j++,p._i=u,s[p._j=v]={node:p,i:u,j:v,data:b},b.id!=_&&(a[b.id]=v),b.split?p.className="x-split":(p.className="x-item"+(b.disabled?" x-disabled":""),p.x=b.x!=_?b.x:"",x=b.group,m=d&&x&&(x.box||x.items&&0<x.items.length),g=b.ico,b=b.html||'<div class="x-icon">'+(g?/^<.+>$/.test(g)?g:'<img alt="" src="'+g+'">':"")+'</div><div class="x-text"'+(b.title?' title="'+b.title+'"':"")+">"+b.text+"</div>"+(m?'<div class="arrow"></div>':""),p.innerHTML=b,m&&n._tmp.push([x,v])),l.appendChild(p))}return Q.body.appendChild(l),n},_getMenu:function(t){return this._menus[t]},_getSubMenu:function(t){t=this._map_menu[t];return t!=_?this._getMenu(t):_},_getItem:function(t){return this._items[t]},getItem:function(t){t=this._map_item[t];return t!=_?this._items[t]:_},setItemText:function(t,e){var t=this.getItem(t);t&&(t.data.text=e,(t=t.node.childNodes[1])&&(t.innerHTML=e))},processItems:function(t,e){var i=this;return n(t).forEach(function(t){t=i.getItem(t);t&&e(t.node,t)}),i},_processItems:function(t,e,i){return this.processItems(t,function(t){e(t,i)})},enableItems:function(t){return this._processItems(t,d,"x-disabled")},disableItems:function(t){return this._processItems(t,l,"x-disabled")},showItems:function(t){return this._processItems(t,d,"hide")},hideItems:function(t){return this._processItems(t,l,"hide")},_setPos:function(t,e,i,n){var o=this,s=o.rangeX,r=o.rangeY,a=t.node,l=a.offsetWidth,c=a.offsetHeight,u=t.data||{},d=u.maxHeight;return d&&(t=d<Math.max(c,a.scrollHeight),a.style.height=t?d+"px":"auto",o.fixedWidth||(a.style.width=u.width+(t?17:0)+"px"),c=a.offsetHeight),e==_&&(e=o.x||0),i==_&&(i=o.y||0),s&&s<e+l&&(e=s-l,n&&(e=e-n.offsetWidth+3)),h(a,e=e<0?0:e,i=(i=r&&r<i+c?r-c-1:i)<0?0:i),o.x=e,o.y=i,o},_showSub:function(t,e,i){var n,o,s,r=this,a=r._getMenu(t),l=r._getSubMenu(e);return l&&(n=a.node,o=l.node,s=u(i),a=+c(n,"zIndex"),+c(o,"zIndex")<=a&&(o.style.zIndex=1+a),r._setPos(l,s.left+i.offsetWidth-2,s.top,n)),r.i=t,r.j=e,r},_inactive:function(t){t=this._getItem(t);return t&&d(t.node,"x-on"),this},_hideSub:function(t,e){var i=this;if(t<=i.i&&e!=i.j){for(var n=i._menus,o=n.length-1;t<o;o--)i._hide(n[o]);if(t<i.i)for(o=i.i;t<o;o--){var s=i._getMenu(o);i._inactive(s.j)}}return t==i.i&&e!=i.j&&i._getSubMenu(i.j)&&i._inactive(i.j),i},_hide:function(t){return!t||-1e4!=(t=t.node).style.left&&h(t,-1e4,-1e4),this},show:function(t,e){return this._setPos(this._menus[0],t,e)},hide:function(){var e=this;return e._menus.forEach(function(t){e._hide(t)}),e._active!=_&&(e._inactive(e._active),e._active=_),e},isHidden:function(){var t=this.box,e=parseFloat(t.style.left),i=parseFloat(t.style.top);return e<=-t.offsetWidth||i<=-t.offsetHeight},toggle:function(t,e){return this.isHidden()?this.show(t,e):this.hide()},destroy:function(){var e=this;return e._e0&&e._e0.off(),e._e1&&e._e1.off(),e._menus.forEach(function(t){t.node.innerHTML="",$(t.node).remove()}),Object.forEach(e,function(t){e[t]=null}),e}}),Q.ContextMenu=i}(),function(){"use strict";var u=window.document,o=Q.def,d=Q.fire,n=Q.isObject,h=Q.getFirst,f=Q.getLast,p=Q.width,v=Q.hasClass,x=Q.addClass,s=Q.removeClass,a=Q.createEle,t=Q.factory,m=Q.ie,g=Q.event;function e(t){var e=this;e.box=(t=t||{}).box,e.items=t.items||[],e.multiple=t.multiple,e.canInput=t.canInput,e.textProp=t.textProp||"text",e.value=t.value,e.index=t.index||0,e.ops=t}t(e).extend({init:function(){var r=this,t=r.ops,e=r.box,i=!r.multiple,n=r.canInput,o=t.placeholder,s=(i?'<div class="x-sel-tag">'+(n?'<input type="text" class="x-sel-text"'+(o?' placeholder="'+o+'"':"")+" />":'<div class="x-sel-text"></div>')+'<div class="x-sel-arrow"><div class="arrow arrow-down"></div></div></div>':"")+'<div class="x-panel x-sel-list'+(i?"":" x-sel-multiple")+'"></div>';x(e,"x-sel"),e.innerHTML=s;var a,l,c,o=f(e);return p(o,t.width||e.offsetWidth-2),i&&(a=h(e),s=h(a),l=f(a),r.elText=s,r.elArrow=l),r.elList=o,i?(!1!==t.autoHide&&(g.add(u,"mousedown",function(){r.hide()}),g.add(e,"mousedown",function(t){g.stop(t,!1,!0)})),g.add(n?l:a,"mousedown",function(t){return r.toggle(),!1}),c={mouseup:function(t){var e=this.x,i=r.items[e];d(r.onclick,r,i,e),i.disabled||(r.hide(),e!=r.index&&r.select(e))},mouseenter:function(){var t=this.x;r.items[t].disabled||r.active(t)}}):(r.selectedItems=[],r.seletedMap={},c={mousedown:function(t){if(!v(this,"x-disabled")){var e=this.x,i=r.selectedItems[0],n=t.shiftKey,t=t.ctrlKey;if(!n&&t||r.clearSelect(),n){var i=i?i.index:e,o=e;e<i&&(o=i,i=e);for(var s=i;s<=o;s++)r.active(s)}else t&&r.seletedMap[e]?r.inactive(e):r.select(e)}}},m<10&&(c.selectstart=g.stop)),g.add(o,c,".x-item"),r.draw(),d(r.oninit,r),r},draw:function(){var t=this,e=t.ops,i=t.items,o=t.elList,s=e.hasTitle,e=e.maxHeight,r={};o.innerHTML="",i.forEach(function(t,e){t.index=e;var i=(r[t.value]=t).text||"",n=a("div","x-item"+(t.group?" x-sel-group":t.disabled?" x-disabled":""),i);s&&(n.title=t.title||i.toText()),n.x=e,t.node=n,o.appendChild(n)}),t.map=r,e&&e<o.offsetHeight&&(o.style.height=e+"px"),d(t.ondraw,t);var i=t.value,e=t.index;return!i||(i=t.find(i))&&(e=i.index),t.select(e),t.multiple?t:t.hide()},add:function(t,e,i){return this.items.push(n(t)?t:{text:t,value:e,title:i}),this},find:function(t){return this.map[t]},clearSelect:function(){function t(t){t.node&&s(t.node,"selected")}var e=this;return e.multiple?(e.selectedItems.forEach(t),e.selectedItems=[],e.seletedMap={}):t({node:e._el}),e},active:function(t){var e=this,i=e.items[t];if(!i)return e;var n,o=i.node;return e.multiple?i.disabled||e.seletedMap[t]||(e.selectedItems.push(i),n=e.seletedMap[t]=!0):(e.clearSelect(),n=!0,e._el=o),n&&x(o,"selected"),this},inactive:function(e){var t=this,i=t.items[e];return t.multiple&&(t.selectedItems=t.selectedItems.filter(function(t){return t.index!=e}),t.seletedMap[e]=void 0),s(i.node,"selected"),t},select:function(t,e){var i=this,n=i.items[t];return n&&(i.text=o(n.text,""),i.value=o(n.value,""),i.elText&&(i.elText[i.canInput?"value":"innerHTML"]=i[i.textProp]),i.active(t),e||t==i.index||d(i.onchange,i,n,t),i.index=t),i},show:function(){return this.elList.style.display="",this.select(this.index)},hide:function(){return this.elList.style.display="none",this},toggle:function(){return"none"==this.elList.style.display?this.show():this.hide()},getText:function(){return this.canInput?this.elText.value:this.text}}),Q.DropdownList=e}(),function(h){"use strict";var e=Q.extend,t=Q.factory,f={prevPage:"&lt;上一页",nextPage:"下一页&gt;",pageSize:"每页{0}条",totalCount:"共{0}条数据"};function i(t){var e,i=this;i.ops=t,i.size=t.size||9,i.cache={},t.href==h?(e=t.boxNav)&&$(e).on("click","li",function(){i.go($(this).attr("x")),i.onclick&&i.onclick.call(i,i.page)}):t.cache=t.preload=!1,i.set(t.totalCount,t.pageSize||t.pageCount||10).setData(t.data).go(t.page)}t(i).extend({set:function(t,e){var i=this;return t!=h&&(i.totalCount=t),e!=h&&(i.pageSize=e),i.totalCount!=h&&(i.totalPage=Math.ceil(i.totalCount/i.pageSize)),i},setData:function(t){return t&&(this.data=t,this.set(t.length)),this},_load:function(e,i){var n=this,o=n.ops,s=n.onload;n.page=e;function r(t){return s&&s.call(n,t),i&&i.call(n,t),n}if(!o.load){var t=n.pageSize,a=(e-1)*t;return r(n.data.slice(a,a+t))}var l=o.cache?n.cache[e]:h;return l?r(l):(o.load(e,function(t){l=t.data||[],o.cache&&(n.cache[e]=l),n.set(t.totalCount,t.pageSize||t.pageCount),r(l)}),n)},load:function(t){return this._load(t,this.draw)},reload:function(t){return this.load(t||this.page)},go:function(t,e){var i=this;return isNaN(t)?i:(t=+t,((t=(t=i.totalPage!=h&&t>i.totalPage?i.totalPage:t)<1?1:t)!=i.page||e)&&(i.load(t),i.ops.load&&i.ops.preload&&i._load(t+1),i.onchange&&i.onchange.call(i,t)),i)},drawNav:function(){var t=this,e=t.ops,i=e.boxNav;if(!i)return t;var n=t.totalCount,o=t.pageSize,s=t.totalPage,r=t.page,a=e.href,l=e.text||{},c=function(t,e,i){var n=[1];if(1==e)return n;var o,s,r=2;s=e<=t?e:i<=3+(o=(t-5)/2)?t-2:e-o-3<i?(r=e-t+3,e-1):(r=i-~~o)+t-5,2<r&&n.push(0);for(var a=r;a<=s;a++)n.push(a);return t<e&&(s<e-1&&n.push(0),n.push(e)),n}(t.size,s,r);a!=h&&(a+=-1!=a.indexOf("?")?"&":"?");function u(t,e,i){return"<li"+((i=i||(t==r?"on":t?"":"skip"))?' class="'+i+'"':"")+' x="'+t+'">'+(a?"<a"+(t?' href="'+a+"page="+t+'"':"")+">"+e+"</a>":e)+"</li>"}var d=e.drawSize||function(t,e,i){return e+"/"+i},n='<div class="inline-block pager-bar'+(a?" pager-link":"")+'"><ul>'+u(Math.max(r-1,1),l.prev||f.prevPage,"prev")+c.map(function(t){return u(t,t||"…")}).join("")+u(Math.min(r+1,s),l.next||f.nextPage,"next")+"</ul></div>"+(!1!==e.showSize?'<div class="inline-block pager-count">'+d(t,f.pageSize.replace("{0}",'<span class="page-size">'+o+"</span>"),f.totalCount.replace("{0}",'<span class="total-count">'+n+"</span>"))+"</div>":"");$(i).html(n)},draw:function(t){return this.drawNav(),this.ops.draw.call(this,t),this}}),i.setLang=function(t){e(f,t,!0)},Q.DataPager=i}(),function(){"use strict";var r=Q.async,o=Q.getFirst,s=Q.parseHash,a=$.find;function e(i){var n=this,t=(i=i||{}).context,e=i.tabs||a(".tab-title li.tab,.tabTitle>li",t),t=i.conts||a(".tab-cont>.turn-box,.tabCont>.turn-box",t);n.tabs=e,n.conts=t,n.map_loaded={},n.map_index={},n.ops=i,e.forEach(function(t,e){"1"==t.getAttribute("x-def")&&(i.index=e);var t=o(t);t&&(t=t.href.split("#")[1]||"",(t=s(t).nav)&&(n.map_index[t]=e))}),e.forEach(function(t,e){$(t).hasClass("skip")||$(t).click(function(){n.showTab(e)})}),$(t).hide(),setTimeout(function(){var t=i.hash||s().nav.slice(1),t=n.map_index[t];null==t&&(t=i.index||0),n.showTab(t)},20)}Q.factory(e).extend({getTab:function(t){return this.tabs[t]},getCont:function(t){return this.conts[t]},hasLoaded:function(t){return!!this.map_loaded[t]},showTab:function(t){var e,i,n=this,o=n.ops,s=n.index;t!==s&&(void 0!==s&&(i=n.getTab(s),e=n.getCont(s),$(i).removeClass("on"),$(e).hide()),s=n.getTab(t),i=n.getCont(t),e=n.map_loaded,$(s).addClass("on"),$(i).show(),i={index:n.index=t,tab:s,cont:i,loaded:e[t]},r(n.onchange,100,i),!1!==o.triggerTabChange&&r(window["onTabChange"+(o.name?"_"+o.name:"")],200,i),e[t]||(e[t]=!0))}}),Q.Tabs=e,Q.setTabs=function(t){return new e(t)}}(),function(){"use strict";var u=Q.fire;function t(t){var e=this,i=t.box;e._$box=$(i),e._$ul=$(t.ul,i),e._$control=$(t.boxControl,i),e._$btnPrev=$(t.btnPrev,i),e._$btnNext=$(t.btnNext,i),e.auto=!!t.auto,e.way=t.way||"left",e.speed=t.speed||"slow",e.sleep=t.sleep||5e3,e.step=t.step||1,e.isSlideKeydown=!1!==t.isSlideKeydown,e.isStoppedHover=!1!==t.isStoppedHover,e.clsActive=t.clsActive||"slide-on",e.index=0,e.fns=t.on||{},e.init()}(0,Q.factory)(t).extend({init:function(){var i=this,t=i.fns,e=i._$box,n=i._$ul,o=n.children(),s=i._$control,r=o.length;0<r&&(n.prepend(o.last()[0].cloneNode(!0)),n.append(o.first()[0].cloneNode(!0))),1<r?s.html("<a></a>".repeat(r)):(i._$btnPrev.hide(),i._$btnNext.hide()),(o=n.children()).each(function(t,e){e.style[i.way]=100*(t-1)+"%"}),(s=s.children()).each(function(t){this.x=t}),i._$lis=o,i._$controls=s,i._cssBox=e.prop("className"),i.size=r;o=o.get(1);return $(o).addClass(i.clsActive),i.updateControl(0),u(t.init,i,0,o),i.start(),i.initEvent()},initEvent:function(){var e=this;return 1<e.size&&(e._$control.on("click","a",function(){e.play(this.x)}),e._$btnPrev.click(function(){e.playPrev()}),e._$btnNext.click(function(){e.playNext()})),e.isSlideKeydown&&$(document).keydown(function(t){switch(t.keyCode){case 37:e.playPrev();break;case 39:e.playNext()}}),e.auto&&e.isStoppedHover&&e._$ul.hover(function(){e.stop()},function(){e.start()}),e},updateControl:function(t){var e=this,i=e._cssBox||"";return e._$box.prop("className",i+(i?" ":"")+"b"+(t+1)),e._$controls.prop("className","").eq(t).prop("className",e.clsActive),e},play:function(t){var e=this,i=e.fns,n=e.clsActive,o=e._$ul,s=e._$lis,r=e.size;if(r<=1)return e;e.stop();var a=t;r<=a?a=0:a<0&&(a=r-1);var l=s.get(t+1);s.removeClass(n),$(l).addClass(n),e.updateControl(a),u(i.beforeSlide,e,a,l),u(e.onPlay,e,a);var c={};return c[e.way]=100*-t+"%",o.animate(c,e.speed,function(){t!=r&&-1!=t||(s.removeClass(n).eq(a+1).addClass(n),o.css(e.way,100*-a+"%"),e.index=a,u(e.onPlayed,e,a)),u(i.slide,e,a,l),e.start()}),e.index=t,e},playPrev:function(){return this.play(this.index-this.step)},playNext:function(){return this.play(this.index+this.step)},start:function(){var t=this;return t.stop(),!t.auto||t.size<=1||(t.timer=setTimeout(function(){t.playNext()},t.sleep)),t},stop:function(){return this.timer&&(clearTimeout(this.timer),this.timer=void 0),this}}),Q.Marquee=t}(),function(n){"use strict";var r=window.document,i=Q.isFunc,e=Q.extend,a=Q.getFirst,l=Q.getNext,c=Q.getLast,u=Q.createEle,t=Q.factory,d=Q.event,h={cubic_color:"立方色",series_color:"连续色调",gray_color:"灰度等级"};function o(t,e,i){e!=n&&(t.style.left=e+"px"),i!=n&&(t.style.top=i+"px")}function f(t,e){return"#"+(e?Math.round(255*e).toString(16):"")+("00000"+t.toString(16)).slice(-6)}function s(t,e,i,n){return f(65536*t+256*e+ +i,n)}function p(t){var e=[];if(0==(t="number"==typeof t?f(t):t).indexOf("#")){var i=t.length;return 4!=i&&5!=i||(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3),5==i&&(t+=t.charAt(4)+t.charAt(4))),9==t.length&&(e[3]=Math.round(100*parseInt(t.substr(1,2),16)/255)/100,t="#"+t.slice(3)),7==t.length&&(e[0]=parseInt(t.substr(1,2),16),e[1]=parseInt(t.substr(3,2),16),e[2]=parseInt(t.substr(5,2),16)),e}i=(t=t.replace(/\s+/g,"")).indexOf("(");return e=-1!=i?t.slice(i+1,-1).split(","):e}function v(t){var e=p(t);return e.length<=0?t:s.apply(n,e.slice(0,3))}Q.parseColor=p,Q.toHex=v,Q.toAHex=function(t){var e=p(t);return e.length<=0?t:s.apply(n,e)},Q.toRGB=function(t){var e=p(t);return e.length<=0?t:"rgb("+e.slice(0,3).join(",")+")"},Q.toRGBA=function(t){var e=p(t);return e.length<=0?t:"rgba("+e.join(",")+")"};var x=["#000000","#333333","#666666","#999999","#cccccc","#ffffff","#ff0000","#00ff00","#0000ff","#ffff00","#00ffff","#ff00ff"];function m(t){this.row=12,this.col=21,this.set(t).init()}t(m).extend({init:function(){var i=this,t='<div class="xp-title"><div class="xp-preview"></div><div class="xp-val"></div><div class="xp-type"><select><option value="Cube" selected="selected">'+h.cubic_color+'</option><option value="Series">'+h.series_color+'</option><option value="Gray">'+h.gray_color+'</option></select></div></div><div class="xp-table"><table>'+("<tr>"+"<td></td>".repeat(i.col)+"</tr>").repeat(i.row)+"</table></div>",e=u("div","x-picker",t),n=a(e),o=a(n),s=l(o),t=c(n),n=c(e),n=a(n);return Q.body.appendChild(e),i.box=e,i.table=n,i.boxPreview=o,i.boxValue=s,d.add(a(t),"change",function(){i["draw"+this.value+"Color"]()}),d.add(n,{mouseover:function(t){i.setPreview(this.style.backgroundColor)},click:function(t){var e=this.style.backgroundColor;i.fire(e).hide()}},"td"),d.add(e,"click",d.stop),d.add(r,"click",function(t){i.hide()}),i.drawCubeColor().hide()},set:function(t){return e(this,t,!0),this.setPreview((t||{}).color)},fire:function(t){var e=this;return i(e.callback)&&e.callback.call(e,e.isHex?v(t):t),e},setPreview:function(t){return t&&(this.boxPreview.style.backgroundColor=t,this.boxValue.innerHTML=v(t).toUpperCase()),this},fillColor:function(t,e,i){return this.table.rows[t].cells[e].style.backgroundColor=i,this},drawLeftColor:function(){for(var t=this.row,e=0;e<t;e++)this.fillColor(e,0,"#000").fillColor(e,1,x[e]).fillColor(e,2,"#000");return this},drawCubeColor:function(){var t=this,e=t.row,i=t.col,n=0;t.drawLeftColor();for(var o=0;o<e;o++)for(var s=n=5<o?10027008+51*(o-6):0+51*o,r=3;r<i;r++)t.fillColor(o,r,f(s)),s+=13056,(r-2)%6==0&&(s=n+=3342336);return t},drawSeriesColor:function(){var t=this,e=t.row,i=t.col,n=13434879,o=1;t.drawLeftColor();for(var s=0;s<e;s++)for(var r=n=5<s?16711935+13056*(s-6):13434879-13056*s,o=1,a=3;a<i;a++)t.fillColor(s,a,f(r)),r-=51*o,(a-2)%6==0&&(r=(n-=6684672)-(0<(o*=-1)?0:255));return t},drawGrayColor:function(){for(var t=this.row,e=this.col,i=16777215,n=0;n<t;n++)for(var o=0;o<e;o++)this.fillColor(n,o,f(i)),i<=0?i=0:i-=65793;return this},show:function(t,e){var i=this;return t==n?t=i.x:i.x=t,e==n?e=i.y:i.y=e,o(i.box,t,e),i},hide:function(){return o(this.box,-1e4,-1e4),this},isHidden:function(){var t=this.box,e=parseFloat(t.style.left),i=parseFloat(t.style.top);return e<=-t.offsetWidth||i<=-t.offsetHeight},toggle:function(t,e){return this.isHidden()?this.show(t,e):this.hide()}}),m.setLang=function(t){e(h,t,!0)},Q.ColorPicker=m}(),function(){"use strict";var i=Q.fire,o=Q.createEle;function t(t){var e=(t=t||{}).box,i=o("div","progress-bar"),n=o("div","progress");i.appendChild(n),e.appendChild(i);e=this;e._bar=i,e._node=n,e.speed=t.speed||1,e.wait=t.wait||100,e.progress=0,e.time=0,e.onprogress=t.onprogress}(0,Q.factory)(t).extend({start:function(){var t=this;if(!(100<=t.progress))return t._timer=setInterval(function(){t.update()},t.wait),t},stop:function(){return this._timer&&clearInterval(this._timer),this},restart:function(){return this.stop().update(0).start()},update:function(t){var e=this;return null!=t?e.progress=Math.max(t,0):e.progress+=e.speed,100<e.progress&&(e.progress=100,e.stop()),e._node.style.width=e.progress.toFixed(2)+"%",e.time+=e.wait,i(e.onprogress,e,e.progress,e.speed,e.time),e},set:function(t,e){return t&&(this.speed=t),e&&(this.wait=e),this.stop().start()}}),Q.Progressbar=t}(),function(){"use strict";var d=Q.fire,n=Q.createEle,t=Q.factory,o=Q.DragX;function e(t){var e=(t=t||{}).box,r=n("div","range-slider-bar"),a=n("div","range-progress"),l=n("div","range-slider");r.appendChild(a),r.appendChild(l),e.appendChild(r);var c=this;c._elBar=r,c._elProgress=a,c._elSlider=l,c.min=+t.min||0,c.max=+t.max||100,c.step=+t.step||1,c.value=+t.value||0;var i=c.step+"",e=i.lastIndexOf("."),e=-1!=e?i.length-e-1:0,u=Math.pow(10,e);c.onchange=t.onchange,c.val(c.value),c._drag=new o(function(){var i,n,o,s;this.ops={ele:l,autoCursor:!1},this.doDown=function(t){i=r.offsetWidth,n=a.offsetWidth,o=t.clientX,s=i-l.offsetWidth},this.doMove=function(t){var e=t.clientX-o,t=n+e;t<0?t=0:i<t&&(t=i);e=~~(t*(c.max-c.min)/(i*c.step)),e=(c.min*u+c.step*u*e)/u;a.style.width=100*t/i+"%",l.style.left=100*Math.min(t,s)/i+"%",e!=c.value&&(c.value=e,d(c.onchange,c,c.value))}})}t(e).extend({val:function(t){var e=this;if(null==t)return e.value;t<e.min?t=e.min:t>e.max&&(t=e.max);var i=e._elProgress,n=e._elSlider,o=e._elBar.offsetWidth;return e.value=t,i.style.width=100*(t-e.min)/(e.max-e.min)+"%",n.style.left=100*Math.min(i.offsetWidth,o-n.offsetWidth)/o+"%",e}}),Q.RangeSlider=e}();