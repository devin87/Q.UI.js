//devin87@qq.com
//build:2019/04/24 11:15:55
!function(r){"use strict";var i,C=Q.G,x=C.document,m=Q.isObject,k=Q.isFunc,g=Q.isUNum,b=Q.isUInt,_=Q.def,H=Q.fire,M=Q.async,s=Q.extend,n=Q.makeArray,I=Q.getStyle,o=Q.setStyle,w=Q.getFirst,y=Q.getNext,S=Q.width,z=Q.height,T=Q.createEle,e=Q.removeEle,N=Q.show,P=Q.hide,a=Q.isHidden,E=Q.addClass,L=Q.setCssIfNot,j=Q.setCenter,l=Q.setInputError,u=Q.setInputDefault,W=Q.clearSelection,c=Q.query,t=Q.factory,D=Q.ie<7,B=Q.view,A=Q.event,d={color:"#999",opacity:.3};function X(t){var e=T("div","x-mask");Q.body.appendChild(e),D&&(e.style.height=B.getScrollHeight()+"px"),this.box=e,this.set(s(t||{},d)),this.count=a(e)?0:1}function q(){return i?(i.show(),i):i=new X}t(X).extend({opacity:function(t){return this.set({opacity:t})},set:function(t){var i=this.box;return Object.forEach(t,function(t,e){e!==r&&o(i,"color"!=t?t:"backgroundColor",e)}),this},show:function(){return this.removed&&(Q.body.appendChild(this.box),this.removed=!1),N(this.box),this.count++,this},hide:function(){return 0<this.count&&this.count--,this.count<=0&&P(this.box),this},remove:function(){return e(this.box),this.removed=!0,this.count=0,this}});var F,O,K=1e3,U=K;function h(t){H(t,this),this._apis=[],this.start()}function R(x,t){return new h(function(){1!=x.nodeType?x=(t=x).ele:(t=t||{}).ele=x;var n,s,o,a,r,l,u,c,d=this,h=t.range||{x:0,y:0},i=!!t.shadow,f=x.offsetWidth,v=x.offsetHeight,p=x;i&&(O||(O=T("div","x-drag-shadow"),Q.body.appendChild(O)),p=O),d.ops=t,d.doDown=function(t){o=t.clientX,a=t.clientY;var e=i?$(x).offset():$(x).position();n=e.left,s=e.top,i&&Object.forEach({left:n,top:s,width:f,height:v},function(t,e){p.style[t]=e+"px"})},d.doMove=function(t){if(N(p),u){r=t.clientX-o;var e=n+r;h&&(e<h.x?e=h.x:h.w&&e+f>h.x+h.w&&(e=h.x+h.w-f)),p.style.left=e+"px"}if(c){l=t.clientY-a;var i=s+l;h&&(i<h.y?i=h.y:h.h&&i+v>h.y+h.h&&(i=h.y+h.h-v)),p.style.top=i+"px"}},i&&(d.doUp=function(){P(p),x.style.left=x.offsetLeft+r+"px",x.style.top=x.offsetTop+l+"px"}),d.setLock=function(t,e){return u=t,c=e,d.pause(!t&&!e)},d.setRange=function(t,e,i,n){return h=m(t)?t:{x:t,y:e,w:i,h:n},d},d.setLock(!1!==t.isX,!1!==t.isY)})}function f(t){this._es=[],H(t,this)}t(h).extend({start:function(){var e=this,t=e.ops,i=t.scope||C,n=i.document,s=t.ele,o=t.target||s,a=!1!==t.autoIndex,r=!!t.autoMask,l=!1!==t.autoCss,u=!1!==t.autoCursor,c=1==s.nodeType?+I(s,"z-index"):0,d=e.doDown,h=e.doMove,f=e.doUp,v=t.onCheck,p=t.onDown,x=t.onMove,m=t.onUp,g=function(t){for(var e=[],i=t||C;i.top!=i;){var n=i.parent;e.push(n),i=n}return e}(i),b=!!s.setCapture,_=!b&&0<g.length;U<=c&&(U=c+1),l&&L(s,"position","absolute"),l&&u&&L(o,"cursor","move"),t.center&&(j(s),e._api_resize=A.add(i,"resize",function(){j(s)}));var w=function(t){e._pause||(H(h,e,t),H(x,e,t))},y=function(t){e._unbind(),b&&s.releaseCapture(),r&&F&&(F.remove(),F=null),W(),H(f,e,t),H(m,e,t)};return e._up=y,e._api=A.add(o,"mousedown",function(t){k(v)&&!1===v.call(e,t)||(a&&(+I(s,"z-index")||0)<U&&(U++,s.style.zIndex=U),e._unbind(),b?(s.setCapture(),e._bind(s,"losecapture",y)):e._bind(i,"blur",y),e._bind(n,{mousemove:w,mouseup:y}),_&&e._bind(g,"mouseup",y),r&&(F||(F=new X({color:null,opacity:null,zIndex:999999})),D&&F.set({height:B.getScrollHeight()})),M(W,20),H(d,e,t),H(p,e,t))}),e},_bind:function(){this._apis.push(A.add.apply(A,arguments))},_unbind:function(){var t=this._apis;0<t.length&&(t.forEach(function(t){t.off()}),this._apis=[])},pause:function(t){return this._pause=t,this._up&&this._up(),this},stop:function(){var t=this._api;return this._unbind(),t&&(t.off(),this._api=null),this},destroy:function(){var t=this._api_resize;return this.stop(),t&&(t.off(),this._api_resize=null),this}}),$.fn.extend({drag:function(i){return this.each(function(t,e){R(e,i)})}}),t(f).extend({find:function(t,e){return"string"==typeof t?c(t,e||this.box):n(t)},$:function(t,e){return $(this.find(t,e))},get:function(t,e){return this.find(t,e)[0]},fire:function(){return H(this.callback,this,this.data),this},getEventCallback:function(t,e){var i=this;return"hide"==t?function(){i.data=e,i.hide()}:"remove"==t?function(){i.data=e,i.remove()}:t},bind:function(t,e,i,n){return this._es.push(A.add(this.find(t),e,this.getEventCallback(i,n))),this},on:function(t,e,i,n){return this._es.push(A.add(this.box,t,e,this.getEventCallback(i,n))),this},show:function(){var t=this;return t.onShow&&t.onShow(),N(t.box),t.mbox&&t.mbox.show(),t},hide:function(){var t=this;return P(t.box),t.mbox&&t.mbox.hide(),t.onHide&&t.onHide(),t.fire()},toggle:function(){return a(this.box)?this.show():this.hide()},remove:function(){var t=this;if(t.box)return e(t.box),t.mbox&&t.mbox.hide(),t.dr&&t.dr.destroy(),t._es.forEach(function(t){t.off()}),t.box=t.mbox=t.dr=null,t.onRemove&&t.onRemove(),t.fire()}}),f.alias({$:"query",remove:"destroy"});var Y={titleBox:"弹出框",titleAlert:"提示信息",titleConfirm:"确认信息",titlePrompt:"输入信息",titleClose:"点击关闭",titleLoading:"加载数据",buttonSubmit:"确定",buttonCancel:"取消",textLoading:"正在加载数据,请稍后…"};function v(p){return p=p||{},new f(function(){var s=this,t=p.width,e=p.height,i=_(p.maxHeight,B.getHeight()-60),n=!1!==p.drag,o=n&&!1!==p.center,a=p.className;s.ops=p,s.callback=p.callback;var r='<div class="x-head"><h2 class="x-title">'+(p.title||Y.titleBox)+'</h2><a class="x-close" title="'+Y.titleClose+'">X</a></div><div class="x-main"><div class="x-view">'+(p.html||"")+"</div></div>";D&&(r+='<iframe class="x-ie-fix" style="position: absolute;top:0;left:0;z-index:-1;" scrolling="no" frameborder="0"></iframe>');var l=T("div","x-box"+(a?" "+a:""),r);Q.body.appendChild(l),s.box=l;var u=p.zIndex||0;K<U&&(u=Math.max(u,U)),u&&(l.style.zIndex=u);var c=w(l),d=y(c);s.setTitle=function(t){return $(".x-title",c).html(t),s},s.setWidth=function(t){return p.width=t,S(l,t),H(p.resize,s),s},s.setHeight=function(t){return p.height=t,z(d,t-c.offsetHeight-20),s},s.setMaxHeight=function(t){p.maxHeight=t;var e=p.height;return g(e)&&t<e&&(e=t),l.scrollHeight>t&&(e=t,E(l,"x-box-auto")),g(e)&&s.setHeight(e),o&&j(l),H(p.resize,s),s},s.autoHeight=function(){var t=p.maxHeight;if(!t)return s;var e=s.get(".x-head").offsetHeight,i=t-e-20,n=t-e;return d.style.height=d.scrollHeight>n?i+"px":"auto",o&&j(l),s},g(t)&&S(l,t),c.offsetWidth<10&&S(c,l.offsetWidth),i?s.setMaxHeight(i):g(e)&&s.setHeight(e),!1!==p.mask&&(s.mbox="new"==p.mask?new X:q());var h=p.close||"hide",f=s.getEventCallback(h);s.bind(".x-close","click",h),!1!==p.esc&&s.bind(x,"keyup",function(t){27==t.keyCode&&f()});var v=p.time;b(v)&&M(f,v),H(p.init,s,l,p),n&&(s.dr=R(l,{target:c,center:o,shadow:p.shadow,autoMask:!0,onCheck:function(t){var e=t.target;return e&&"x-close"!=e.className}})),$(".x-ie-fix",l).width(l.offsetWidth-2).height(l.offsetHeight-2)})}function p(t){t.width||(t.width=320);var e=t.width;if(t.icon||t.iconHtml){var i='<div class="fl x-ico">'+(t.iconHtml||'<img alt="" src="'+t.icon+'"/>')+'</div><div class="fl x-dialog"'+(g(e)?' style="width:'+(e-60)+'px;"':"")+">"+t.html+'</div><div class="clear"></div>';t.html=i;var n=t.init;t.resize=function(){var t=this.get(".x-view").offsetWidth-this.get(".x-ico").offsetWidth;$(".x-dialog",this.box).width(t)},t.init=function(t,e){e.resize.call(this),H(n,this,t,e)}}else t.html='<div class="x-dialog">'+t.html+"</div>";return t.bottom&&(t.html+=t.bottom),t.close||(t.close="remove"),v(t)}function G(t,e){var i="inline-block w-button w-"+(e||"dark");return'<div class="x-bottom"><div class="'+i+' x-submit">'+Y.buttonSubmit+"</div>"+(2==t?'<div class="'+i+' x-cancel">'+Y.buttonCancel+"</div>":"")+"</div>"}function J(t,e,i,n){return"object"==typeof i&&(i=n=i),n=s({},n),k(i)&&(n.callback=i),n.title||(n.title=t),n.html=e,n}s(Q,{createDialogBox:p,alert:function(t,e,i){return(i=J(Y.titleAlert,t,e,i)).iconHtml='<div class="ico x-alert"></div>',p(i)},confirm:function(t,e,i){return(i=J(Y.titleConfirm,t,e,i)).bottom||(i.bottom=G(2)),i.mask=!1!==i.mask,p(i).bind(".x-submit","click","remove",!0).bind(".x-cancel","click","remove",!1)},prompt:function(t,e,i){i=J(Y.titlePrompt,r,e,i),e=i.callback,i.callback=r;var n='<div class="x-text">'+t+'</div><div class="x-input"><input type="'+(i.pwd?"password":"text")+'" /></div>';i.html=n,i.bottom||(i.bottom=G(2));var s=p(i),o=s.get(".x-input>input");o.focus(),o.value=_(i.value,"");var a=function(){!1!==H(e,o,o.value)?s.remove():l(o)};return s.bind(o,"keyup",function(t){13==t.keyCode?a():u(this)}),s.bind(".x-submit","click",a).bind(".x-cancel","click","remove")},bottom:G,showLoading:function(t){return(t=s({},t)).title||(t.title=Y.titleLoading),t.html||(t.html=Y.textLoading),t.iconHtml='<div class="ico x-loading"></div>',p(t)}}),s(Q,{getMaskBox:q,maskSetup:function(t,e){s(d,t,!0),e&&i&&i.reset(t)},setDrag:R,setBoxLang:function(t){s(Y,t,!0)},MaskBox:X,DragX:h,Box:f,WinBox:v})}(),function(w){"use strict";var y=window.document,r=Q.fire,e=Q.extend,s=Q.makeArray,c=Q.getStyle,d=Q.offset,l=Q.hasClass,o=Q.addClass,u=Q.removeClass,C=Q.createEle,t=Q.factory,h=Q.event;function f(t,e,i){e!=w&&(t.style.left=e+"px"),i!=w&&(t.style.top=i+"px")}function i(t,e){this.set(e).init(t)}t(i).extend({init:function(t){var e=this;return e.draw(t),!1!==e.autoHide&&(e._e0=h.add(y,"click",function(){e.hide()})),e},set:function(t){return e(this,t,!0),this},draw:function(t){var a=this;a._menus=[],a._items=[],a._map_menu={},a._map_item={},a.i=a.j=0,a._active=w;var e,i=a._tmp=[];for(a.drawMenu(t);e=i.shift();)a.drawMenu.apply(a,e);a._tmp=null,a.i=a.j=0;var n=a._getMenu(0).node;a.box=n;var s=[];return a._menus.forEach(function(t){t&&!t.linked&&s.push(t.node)}),a._e1&&a._e1.off(),a._e1=h.add(s,{click:function(t){var e=this._j;if(l(this,"x-disabled")||a._getSubMenu(e)&&!a.isFireAll)return!1;var i=a._getItem(e);r(i.data.click,this,t,i),r(a.onclick,this,t,i),a.hide()},mouseenter:function(t){var e=this,i=e._i,n=e._j;a._hideSub(i,n),o(e,"x-on");var s=a._getItem(n);r(s.data.mouseover,e,t,s),r(a.onmouseover,e,t,s),l(e,"x-disabled")||a._showSub(i,n,e)},mouseleave:function(t){var e=this,i=e._i,n=e._j,s=a._getSubMenu(n);l(e,"x-disabled")||!s?u(e,"x-on"):0==i&&(a._active=n);var o=a._getItem(n);r(o.data.mouseout,e,t,o),r(a.onmouseout,e,t,o)}},".x-item"),a._e2&&a._e2.off(),a._e2=h.add(s,"mousedown",h.stop),a.hide()},drawMenu:function(t,e){var i=this,n=i._menus,s=i._items,o=i._map_menu,a=i._map_item,r=!!(u=t.box),l=i.i++;if(!u){var u,c=t.className;(u=C("div","x-panel"+(c?" "+c:""))).style.width=(t.width||120)+"px"}if(n[l]={node:u,linked:r,j:e,data:t},e&&(o[e]=l),r)return i;for(var d=!1!==i.subMenu,h=0,f=t.items;h<f.length;h++){var v=f[h];if(v){var p=y.createElement("div"),x=i.j++;if(p._i=l,s[p._j=x]={node:p,i:l,j:x,data:v},v.id!=w&&(a[v.id]=x),v.split)p.className="x-split";else{p.className="x-item"+(v.disabled?" x-disabled":""),p.x=v.x!=w?v.x:"";var m=v.group,g=d&&m&&(m.box||m.items&&0<m.items.length),b=v.ico,_=v.html||'<div class="x-icon">'+(b?/^<.+>$/.test(b)?b:'<img alt="" src="'+b+'">':"")+'</div><div class="x-text"'+(v.title?' title="'+v.title+'"':"")+">"+v.text+"</div>"+(g?'<div class="arrow"></div>':"");p.innerHTML=_,g&&i._tmp.push([m,x])}u.appendChild(p)}}return Q.body.appendChild(u),i},_getMenu:function(t){return this._menus[t]},_getSubMenu:function(t){var e=this._map_menu[t];return e!=w?this._getMenu(e):w},_getItem:function(t){return this._items[t]},getItem:function(t){var e=this._map_item[t];return e!=w?this._items[e]:w},setItemText:function(t,e){var i=this.getItem(t);if(i){i.data.text=e;var n=i.node.childNodes[1];n&&(n.innerHTML=e)}},processItems:function(t,i){var n=this;return s(t).forEach(function(t){var e=n.getItem(t);e&&i(e.node,e)}),n},_processItems:function(t,e,i){return this.processItems(t,function(t){e(t,i)})},enableItems:function(t){return this._processItems(t,u,"x-disabled")},disableItems:function(t){return this._processItems(t,o,"x-disabled")},showItems:function(t){return this._processItems(t,u,"hide")},hideItems:function(t){return this._processItems(t,o,"hide")},_setPos:function(t,e,i,n){var s=this,o=s.rangeX,a=s.rangeY,r=t.node,l=r.offsetWidth,u=r.offsetHeight,c=t.data||{},d=c.maxHeight;if(d){var h=d<Math.max(u,r.scrollHeight);r.style.height=h?d+"px":"auto",s.fixedWidth||(r.style.width=c.width+(h?17:0)+"px"),u=r.offsetHeight}return e==w&&(e=s.x||0),i==w&&(i=s.y||0),o&&o<e+l&&(e=o-l,n&&(e=e-n.offsetWidth+3)),a&&a<i+u&&(i=a-u-1),e<0&&(e=0),i<0&&(i=0),f(r,e,i),s.x=e,s.y=i,s},_showSub:function(t,e,i){var n=this,s=n._getMenu(t),o=n._getSubMenu(e);if(o){var a=s.node,r=o.node,l=d(i),u=+c(a,"zIndex");+c(r,"zIndex")<=u&&(r.style.zIndex=u+1),n._setPos(o,l.left+i.offsetWidth-2,l.top,a)}return n.i=t,n.j=e,n},_inactive:function(t){var e=this._getItem(t);return e&&u(e.node,"x-on"),this},_hideSub:function(t,e){var i=this;if(t<=i.i&&e!=i.j){var n,s=i._menus;for(n=s.length-1;t<n;n--)i._hide(s[n]);if(t<i.i)for(n=i.i;t<n;n--){var o=i._getMenu(n);i._inactive(o.j)}}return t==i.i&&e!=i.j&&i._getSubMenu(i.j)&&i._inactive(i.j),i},_hide:function(t){if(t){var e=t.node;-1e4!=e.style.left&&f(e,-1e4,-1e4)}return this},show:function(t,e){return this._setPos(this._menus[0],t,e)},hide:function(){var e=this;return e._menus.forEach(function(t){e._hide(t)}),e._active!=w&&(e._inactive(e._active),e._active=w),e},isHidden:function(){var t=this.box,e=parseFloat(t.style.left),i=parseFloat(t.style.top);return e<=-t.offsetWidth||i<=-t.offsetHeight},toggle:function(t,e){return this.isHidden()?this.show(t,e):this.hide()},destroy:function(){var e=this;return e._e0&&e._e0.off(),e._e1&&e._e1.off(),e._menus.forEach(function(t){t.node.innerHTML="",$(t.node).remove()}),Object.forEach(e,function(t){e[t]=null}),e}}),Q.ContextMenu=i}(),function(t){"use strict";var h=window.document,s=Q.def,f=Q.fire,n=Q.isObject,v=Q.getFirst,p=Q.getLast,x=Q.width,m=Q.hasClass,g=Q.addClass,o=Q.removeClass,c=Q.createEle,e=Q.factory,b=Q.ie,_=Q.event;function i(t){t=t||{};var e=this;e.box=t.box,e.items=t.items||[],e.multiple=t.multiple,e.canInput=t.canInput,e.textProp=t.textProp||"text",e.value=t.value,e.index=t.index||0,e.ops=t}e(i).extend({init:function(){var l=this,t=l.ops,e=l.box,i=!l.multiple,n=l.canInput,s=t.placeholder,o=(i?'<div class="x-sel-tag">'+(n?'<input type="text" class="x-sel-text"'+(s?' placeholder="'+s+'"':"")+" />":'<div class="x-sel-text"></div>')+'<div class="x-sel-arrow"><div class="arrow arrow-down"></div></div></div>':"")+'<div class="x-panel x-sel-list'+(i?"":" x-sel-multiple")+'"></div>';g(e,"x-sel"),e.innerHTML=o;var a,r,u,c,d=p(e);return x(d,t.width||e.offsetWidth-2),i&&(a=v(e),r=v(a),u=p(a),l.elText=r,l.elArrow=u),l.elList=d,i?(!1!==t.autoHide&&(_.add(h,"mousedown",function(){l.hide()}),_.add(e,"mousedown",function(t){_.stop(t,!1,!0)})),_.add(n?u:a,"mousedown",function(t){return l.toggle(),!1}),c={mouseup:function(t){var e=this.x,i=l.items[e];f(l.onclick,l,i,e),i.disabled||(l.hide(),e!=l.index&&l.select(e))},mouseenter:function(){var t=this.x;l.items[t].disabled||l.active(t)}}):(l.selectedItems=[],l.seletedMap={},c={mousedown:function(t){if(!m(this,"x-disabled")){var e=this.x,i=l.selectedItems[0],n=t.shiftKey,s=t.ctrlKey;if(!n&&s||l.clearSelect(),n){var o=i?i.index:e,a=e;a<o&&(a=o,o=e);for(var r=o;r<=a;r++)l.active(r)}else s&&l.seletedMap[e]?l.inactive(e):l.select(e)}}},b<10&&(c.selectstart=_.stop)),_.add(d,c,".x-item"),l.draw(),f(l.oninit,l),l},draw:function(){var t=this,e=t.ops,i=t.items,s=t.elList,o=e.hasTitle,n=e.maxHeight,a={};(s.innerHTML="",i.forEach(function(t,e){t.index=e;var i=(a[t.value]=t).text||"",n=c("div","x-item"+(t.group?" x-sel-group":t.disabled?" x-disabled":""),i);o&&(n.title=t.title||i.toText()),n.x=e,t.node=n,s.appendChild(n)}),t.map=a,n)&&(n<s.offsetHeight&&(s.style.height=n+"px"));f(t.ondraw,t);var r=t.value,l=t.index;if(r){var u=t.find(r);u&&(l=u.index)}return t.select(l),t.multiple?t:t.hide()},add:function(t,e,i){return this.items.push(n(t)?t:{text:t,value:e,title:i}),this},find:function(t){return this.map[t]},clearSelect:function(){var t=this,e=function(t){t.node&&o(t.node,"selected")};return t.multiple?(t.selectedItems.forEach(e),t.selectedItems=[],t.seletedMap={}):e({node:t._el}),t},active:function(t){var e=this,i=e.items[t];if(!i)return e;var n,s=i.node;return e.multiple?i.disabled||e.seletedMap[t]||(e.selectedItems.push(i),n=e.seletedMap[t]=!0):(e.clearSelect(),n=!0,e._el=s),n&&g(s,"selected"),this},inactive:function(e){var t=this,i=t.items[e];return t.multiple&&(t.selectedItems=t.selectedItems.filter(function(t){return t.index!=e}),t.seletedMap[e]=void 0),o(i.node,"selected"),t},select:function(t,e){var i=this,n=i.items[t];return n&&(i.text=s(n.text,""),i.value=s(n.value,""),i.elText&&(i.elText[i.canInput?"value":"innerHTML"]=i[i.textProp]),i.active(t),e||t==i.index||f(i.onchange,i,n,t),i.index=t),i},show:function(){return this.elList.style.display="",this.select(this.index)},hide:function(){return this.elList.style.display="none",this},toggle:function(){return"none"==this.elList.style.display?this.show():this.hide()},getText:function(){return this.canInput?this.elText.value:this.text}}),Q.DropdownList=i}(),function(f){"use strict";var e=Q.extend,t=Q.factory,v={prevPage:"&lt;上一页",nextPage:"下一页&gt;",pageSize:"每页{0}条",totalCount:"共{0}条数据"};function i(t){var e=this;if(e.ops=t,e.size=t.size||9,e.cache={},t.href==f){var i=t.boxNav;i&&$(i).on("click","li",function(){e.go($(this).attr("x")),e.onclick&&e.onclick.call(e,e.page)})}else t.cache=t.preload=!1;e.set(t.totalCount,t.pageSize||t.pageCount||10).setData(t.data).go(t.page)}t(i).extend({set:function(t,e){var i=this;return t!=f&&(i.totalCount=t),e!=f&&(i.pageSize=e),i.totalCount!=f&&(i.totalPage=Math.ceil(i.totalCount/i.pageSize)),i},setData:function(t){return t&&(this.data=t,this.set(t.length)),this},_load:function(e,i){var n=this,s=n.ops,o=n.onload;n.page=e;var a=function(t){return o&&o.call(n,t),i&&i.call(n,t),n};if(!s.load){var t=n.pageSize,r=(e-1)*t;return a(n.data.slice(r,r+t))}var l=s.cache?n.cache[e]:f;return l?a(l):(s.load(e,function(t){l=t.data||[],s.cache&&(n.cache[e]=l),n.set(t.totalCount,t.pageSize||t.pageCount),a(l)}),n)},load:function(t){return this._load(t,this.draw)},reload:function(t){return this.load(t||this.page)},go:function(t,e){var i=this;return isNaN(t)?i:(t=+t,i.totalPage!=f&&t>i.totalPage&&(t=i.totalPage),t<1&&(t=1),(t!=i.page||e)&&(i.load(t),i.ops.load&&i.ops.preload&&i._load(t+1),i.onchange&&i.onchange.call(i,t)),i)},drawNav:function(){var t=this,e=t.ops,i=e.boxNav;if(!i)return t;var n=t.totalCount,s=t.pageSize,o=t.totalPage,a=t.page,r=e.href,l=e.text||{},u=function(t,e,i){var n=[1];if(1==e)return n;var s,o=2;if(e<=t)s=e;else{var a=(t-5)/2;s=i<=a+3?t-2:e-a-3<i?(o=e-t+3,e-1):(o=i-~~a)+t-5}2<o&&n.push(0);for(var r=o;r<=s;r++)n.push(r);return t<e&&(s<e-1&&n.push(0),n.push(e)),n}(t.size,o,a);r!=f&&(r+=-1!=r.indexOf("?")?"&":"?");var c=function(t,e,i){return i||(i=t==a?"on":t?"":"skip"),"<li"+(i?' class="'+i+'"':"")+' x="'+t+'">'+(r?"<a"+(t?' href="'+r+"page="+t+'"':"")+">"+e+"</a>":e)+"</li>"},d=e.drawSize||function(t,e,i){return e+"/"+i},h='<div class="inline-block pager-bar'+(r?" pager-link":"")+'"><ul>'+c(Math.max(a-1,1),l.prev||v.prevPage,"prev")+u.map(function(t){return c(t,t||"…")}).join("")+c(Math.min(a+1,o),l.next||v.nextPage,"next")+"</ul></div>"+(!1!==e.showSize?'<div class="inline-block pager-count">'+d(t,v.pageSize.replace("{0}",'<span class="page-size">'+s+"</span>"),v.totalCount.replace("{0}",'<span class="total-count">'+n+"</span>"))+"</div>":"");$(i).html(h)},draw:function(t){return this.drawNav(),this.ops.draw.call(this,t),this}}),i.setLang=function(t){e(v,t,!0)},Q.DataPager=i}(),function(){"use strict";var u=Q.async,r=Q.getFirst,l=Q.parseHash,n=$.find;function e(o){var a=this,t=(o=o||{}).context,e=o.tabs||n(".tab-title li.tab,.tabTitle>li",t),i=o.conts||n(".tab-cont>.turn-box,.tabCont>.turn-box",t);a.tabs=e,a.conts=i,a.map_loaded={},a.map_index={},e.forEach(function(t,e){"1"==t.getAttribute("x-def")&&(o.index=e);var i=r(t);if(i){var n=i.href.split("#")[1]||"",s=l(n).nav;s&&(a.map_index[s]=e)}}),e.forEach(function(t,e){$(t).hasClass("skip")||$(t).click(function(){a.showTab(e)})}),$(i).hide(),setTimeout(function(){var t=l().nav.slice(1)||o.hash,e=a.map_index[t];null==e&&(e=o.index||0),a.showTab(e)},20)}Q.factory(e).extend({getTab:function(t){return this.tabs[t]},getCont:function(t){return this.conts[t]},hasLoaded:function(t){return!!this.map_loaded[t]},showTab:function(t){var e=this,i=e.index;if(t!==i){if(void 0!==i){var n=e.getTab(i),s=e.getCont(i);$(n).removeClass("on"),$(s).hide()}var o=e.getTab(t),a=e.getCont(t),r=e.map_loaded;$(o).addClass("on"),$(a).show();var l={index:e.index=t,tab:o,cont:a,loaded:r[t]};u(e.onchange,100,l),u(window.onTabChange,200,l),r[t]||(r[t]=!0)}}}),Q.Tabs=e,Q.setTabs=function(t){return new e(t)}}(),function(t){"use strict";var l=Q.fire;function e(t){var e=this,i=t.box;e._$box=$(i),e._$ul=$(t.ul,i),e._$control=$(t.boxControl,i),e._$btnPrev=$(t.btnPrev,i),e._$btnNext=$(t.btnNext,i),e.auto=!!t.auto,e.way=t.way||"left",e.speed=t.speed||"slow",e.sleep=t.sleep||5e3,e.step=t.step||1,e.isSlideKeydown=!1!==t.isSlideKeydown,e.isStoppedHover=!1!==t.isStoppedHover,e.clsActive="slide-on",e.index=0,e.init()}(0,Q.factory)(e).extend({init:function(){var t,i=this,e=i._$box,n=i._$ul,s=n.children(),o=i._$control,a=s.size();return n.prepend(s.last()[0].cloneNode(!0)),n.append(s.first()[0].cloneNode(!0)),1<a?o.html("<a></a>".repeat(a)):(i._$btnPrev.hide(),i._$btnNext.hide()),(s=n.children()).each(function(t,e){e.style[i.way]=100*(t-1)+"%"}),(t=o.children()).each(function(t){this.x=t}),i._$lis=s,i._$controls=t,i._cssBox=e.prop("className"),i.size=a,s.eq(1).addClass(i.clsActive),i.updateControl(0),i.auto&&i.start(),i.initEvent()},initEvent:function(){var e=this;return 1<e.size&&(e._$control.on("click","a",function(){e.play(this.x)}),e._$btnPrev.click(function(){e.playPrev()}),e._$btnNext.click(function(){e.playNext()})),e.isSlideKeydown&&$(document).keydown(function(t){switch(t.keyCode){case 37:e.playPrev();break;case 39:e.playNext()}}),e.auto&&e.isStoppedHover&&e._$ul.hover(function(){e.stop()},function(){e.start()}),e},updateControl:function(t){var e=this,i=e._cssBox||"";return e._$box.prop("className",i+(i?" ":"")+"b"+(t+1)),e._$controls.prop("className","").eq(t).prop("className",e.clsActive),e},play:function(t){var e=this,i=e.clsActive,n=e._$ul,s=e._$lis,o=e.size;if(o<=1)return e;var a=t;o<=a?a=0:a<0&&(a=o-1),s.removeClass(i).eq(t+1).addClass(i),e.updateControl(a),l(e.onPlay,e,a);var r={};return r[e.way]=100*-t+"%",n.animate(r,e.speed,function(){t!=o&&-1!=t||(s.removeClass(i).eq(a+1).addClass(i),n.css(e.way,100*-a+"%"),e.index=a,l(e.onPlayed,e,a))}),e.index=t,e},playPrev:function(){return this.play(this.index-this.step)},playNext:function(){return this.play(this.index+this.step)},start:function(){var t=this;return 1<t.size&&(t.timer=setTimeout(function(){t.playNext(),t.start()},t.sleep)),t},stop:function(){return this.timer&&clearTimeout(this.timer),this}}),Q.Marquee=e}(),function(t){"use strict";var f=Q.fire,a=Q.createEle,e=Q.factory,r=Q.DragX;function i(t){var e=(t=t||{}).box,i=a("div","range-slider-bar"),u=a("div","range-progress"),c=a("div","range-slider");i.appendChild(u),i.appendChild(c),e.appendChild(i);var d=this;d._elBar=i,d._elProgress=u,d._elSlider=c,d.min=+t.min||0,d.max=+t.max||100,d.step=+t.step||1,d.value=+t.value||0;var n=d.step+"",s=n.lastIndexOf("."),o=-1!=s?n.length-s-1:0,h=Math.pow(10,o);d.onchange=t.onchange,d.val(d.value),d._drag=new r(function(){var o,a,r,l;this.ops={ele:c,autoCursor:!1},this.doDown=function(t){o=i.offsetWidth,a=u.offsetWidth,r=t.clientX,l=o-c.offsetWidth},this.doMove=function(t){var e=t.clientX-r,i=a+e;i<0?i=0:o<i&&(i=o);var n=~~(i*(d.max-d.min)/(o*d.step)),s=(d.min*h+d.step*h*n)/h;u.style.width=100*i/o+"%",c.style.left=100*Math.min(i,l)/o+"%",s!=d.value&&(d.value=s,f(d.onchange,d,d.value))}})}e(i).extend({val:function(t){var e=this;if(null==t)return e.value;t<e.min?t=e.min:t>e.max&&(t=e.max);var i=e._elProgress,n=e._elSlider,s=e._elBar.offsetWidth;return e.value=t,i.style.width=100*(t-e.min)/(e.max-e.min)+"%",n.style.left=100*Math.min(i.offsetWidth,s-n.offsetWidth)/s+"%",e}}),Q.RangeSlider=i}();