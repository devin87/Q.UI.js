//devin87@qq.com
//build:2017/09/27 15:47:09
!function(t){"use strict";function e(t){var e=T("div","x-mask");Q.body.appendChild(e),R&&(e.style.height=Y.getScrollHeight()+"px"),this.box=e,this.set(y(t||{},K))}function i(){return G?(G.show(),G):G=new e}function n(t,e){y(K,t,!0),e&&G&&G.reset(t)}function o(t){for(var e=[],i=t||f;i.top!=i;){var n=i.parent;e.push(n),i=n}return e}function s(t){var e=this;_(t,e),e._apis=[],e.start()}function a(t,e){return new s(function(){1!=t.nodeType?(e=t,t=e.ele):(e=e||{},e.ele=t);var i,n,o,s,a,r,l,u,d=this,c=e.range||{x:0,y:0},h=!!e.shadow,f=t.offsetWidth,v=t.offsetHeight,x=t;h&&(tt||(tt=T("div","x-drag-shadow"),Q.body.appendChild(tt)),x=tt),d.ops=e,d.doDown=function(e){o=e.clientX,s=e.clientY;var a=h?$(t).offset():$(t).position();i=a.left,n=a.top,h&&Object.forEach({left:i,top:n,width:f,height:v},function(t,e){x.style[t]=e+"px"})},d.doMove=function(t){if(L(x),l){a=t.clientX-o;var e=i+a;c&&(e<c.x?e=c.x:c.w&&e+f>c.x+c.w&&(e=c.x+c.w-f)),x.style.left=e+"px"}if(u){r=t.clientY-s;var d=n+r;c&&(d<c.y?d=c.y:c.h&&d+v>c.y+c.h&&(d=c.y+c.h-v)),x.style.top=d+"px"}},h&&(d.doUp=function(){j(x),t.style.left=t.offsetLeft+a+"px",t.style.top=t.offsetTop+r+"px"}),d.setLock=function(t,e){return l=t,u=e,d.pause(!t&&!e)},d.setRange=function(t,e,i,n){return c=p(t)?t:{x:t,y:e,w:i,h:n},d},d.setLock(e.isX!==!1,e.isY!==!1)})}function r(t){this._es=[],_(t,this)}function l(t){y(et,t,!0)}function u(t){return t=t||{},new r(function(){var n=this,o=t.width,s=t.height,r=b(t.maxHeight,Y.getHeight()-60),l=t.drag!==!1,u=l&&t.center!==!1,d=t.className;n.ops=t,n.callback=t.callback;var c='<div class="x-head"><h2 class="x-title">'+(t.title||et.titleBox)+'</h2><a class="x-close" title="'+et.titleClose+'">X</a></div><div class="x-main"><div class="x-view">'+(t.html||"")+"</div></div>";R&&(c+='<iframe class="x-ie-fix" style="position: absolute;top:0;left:0;z-index:-1;" scrolling="no" frameborder="0"></iframe>');var h=T("div","x-box"+(d?" "+d:""),c);Q.body.appendChild(h),n.box=h;var f=t.zIndex||0;Z>V&&(f=Math.max(f,Z)),f&&(h.style.zIndex=f);var p=M(h),x=H(p);n.setTitle=function(t){return $(".x-title",p).html(t),n},n.setWidth=function(e){return t.width=e,S(h,e),_(t.resize,n),n},n.setHeight=function(e){return t.height=e,z(x,e-p.offsetHeight-20),n},n.setMaxHeight=function(e){t.maxHeight=e;var i=t.height;return m(i)&&i>e&&(i=e),h.scrollHeight>e&&(i=e,P(h,"x-box-auto")),m(i)&&n.setHeight(i),u&&D(h),_(t.resize,n),n},m(o)&&S(h,o),p.offsetWidth<10&&S(p,h.offsetWidth),r?n.setMaxHeight(r):m(s)&&n.setHeight(s),t.mask!==!1&&(n.mbox="new"==t.mask?new e:i());var y=t.close||"hide",C=n.getEventCallback(y);n.bind(".x-close","click",y),t.esc!==!1&&n.bind(v,"keyup",function(t){27==t.keyCode&&C()});var k=t.time;g(k)&&w(C,k),_(t.init,n,h,t),l&&(n.dr=a(h,{target:p,center:u,shadow:t.shadow,autoMask:!0,onCheck:function(t){var e=t.target;return e&&"x-close"!=e.className}})),$(".x-ie-fix",h).width(h.offsetWidth-2).height(h.offsetHeight-2)})}function d(t){t.width||(t.width=320);var e=t.width;if(t.icon||t.iconHtml){var i='<div class="fl x-ico">'+(t.iconHtml||'<img alt="" src="'+t.icon+'"/>')+'</div><div class="fl x-dialog"'+(m(e)?' style="width:'+(e-60)+'px;"':"")+">"+t.html+'</div><div class="clear"></div>';t.html=i;var n=t.init;t.resize=function(){var t=this,e=t.get(".x-view").offsetWidth-t.get(".x-ico").offsetWidth;$(".x-dialog",t.box).width(e)},t.init=function(t,e){var i=this;e.resize.call(i),_(n,i,t,e)}}else t.html='<div class="x-dialog">'+t.html+"</div>";return t.bottom&&(t.html+=t.bottom),t.close||(t.close="remove"),u(t)}function c(t,e){var i="inline-block w-button w-"+(e||"dark"),n='<div class="x-bottom"><div class="'+i+' x-submit">'+et.buttonSubmit+"</div>"+(2==t?'<div class="'+i+' x-cancel">'+et.buttonCancel+"</div>":"")+"</div>";return n}function h(t,e,i,n){return"object"==typeof i&&(n=i,i=n),n=y({},n),x(i)&&(n.callback=i),n.title||(n.title=t),n.html=e,n}var f=Q.G,v=f.document,p=Q.isObject,x=Q.isFunc,m=Q.isUNum,g=Q.isUInt,b=Q.def,_=Q.fire,w=Q.async,y=Q.extend,C=Q.makeArray,k=Q.getStyle,I=Q.setStyle,M=Q.getFirst,H=Q.getNext,S=Q.width,z=Q.height,T=Q.createEle,E=Q.removeEle,L=Q.show,j=Q.hide,W=Q.isHidden,P=Q.addClass,N=Q.setCssIfNot,D=Q.setCenter,B=Q.setInputError,X=Q.setInputDefault,A=Q.clearSelection,F=Q.query,O=Q.factory,U=Q.ie,R=7>U,Y=Q.view,q=Q.event,K={color:"#999",opacity:.3};O(e).extend({opacity:function(t){return this.set({opacity:t})},set:function(e){var i=this.box;return Object.forEach(e,function(e,n){n!==t&&I(i,"color"!=e?e:"backgroundColor",n)}),this},show:function(){return this.removed&&(Q.body.appendChild(this.box),this.removed=!1),L(this.box),this},hide:function(){return j(this.box),this},remove:function(){return E(this.box),this.removed=!0,this}});var G,J,V=1e3,Z=V;O(s).extend({start:function(){var t=this,i=t.ops,n=i.scope||f,s=n.document,a=i.ele,r=i.target||a,l=i.autoIndex!==!1,u=!!i.autoMask,d=i.autoCss!==!1,c=i.autoCursor!==!1,h=1==a.nodeType?+k(a,"z-index"):0,v=t.doDown,p=t.doMove,m=t.doUp,g=i.onCheck,b=i.onDown,y=i.onMove,Q=i.onUp,C=o(n),I=!!a.setCapture,M=!I&&C.length>0;h>=Z&&(Z=h+1),d&&N(a,"position","absolute"),d&&c&&N(r,"cursor","move"),i.center&&(D(a),t._api_resize=q.add(n,"resize",function(){D(a)}));var H=function(i){if(!x(g)||g.call(t,i)!==!1){if(l){var o=+k(a,"z-index")||0;Z>o&&(Z++,a.style.zIndex=Z)}t._unbind(),I?(a.setCapture(),t._bind(a,"losecapture",z)):t._bind(n,"blur",z),t._bind(s,{mousemove:S,mouseup:z}),M&&t._bind(C,"mouseup",z),u&&(J||(J=new e({color:null,opacity:null,zIndex:999999})),R&&J.set({height:Y.getScrollHeight()})),w(A,20),_(v,t,i),_(b,t,i)}},S=function(e){t._pause||(_(p,t,e),_(y,t,e))},z=function(e){t._unbind(),I&&a.releaseCapture(),u&&J&&(J.remove(),J=null),A(),_(m,t,e),_(Q,t,e)};return t._up=z,t._api=q.add(r,"mousedown",H),t},_bind:function(){this._apis.push(q.add.apply(q,arguments))},_unbind:function(){var t=this._apis;t.length>0&&(t.forEach(function(t){t.off()}),this._apis=[])},pause:function(t){var e=this;return e._pause=t,e._up&&e._up(),e},stop:function(){var t=this,e=t._api;return t._unbind(),e&&(e.off(),t._api=null),t},destroy:function(){var t=this,e=t._api_resize;return t.stop(),e&&(e.off(),t._api_resize=null),t}});var tt;$.fn.extend({drag:function(t){return this.each(function(e,i){a(i,t)})}}),O(r).extend({find:function(t,e){return"string"==typeof t?F(t,e||this.box):C(t)},$:function(t,e){return $(this.find(t,e))},get:function(t,e){return this.find(t,e)[0]},fire:function(){return _(this.callback,this,this.data),this},getEventCallback:function(t,e){var i=this;return"hide"==t?function(){i.data=e,i.hide()}:"remove"==t?function(){i.data=e,i.remove()}:t},bind:function(t,e,i,n){var o=this;return o._es.push(q.add(o.find(t),e,o.getEventCallback(i,n))),o},on:function(t,e,i,n){var o=this;return o._es.push(q.add(o.box,t,e,o.getEventCallback(i,n))),o},show:function(){var t=this;return t.onShow&&t.onShow(),L(t.box),t.mbox&&t.mbox.show(),t},hide:function(){var t=this;return j(t.box),t.mbox&&t.mbox.hide(),t.onHide&&t.onHide(),t.fire()},toggle:function(){return W(this.box)?this.show():this.hide()},remove:function(){var t=this;if(t.box)return E(t.box),t.mbox&&t.mbox.remove(),t.dr&&t.dr.destroy(),t._es.forEach(function(t){t.off()}),t.box=t.mbox=t.dr=null,t.onRemove&&t.onRemove(),t.fire()}}),r.alias({$:"query",remove:"destroy"});var et={titleBox:"弹出框",titleAlert:"提示信息",titleConfirm:"确认信息",titlePrompt:"输入信息",titleClose:"点击关闭",titleLoading:"加载数据",buttonSubmit:"确定",buttonCancel:"取消",textLoading:"正在加载数据,请稍后…"},it={createDialogBox:d,alert:function(t,e,i){return i=h(et.titleAlert,t,e,i),i.iconHtml='<div class="ico x-alert"></div>',d(i)},confirm:function(t,e,i){i=h(et.titleConfirm,t,e,i),i.bottom||(i.bottom=c(2)),i.mask=i.mask!==!1;var n=d(i);return n.bind(".x-submit","click","remove",!0).bind(".x-cancel","click","remove",!1)},prompt:function(e,i,n){n=h(et.titlePrompt,t,i,n),i=n.callback,n.callback=t;var o='<div class="x-text">'+e+'</div><div class="x-input"><input type="'+(n.pwd?"password":"text")+'" /></div>';n.html=o,n.bottom||(n.bottom=c(2));var s=d(n),a=s.get(".x-input>input");a.focus(),a.value=b(n.value,"");var r=function(){var t=_(i,a,a.value);t!==!1?s.remove():B(a)};return s.bind(a,"keyup",function(t){13==t.keyCode?r():X(this)}),s.bind(".x-submit","click",r).bind(".x-cancel","click","remove")},bottom:c,showLoading:function(t){return t=y({},t),t.title||(t.title=et.titleLoading),t.html||(t.html=et.textLoading),t.iconHtml='<div class="ico x-loading"></div>',d(t)}};y(Q,it),y(Q,{getMaskBox:i,maskSetup:n,setDrag:a,setBoxLang:l,MaskBox:e,DragX:s,Box:r,WinBox:u})}(),function(t){"use strict";function e(e,i,n){i!=t&&(e.style.left=i+"px"),n!=t&&(e.style.top=n+"px")}function i(t,e){this.set(e).init(t)}var n=window.document,o=Q.fire,s=Q.extend,a=Q.makeArray,r=Q.getStyle,l=Q.offset,u=Q.hasClass,d=Q.addClass,c=Q.removeClass,h=Q.createEle,f=Q.factory,v=Q.event,p=-1e4;f(i).extend({init:function(t){var e=this;return e.draw(t),e.autoHide!==!1&&(e._e0=v.add(n,"click",function(){e.hide()})),e},set:function(t){return s(this,t,!0),this},draw:function(e){var i=this;i._menus=[],i._items=[],i._map_menu={},i._map_item={},i.i=i.j=0,i._active=t;var n,s=i._tmp=[];for(i.drawMenu(e);n=s.shift();)i.drawMenu.apply(i,n);i._tmp=null,i.i=i.j=0;var a=i._getMenu(0).node;i.box=a;var r=[];return i._menus.forEach(function(t){t&&!t.linked&&r.push(t.node)}),i._e1&&i._e1.off(),i._e1=v.add(r,{click:function(t){var e=this,n=e._j;if(u(e,"x-disabled")||i._getSubMenu(n)&&!i.isFireAll)return!1;var s=i._getItem(n);o(s.data.click,e,t,s),o(i.onclick,e,t,s),i.hide()},mouseenter:function(t){var e=this,n=e._i,s=e._j;i._hideSub(n,s),d(e,"x-on");var a=i._getItem(s);o(a.data.mouseover,e,t,a),o(i.onmouseover,e,t,a),u(e,"x-disabled")||i._showSub(n,s,e)},mouseleave:function(t){var e=this,n=e._i,s=e._j,a=i._getSubMenu(s);u(e,"x-disabled")||!a?c(e,"x-on"):0==n&&(i._active=s);var r=i._getItem(s);o(r.data.mouseout,e,t,r),o(i.onmouseout,e,t,r)}},".x-item"),i._e2&&i._e2.off(),i._e2=v.add(r,"mousedown",v.stop),i.hide()},drawMenu:function(e,i){var o=this,s=o._menus,a=o._items,r=o._map_menu,l=o._map_item,u=e.box,d=!!u,c=o.i++;if(!u){var f=e.className,u=h("div","x-panel"+(f?" "+f:""));u.style.width=(e.width||120)+"px"}if(s[c]={node:u,linked:d,j:i,data:e},i&&(r[i]=c),d)return o;for(var v=o.subMenu!==!1,p=0,x=e.items;p<x.length;p++){var m=x[p];if(m){var g=n.createElement("div"),b=o.j++;if(g._i=c,g._j=b,a[b]={node:g,i:c,j:b,data:m},m.id!=t&&(l[m.id]=b),m.split)g.className="x-split";else{g.className="x-item"+(m.disabled?" x-disabled":""),g.x=m.x!=t?m.x:"";var _=m.group,w=v&&_&&(_.box||_.items&&_.items.length>0),y=m.ico,C=m.html||'<div class="x-icon">'+(y?/^<.+>$/.test(y)?y:'<img alt="" src="'+y+'">':"")+'</div><div class="x-text"'+(m.title?' title="'+m.title+'"':"")+">"+m.text+"</div>"+(w?'<div class="arrow"></div>':"");g.innerHTML=C,w&&o._tmp.push([_,b])}u.appendChild(g)}}return Q.body.appendChild(u),o},_getMenu:function(t){return this._menus[t]},_getSubMenu:function(e){var i=this._map_menu[e];return i!=t?this._getMenu(i):t},_getItem:function(t){return this._items[t]},getItem:function(e){var i=this._map_item[e];return i!=t?this._items[i]:t},setItemText:function(t,e){var i=this.getItem(t);if(i){i.data.text=e;var n=i.node.childNodes[1];n&&(n.innerHTML=e)}},processItems:function(t,e){var i=this;return a(t).forEach(function(t){var n=i.getItem(t);n&&e(n.node,n)}),i},_processItems:function(t,e,i){return this.processItems(t,function(t){e(t,i)})},enableItems:function(t){return this._processItems(t,c,"x-disabled")},disableItems:function(t){return this._processItems(t,d,"x-disabled")},showItems:function(t){return this._processItems(t,c,"hide")},hideItems:function(t){return this._processItems(t,d,"hide")},_setPos:function(i,n,o,s){var a=this,r=a.rangeX,l=a.rangeY,u=i.node,d=u.offsetWidth,c=u.offsetHeight,h=i.data||{},f=h.maxHeight;if(f){var v=Math.max(c,u.scrollHeight),p=v>f;u.style.height=p?f+"px":"auto",a.fixedWidth||(u.style.width=h.width+(p?17:0)+"px"),c=u.offsetHeight}return n==t&&(n=a.x||0),o==t&&(o=a.y||0),r&&n+d>r&&(n=r-d,s&&(n=n-s.offsetWidth+3)),l&&o+c>l&&(o=l-c-1),0>n&&(n=0),0>o&&(o=0),e(u,n,o),a.x=n,a.y=o,a},_showSub:function(t,e,i){var n=this,o=n._getMenu(t),s=n._getSubMenu(e);if(s){var a=o.node,u=s.node,d=l(i),c=+r(a,"zIndex"),h=+r(u,"zIndex");c>=h&&(u.style.zIndex=c+1),n._setPos(s,d.left+i.offsetWidth-2,d.top,a)}return n.i=t,n.j=e,n},_inactive:function(t){var e=this._getItem(t);return e&&c(e.node,"x-on"),this},_hideSub:function(t,e){var i=this;if(t<=i.i&&e!=i.j){var n,o=i._menus;for(n=o.length-1;n>t;n--)i._hide(o[n]);if(t<i.i)for(n=i.i;n>t;n--){var s=i._getMenu(n);i._inactive(s.j)}}return t==i.i&&e!=i.j&&i._getSubMenu(i.j)&&i._inactive(i.j),i},_hide:function(t){if(t){var i=t.node;i.style.left!=p&&e(i,p,p)}return this},show:function(t,e){return this._setPos(this._menus[0],t,e)},hide:function(){var e=this;return e._menus.forEach(function(t){e._hide(t)}),e._active!=t&&(e._inactive(e._active),e._active=t),e},isHidden:function(){var t=this,e=t.box,i=parseFloat(e.style.left),n=parseFloat(e.style.top);return i<=-e.offsetWidth||n<=-e.offsetHeight},toggle:function(t,e){return this.isHidden()?this.show(t,e):this.hide()},destroy:function(){var t=this;return t._e0&&t._e0.off(),t._e1&&t._e1.off(),t._menus.forEach(function(t){t.node.innerHTML="",$(t.node).remove()}),Object.forEach(t,function(e){t[e]=null}),t}}),Q.ContextMenu=i}(),function(t){"use strict";function e(t){t=t||{};var e=this;e.box=t.box,e.items=t.items||[],e.multiple=t.multiple,e.canInput=t.canInput,e.textProp=t.textProp||"text",e.value=t.value,e.index=t.index||0,e.ops=t}var i=window.document,n=Q.def,o=Q.fire,s=Q.isObject,a=Q.getFirst,r=Q.getLast,l=Q.width,u=l,d=Q.hasClass,c=Q.addClass,h=Q.removeClass,f=Q.createEle,v=Q.factory,p=Q.ie,x=Q.event;v(e).extend({init:function(){var t=this,e=t.ops,n=t.box,s=!t.multiple,l=t.canInput,h=e.placeholder,f=(s?'<div class="x-sel-tag">'+(l?'<input type="text" class="x-sel-text"'+(h?' placeholder="'+h+'"':"")+" />":'<div class="x-sel-text"></div>')+'<div class="x-sel-arrow"><div class="arrow arrow-down"></div></div></div>':"")+'<div class="x-panel x-sel-list'+(s?"":" x-sel-multiple")+'"></div>';c(n,"x-sel"),n.innerHTML=f;var v,m,g,b=r(n);u(b,e.width||n.offsetWidth-2),s&&(v=a(n),m=a(v),g=r(v),t.elText=m,t.elArrow=g),t.elList=b;var _;return s?(e.autoHide!==!1&&x.add(i,"mousedown",function(){t.hide()}),x.add(l?g:n,"mousedown",function(e){return t.toggle(),!1}),_={mousedown:x.stop,mouseup:function(e){var i=this.x,n=t.items[i];o(t.onclick,t,n,i),n.disabled||(t.hide(),i!=t.index&&t.select(i))},mouseenter:function(){var e=this.x,i=t.items[e];i.disabled||t.active(e)}}):(t.selectedItems=[],t.seletedMap={},_={mousedown:function(e){var i=this;if(!d(i,"x-disabled")){var n=this.x,o=t.selectedItems[0],s=e.shiftKey,a=e.ctrlKey;if(!s&&a||t.clearSelect(),s){var r=o?o.index:n,l=n;r>l&&(l=r,r=n);for(var u=r;l>=u;u++)t.active(u)}else a&&t.seletedMap[n]?t.inactive(n):t.select(n)}}},10>p&&(_.selectstart=x.stop)),x.add(b,_,".x-item"),t.draw()},draw:function(){var t=this,e=t.ops,i=t.items,n=t.elList,o=e.hasTitle,s=e.maxHeight,a={};if(n.innerHTML="",i.forEach(function(t,e){t.index=e,a[t.value]=t;var i=t.text||"",s=f("div","x-item"+(t.group?" x-sel-group":t.disabled?" x-disabled":""),i);o&&(s.title=t.title||i.toText()),s.x=e,t.node=s,n.appendChild(s)}),t.map=a,s){var r=n.offsetHeight;r>s&&(n.style.height=s)}var l=t.value,u=t.index;if(l){var d=t.find(l);d&&(u=d.index)}return t.select(u),t.multiple?t:t.hide()},add:function(t,e,i){return this.items.push(s(t)?t:{text:t,value:e,title:i}),this},find:function(t){return this.map[t]},clearSelect:function(){var t=this,e=function(t){t.node&&h(t.node,"selected")};return t.multiple?(t.selectedItems.forEach(e),t.selectedItems=[],t.seletedMap={}):e({node:t._el}),t},active:function(t){var e=this,i=e.items[t];if(!i)return e;var n,o=i.node;return e.multiple?i.disabled||e.seletedMap[t]||(e.selectedItems.push(i),e.seletedMap[t]=!0,n=!0):(e.clearSelect(),n=!0,e._el=o),n&&c(o,"selected"),this},inactive:function(e){var i=this,n=i.items[e];return i.multiple&&(i.selectedItems=i.selectedItems.filter(function(t){return t.index!=e}),i.seletedMap[e]=t),h(n.node,"selected"),i},select:function(t,e){var i=this,s=i.items,a=s[t];return a?(i.text=n(a.text,""),i.value=n(a.value,""),i.elText&&(i.elText[i.canInput?"value":"innerHTML"]=i[i.textProp]),i.active(t),e||t==i.index||o(i.onchange,i,a,t),i.index=t,i):i},show:function(){return this.elList.style.display="",this.select(this.index)},hide:function(){return this.elList.style.display="none",this},toggle:function(){return"none"==this.elList.style.display?this.show():this.hide()},getText:function(){return this.canInput?this.elText.value:this.text}}),Q.DropdownList=e}(),function(t){"use strict";function e(t,e,i){var n=[1];if(1==e)return n;var o,s=2;if(t>=e)o=e;else{var a=(t-5)/2;a+3>=i?o=t-2:i>e-a-3?(s=e-t+3,o=e-1):(s=i-~~a,o=s+t-5)}s>2&&n.push(0);for(var r=s;o>=r;r++)n.push(r);return e>t&&(e-1>o&&n.push(0),n.push(e)),n}function i(e){var i=this;if(i.ops=e,i.size=e.size||9,i.cache={},e.href==t){var n=e.boxNav;n&&$(n).on("click","li",function(){i.go($(this).attr("x")),i.onclick&&i.onclick.call(i,i.page)})}else e.cache=e.preload=!1;i.set(e.totalCount,e.pageSize||10).setData(e.data).go(e.page)}var n=Q.factory;n(i).extend({set:function(e,i){var n=this;return e!=t&&(n.totalCount=e),i!=t&&(n.pageSize=i),n.totalCount!=t&&(n.totalPage=Math.ceil(n.totalCount/n.pageSize)),n},setData:function(t){return t&&(this.data=t,this.set(t.length)),this},_load:function(e,i){var n=this,o=n.ops,s=n.onload;n.page=e;var a=function(t){return s&&s.call(n,t),i&&i.call(n,t),n};if(!o.load){var r=n.pageSize,l=(e-1)*r;return a(n.data.slice(l,l+r))}var u=o.cache?n.cache[e]:t;return u?a(u):(o.load(e,function(t){u=t.data||[],o.cache&&(n.cache[e]=u),n.set(t.totalCount,t.pageSize),a(u)}),n)},load:function(t){return this._load(t,this.draw)},reload:function(t){return this.load(t||this.page)},go:function(e,i){var n=this;return isNaN(e)?n:(e=+e,n.totalPage!=t&&e>n.totalPage&&(e=n.totalPage),1>e&&(e=1),e!=n.page||i?(n.load(e),n.ops.load&&n.ops.preload&&n._load(e+1),n.onchange&&n.onchange.call(n,e),n):n)},drawNav:function(){var i=this,n=i.ops,o=n.boxNav;if(!o)return i;var s=i.totalCount,a=i.pageSize,r=i.totalPage,l=i.page,u=n.href,d=n.text||{},c=e(i.size,r,l);u!=t&&(u+=-1!=u.indexOf("?")?"&":"?");var h=function(t,e,i){return i||(i=t==l?"on":t?"":"skip"),"<li"+(i?' class="'+i+'"':"")+' x="'+t+'">'+(u?"<a"+(t?' href="'+u+"page="+t+'"':"")+">"+e+"</a>":e)+"</li>"},f=n.drawSize||function(t,e,i){return e+"/"+i},v='<div class="inline-block pager-bar'+(u?" pager-link":"")+'"><ul>'+h(Math.max(l-1,1),d.prev||"&lt;上一页","prev")+c.map(function(t){return h(t,t||"…")}).join("")+h(Math.min(l+1,r),d.next||"下一页&gt;","next")+"</ul></div>"+(n.showSize!==!1?'<div class="inline-block pager-count">'+f(i,'每页<span class="page-size">'+a+"</span>条",'共<span class="total-count">'+s+"</span>条数据")+"</div>":"");$(o).html(v)},draw:function(t){return this.drawNav(),this.ops.draw.call(this,t),this}}),Q.DataPager=i}(),function(){"use strict";function t(t){t=t||{};var e=this,i=t.context,a=t.tabs||s(".tab-title li.tab,.tabTitle>li",i),r=t.conts||s(".tab-cont>.turn-box,.tabCont>.turn-box",i);e.tabs=a,e.conts=r,e.map_loaded={},e.map_index={},a.forEach(function(i,s){"1"==i.getAttribute("x-def")&&(t.index=s);var a=n(i);if(a){var r=a.href.split("#")[1]||"",l=o(r).nav;l&&(e.map_index[l]=s)}}),a.forEach(function(t,i){$(t).hasClass("skip")||$(t).click(function(){e.showTab(i)})}),$(r).hide(),setTimeout(function(){var i=o().nav.slice(1)||t.hash,n=e.map_index[i];void 0==n&&(n=t.index||0),e.showTab(n)},20)}function e(e){return new t(e)}var i=Q.async,n=Q.getFirst,o=Q.parseHash,s=$.find;Q.factory(t).extend({getTab:function(t){return this.tabs[t]},getCont:function(t){return this.conts[t]},hasLoaded:function(t){return!!this.map_loaded[t]},showTab:function(t){var e=this,n=e.index;if(t!==n){if(void 0!==n){var o=e.getTab(n),s=e.getCont(n);$(o).removeClass("on"),$(s).hide()}var a=e.getTab(t),r=e.getCont(t),l=e.map_loaded;$(a).addClass("on"),$(r).show(),e.index=t;var u={index:t,tab:a,cont:r,loaded:l[t]};i(e.onchange,100,u),i(window.onTabChange,200,u),l[t]||(l[t]=!0)}}}),Q.Tabs=t,Q.setTabs=e}(),function(t){"use strict";function e(t){t=t||{};var e=t.box,o=n("div","range-slider-bar"),a=n("div","range-progress"),r=n("div","range-slider");o.appendChild(a),o.appendChild(r),e.appendChild(o);var l=this;l._elBar=o,l._elProgress=a,l._elSlider=r,l.min=+t.min||0,l.max=+t.max||100,l.step=+t.step||1,l.value=+t.value||0;var u=l.step+"",d=u.lastIndexOf("."),c=-1!=d?u.length-d-1:0,h=Math.pow(10,c);l.onchange=t.onchange,l.val(l.value),l._drag=new s(function(){var t,e,n,s,u=this;u.ops={ele:r,autoCursor:!1},u.doDown=function(i){t=o.offsetWidth,e=a.offsetWidth,n=i.clientX,s=t-r.offsetWidth},u.doMove=function(o){var u=o.clientX-n,d=e+u;0>d?d=0:d>t&&(d=t);var c=~~(d*(l.max-l.min)/(t*l.step)),f=(l.min*h+l.step*h*c)/h;a.style.width=100*d/t+"%",r.style.left=100*Math.min(d,s)/t+"%",f!=l.value&&(l.value=f,i(l.onchange,l,l.value))}})}var i=Q.fire,n=Q.createEle,o=Q.factory,s=Q.DragX;o(e).extend({val:function(e){var i=this;if(e==t)return i.value;e<i.min?e=i.min:e>i.max&&(e=i.max);var n=i._elProgress,o=i._elSlider,s=i._elBar.offsetWidth;return i.value=e,n.style.width=100*e/(i.max-i.min)+"%",o.style.left=100*Math.min(n.offsetWidth,s-o.offsetWidth)/s+"%",i}}),Q.RangeSlider=e}();